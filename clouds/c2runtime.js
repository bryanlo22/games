// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa=void 0,l=!0,m=null,p=!1;function q(){return function(){}}function ba(a){return function(b){this[a]=b}}function v(a){return function(){return this[a]}}function x(a){return function(){return a}}var z,da,ea,F,J,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,K,qa,ra,L,sa,ta,ua,va,wa,xa,ya,za,Aa,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
function Xa(a,b,c,d){this.set(a,b,c,d)}function Ya(){this.Zb=this.Yb=this.ac=this.$b=this.kc=this.jc=this.fb=this.eb=0}function Za(){this.pf={};this.Qh=0;this.bk=[];this.ej=l}function $a(){this.Pd=this.Tl=this.y=this.h=0}function ab(a){this.hc=[];this.Ro(a)}da=function(a){console&&console.log&&console.log(a)};ea=function(a){return"undefined"===typeof a};F=function(a){return"number"===typeof a};J=function(a){return"string"===typeof a};fa=function(a){return 0<a&&0===(a-1&a)};
ga=function(a){return 0>a?-a:a};ha=function(a,b){return a>b?a:b};ia=function(a,b){return a<b?a:b};ja=Math.PI;ka=function(a){return a|0};la=function(a,b,c,d,e,f,g,h){if(ha(a,c)<ia(e,g)||ia(a,c)>ha(e,g)||ha(b,d)<ia(f,h)||ia(b,d)>ha(f,h))return p;var i=e-a+g-c,j=f-b+h-d,a=c-a,b=d-b,e=g-e,f=h-f,h=ga(b*e-f*a);return ga(e*j-f*i)<=h&&ga(a*j-b*i)<=h};z=Xa.prototype;z.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};z.width=function(){return this.right-this.left};
z.height=function(){return this.bottom-this.top};z.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};z.xv=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};z.ud=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};z=Ya.prototype;z.Qo=function(a){this.eb=a.left;this.fb=a.top;this.jc=a.right;this.kc=a.top;this.$b=a.right;this.ac=a.bottom;this.Yb=a.left;this.Zb=a.bottom};
z.hs=function(a,b){if(0===b)this.Qo(a);else{var c=Math.sin(b),d=Math.cos(b),e=a.left*c,f=a.top*c,g=a.right*c,c=a.bottom*c,h=a.left*d,i=a.top*d,j=a.right*d,d=a.bottom*d;this.eb=h-f;this.fb=i+e;this.jc=j-f;this.kc=i+g;this.$b=j-c;this.ac=d+g;this.Yb=h-c;this.Zb=d+e}};z.offset=function(a,b){this.eb+=a;this.fb+=b;this.jc+=a;this.kc+=b;this.$b+=a;this.ac+=b;this.Yb+=a;this.Zb+=b;return this};
z.cq=function(a){a.left=ia(ia(this.eb,this.jc),ia(this.$b,this.Yb));a.top=ia(ia(this.fb,this.kc),ia(this.ac,this.Zb));a.right=ha(ha(this.eb,this.jc),ha(this.$b,this.Yb));a.bottom=ha(ha(this.fb,this.kc),ha(this.ac,this.Zb))};
z.ud=function(a,b){var c=this.jc-this.eb,d=this.kc-this.fb,e=this.$b-this.eb,f=this.ac-this.fb,g=a-this.eb,h=b-this.fb,i=c*c+d*d,j=c*e+d*f,d=c*g+d*h,k=e*e+f*f,n=e*g+f*h,r=1/(i*k-j*j),c=(k*d-j*n)*r,i=(i*n-j*d)*r;if(0<=c&&0<i&&1>c+i)return l;c=this.Yb-this.eb;d=this.Zb-this.fb;i=c*c+d*d;j=c*e+d*f;d=c*g+d*h;r=1/(i*k-j*j);c=(k*d-j*n)*r;i=(i*n-j*d)*r;return 0<=c&&0<i&&1>c+i};
z.Qf=function(a,b){switch(a){case 0:return b?this.eb:this.fb;case 1:return b?this.jc:this.kc;case 2:return b?this.$b:this.ac;case 3:return b?this.Yb:this.Zb;case 4:return b?this.eb:this.fb;default:return b?this.eb:this.fb}};z.ah=function(){return(this.eb+this.jc+this.$b+this.Yb)/4};z.bh=function(){return(this.fb+this.kc+this.ac+this.Zb)/4};
z.wv=function(a){var b=a.ah(),c=a.bh();if(this.ud(b,c))return l;b=this.ah();c=this.bh();if(a.ud(b,c))return l;var d,e,f,g,h,i,j,k;for(j=0;4>j;j++)for(k=0;4>k;k++)if(b=this.Qf(j,l),c=this.Qf(j,p),d=this.Qf(j+1,l),e=this.Qf(j+1,p),f=a.Qf(k,l),g=a.Qf(k,p),h=a.Qf(k+1,l),i=a.Qf(k+1,p),la(b,c,d,e,f,g,h,i))return l;return p};ma=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};
na=function(a,b){var c,d,b=ka(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};oa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};pa=function(a,b){var c=a.indexOf(b);-1!==c&&na(a,c)};K=function(a){return a/(180/ja)};qa=function(a){return a*(180/ja)};ra=function(a){a%=360;0>a&&(a+=360);return a};L=function(a){a%=2*ja;0>a&&(a+=2*ja);return a};sa=function(a){return ra(qa(a))};ta=function(a){return L(K(a))};
ua=function(a,b,c,d){return Math.atan2(d-b,c-a)};va=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b),c=c*e+d*f;return 1<=c?0:-1>=c?ja:Math.acos(c)};wa=function(a,b,c){var d=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(d*f+e*g)>c?0<e*f-d*g?L(a+c):L(a-c):L(b)};xa=function(a,b){var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b);return 0>=d*e-c*f};ya=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};
za=function(a,b){return!a!==!b};Aa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};Da=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};z=Za.prototype;z.contains=function(a){return this.pf.hasOwnProperty(a.toString())};
z.add=function(a){var b=a.toString();this.pf.hasOwnProperty(b)||(this.pf[b]=a,this.Qh++,this.ej=p);return this};z.remove=function(a){a=a.toString();this.pf.hasOwnProperty(a)&&(delete this.pf[a],this.Qh--,this.ej=p);return this};z.clear=function(){Aa(this.pf);this.Qh=0;this.bk.length=0;this.ej=l;return this};z.sj=function(){return 0===this.Qh};z.count=v("Qh");
z.Rw=function(){if(!this.ej){this.bk.length=this.Qh;var a,b=0;for(a in this.pf)this.pf.hasOwnProperty(a)&&(this.bk[b++]=this.pf[a]);this.ej=l}};z.qg=function(){this.Rw();return this.bk};$a.prototype.add=function(a){this.y=a-this.h;this.Tl=this.Pd+this.y;this.h=this.Tl-this.Pd-this.y;this.Pd=this.Tl};$a.prototype.reset=function(){this.Pd=this.Tl=this.y=this.h=0};Ea=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};z=ab.prototype;
z.Ro=function(a){this.Xr=a;this.Re=a.length/2;this.hc.length=a.length;this.Bk=this.fj=-1;this.dq=0};z.Oh=function(){return!this.Xr.length};z.Ql=function(a,b,c,d,e){this.hc.length=8;this.Re=4;var f=this.hc;f[0]=a.eb-b;f[1]=a.fb-c;f[2]=a.jc-b;f[3]=a.kc-c;f[4]=a.$b-b;f[5]=a.ac-c;f[6]=a.Yb-b;f[7]=a.Zb-c;this.fj=d;this.Bk=e};z.gs=function(a){this.Re=a.Re;oa(this.hc,a.hc)};
z.Ch=function(a,b,c){if(!(this.fj===a&&this.Bk===b&&this.dq===c)){this.fj=a;this.Bk=b;this.dq=c;var d,e,f,g=0,h=1,i=this.Xr,j=this.hc;0!==c&&(g=Math.sin(c),h=Math.cos(c));c=0;for(d=this.Re;c<d;c++)e=i[2*c]*a,f=i[2*c+1]*b,j[2*c]=e*h-f*g,j[2*c+1]=f*h+e*g}};
z.ud=function(a,b){var c=this.hc;if(a===c[0]&&b===c[1])return l;var d=5*-this.fj-1,e=5*-this.Bk-1,f=5*this.fj+1,g,h,i,j,k,n,r=0,s=0;k=0;for(n=this.Re;k<n;k++)g=c[2*k],h=c[2*k+1],i=c[2*((k+1)%n)],j=c[2*((k+1)%n)+1],la(d,e,a,b,g,h,i,j)&&r++,la(f,-1,a,b,g,h,i,j)&&s++;return 1===r%2||1===s%2};
z.Wq=function(a,b,c){var d=a.hc,e=this.hc;if(this.ud(d[0]+b,d[1]+c)||a.ud(e[0]-b,e[1]-c))return l;var f,g,h,i,j,k,n,r,s,t,u,w;f=0;for(g=this.Re;f<g;f++){j=e[2*f];k=e[2*f+1];n=e[2*((f+1)%g)];r=e[2*((f+1)%g)+1];h=0;for(i=a.Re;h<i;h++)if(s=d[2*h]+b,t=d[2*h+1]+c,u=d[2*((h+1)%i)]+b,w=d[2*((h+1)%i)+1]+c,la(j,k,n,r,s,t,u,w))return l}return p};var bb="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Fa=function(a){return 0>=a||11<=a?"source-over":bb[a-1]};
Ga=function(a,b,c){if(c)switch(a.tc=c.ONE,a.nc=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.tc=c.ONE;a.nc=c.ONE;break;case 3:a.tc=c.ONE;a.nc=c.ZERO;break;case 4:a.tc=c.ONE_MINUS_DST_ALPHA;a.nc=c.ONE;break;case 5:a.tc=c.DST_ALPHA;a.nc=c.ZERO;break;case 6:a.tc=c.ZERO;a.nc=c.SRC_ALPHA;break;case 7:a.tc=c.ONE_MINUS_DST_ALPHA;a.nc=c.ZERO;break;case 8:a.tc=c.ZERO;a.nc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.tc=c.DST_ALPHA;a.nc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.tc=c.ONE_MINUS_DST_ALPHA,a.nc=c.SRC_ALPHA}};
Ha=function(a){return Math.round(1E6*a)/1E6};var cb="undefined"!==typeof Float32Array?Float32Array:Array;function db(a){var b=new cb(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function eb(a){var b=new cb(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function fb(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function ib(a,b){var c=b[0],d=b[1],b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function jb(a,b,c,d){d||(d=eb());var e,f,g,h,i,j,k,n,r=a[0],s=a[1],a=a[2];f=c[0];g=c[1];e=c[2];c=b[1];j=b[2];r===b[0]&&s===c&&a===j?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=r-b[0],j=s-b[1],k=a-b[2],n=1/Math.sqrt(c*c+j*j+k*k),c*=n,j*=n,k*=n,b=g*k-e*j,e=e*c-f*k,f=f*j-g*c,(n=Math.sqrt(b*b+e*e+f*f))?(n=1/n,b*=n,e*=n,f*=n):f=e=b=0,g=j*f-k*e,h=k*b-c*f,i=c*e-j*b,(n=Math.sqrt(g*g+h*h+i*i))?(n=1/n,g*=n,h*=n,i*=n):i=h=g=0,
d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=h,d[6]=j,d[7]=0,d[8]=f,d[9]=i,d[10]=k,d[11]=0,d[12]=-(b*r+e*s+f*a),d[13]=-(g*r+h*s+i*a),d[14]=-(c*r+j*s+k*a),d[15]=1)}function kb(a){this.height=this.width=0;this.fq=db([0,0,100]);this.or=db([0,0,0]);this.ys=db([0,1,0]);this.qp=db([1,1,1]);this.ao=eb();this.Gd=eb();this.er=eb();this.Pm=eb();this.Y=a;this.Tq()}
function lb(a,b,c){this.Y=a;this.Xj=b;this.name=c;this.Bd=a.getAttribLocation(b,"aPos");this.Wf=a.getAttribLocation(b,"aTex");this.mr=a.getUniformLocation(b,"matP");this.ci=a.getUniformLocation(b,"matMV");this.di=a.getUniformLocation(b,"opacity");this.nr=a.getUniformLocation(b,"samplerFront");this.sl=a.getUniformLocation(b,"samplerBack");this.bi=a.getUniformLocation(b,"destStart");this.ai=a.getUniformLocation(b,"destEnd");this.Jn=a.getUniformLocation(b,"seconds");this.In=a.getUniformLocation(b,"pixelWidth");
this.Hn=a.getUniformLocation(b,"pixelHeight");this.Gn=a.getUniformLocation(b,"layerScale");this.di&&a.uniform1f(this.di,1);this.nr&&a.uniform1i(this.nr,0);this.sl&&a.uniform1i(this.sl,1);this.bi&&a.uniform2f(this.bi,0,0);this.ai&&a.uniform2f(this.ai,1,1);this.Jg=p}function mb(a,b){this.type=a;this.T=b;this.Y=b.Y;this.Fe=this.Md=this.Or=0;this.ca=this.nh=m;this.So=[]}function nb(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1}z=kb.prototype;
z.Tq=function(){var a=this.Y,b;this.fr=1;this.Og=m;this.rq=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.vy=a.getParameter(a.MAX_TEXTURE_SIZE);this.gr=a.ONE;this.cr=a.ONE_MINUS_SRC_ALPHA;this.so=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.so);this.gk=Array(4);this.$j=Array(4);for(b=0;4>b;b++)this.gk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.gk[b]),this.$j[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.$j[b]);this.ff=0;this.uv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.uv);this.mp=new Float32Array(16E3);this.ap=new Float32Array(16E3);this.rw=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.to=this.Ze=0;this.Nb=[];b=this.Km({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.Nb.push(b);b=this.Km({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.Nb.push(b);for(var e in ob)ob.hasOwnProperty(e)&&this.Nb.push(this.Km(ob[e],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,m);this.Rf=[];this.bf=0;this.yd=this.Pc=p;this.sq=this.yj=-1;this.hj=m;this.Lu=a.createFramebuffer();this.bs=
m;this.og=db([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.wy=a[0];this.uy=a[1];this.We(0)};
z.Km=function(a,b,c){var d=this.Y,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),m;var f=d.createShader(d.VERTEX_SHADER);d.shaderSource(f,b);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(f),m;b=d.createProgram();d.attachShader(b,e);d.attachShader(b,f);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(f),
d.deleteProgram(b),m;d.useProgram(b);d.validateProgram(b);d.deleteShader(e);d.deleteShader(f);c=new lb(d,b,c);c.Wm=a.Wm||0;c.Xm=a.Xm||0;c.pq=!!a.pq;c.Zp=!!a.Zp;c.V=a.V||[];a=0;for(e=c.V.length;a<e;a++)c.V[a][1]=d.getUniformLocation(b,c.V[a][0]),d.uniform1f(c.V[a][1],0);return c};z.hn=function(a){var b,c;b=0;for(c=this.Nb.length;b<c;b++)if(this.Nb[b].name===a)return b;return-1};
z.Wr=function(a,b,c){var d=[0,0,this.width,this.height],e=this.Gd,f=this.ao,g=[0,0,0,0,0,0,0,0];g[0]=e[0]*a+e[4]*b+e[12];g[1]=e[1]*a+e[5]*b+e[13];g[2]=e[2]*a+e[6]*b+e[14];g[3]=e[3]*a+e[7]*b+e[15];g[4]=f[0]*g[0]+f[4]*g[1]+f[8]*g[2]+f[12]*g[3];g[5]=f[1]*g[0]+f[5]*g[1]+f[9]*g[2]+f[13]*g[3];g[6]=f[2]*g[0]+f[6]*g[1]+f[10]*g[2]+f[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],c[0]=(0.5*g[4]+0.5)*d[2]+d[0],c[1]=(0.5*g[5]+0.5)*d[3]+d[1])};
z.Oo=function(a,b,c){if(!(this.width===a&&this.height===b&&!c)){this.Uf();this.width=a;this.height=b;this.Y.viewport(0,0,a,b);var b=a/b,d=this.ao,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=eb());var f=b-a,g=e-c;d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/g;d[6]=0;d[7]=0;d[8]=(b+a)/f;d[9]=(e+c)/g;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;jb(this.fq,this.or,this.ys,this.Gd);a=[0,0];b=[0,0];this.Wr(0,0,a);this.Wr(1,1,b);this.qp[0]=1/(b[0]-a[0]);this.qp[1]=-1/(b[1]-a[1]);
a=0;for(b=this.Nb.length;a<b;a++)c=this.Nb[a],c.Jg=p,c.mr&&(this.Y.useProgram(c.Xj),this.Y.uniformMatrix4fv(c.mr,p,this.ao));this.Y.useProgram(this.Nb[this.yj].Xj);this.Y.bindTexture(this.Y.TEXTURE_2D,m);this.Og=m}};z.Ve=function(){jb(this.fq,this.or,this.ys,this.Gd);ib(this.Gd,this.qp)};
z.translate=function(a,b){if(!(0===a&&0===b)){this.og[0]=a;this.og[1]=b;this.og[2]=0;var c=this.Gd,d=this.og,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12];c[13]=c[1]*e+c[5]*f+c[9]*d+c[13];c[14]=c[2]*e+c[6]*f+c[10]*d+c[14];c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}};z.scale=function(a,b){1===a&&1===b||(this.og[0]=a,this.og[1]=b,this.og[2]=1,ib(this.Gd,this.og))};
z.Jo=function(a){if(0!==a){var b=this.Gd,c,d=Math.sin(a),a=Math.cos(a),e=b[0],f=b[1],g=b[2],h=b[3],i=b[4],j=b[5],k=b[6],n=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+i*d;c[1]=f*a+j*d;c[2]=g*a+k*d;c[3]=h*a+n*d;c[4]=e*-d+i*a;c[5]=f*-d+j*a;c[6]=g*-d+k*a;c[7]=h*-d+n*a}};
z.Ye=function(){for(var a=p,b=0;16>b;b++)if(this.er[b]!==this.Gd[b]){a=l;break}a&&(a=this.le(),a.type=5,a.ca?fb(this.Gd,a.ca):a.ca=eb(this.Gd),fb(this.Gd,this.er),this.yd=this.Pc=p)};z=mb.prototype;z.hu=function(){this.Y.bindTexture(this.Y.TEXTURE_2D,this.nh)};z.eu=function(){var a=this.Or,b=this.T;b.rq=a;b=b.hj;b.di&&this.Y.uniform1f(b.di,a)};z.bu=function(){this.Y.drawElements(this.Y.TRIANGLES,this.Fe,this.Y.UNSIGNED_SHORT,2*this.Md)};z.du=function(){this.Y.blendFunc(this.Md,this.Fe)};
z.ju=function(){var a,b,c,d=this.T.Nb,e=this.T.sq;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.ci?(this.Y.uniformMatrix4fv(c.ci,p,this.ca),c.Jg=l):c.Jg=p;fb(this.ca,this.T.Pm)};z.cu=function(){var a=this.Y,b=this.T;this.nh?(a.bindFramebuffer(a.FRAMEBUFFER,b.Lu),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.nh,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,m,0),a.bindFramebuffer(a.FRAMEBUFFER,m))};
z.Xt=function(){var a=this.Y;0===this.Md?(a.clearColor(this.ca[0],this.ca[1],this.ca[2],this.ca[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ca[0],this.ca[1],this.ca[2],this.ca[3]),a.clearColor(0,0,0,0),a.clear(this.Y.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};
z.au=function(){var a=this.Y,b=this.T,c=b.Nb[1];a.useProgram(c.Xj);!c.Jg&&c.ci&&(a.uniformMatrix4fv(c.ci,p,b.Pm),c.Jg=l);a.enableVertexAttribArray(c.Bd);a.bindBuffer(a.ARRAY_BUFFER,b.so);a.vertexAttribPointer(c.Bd,4,a.FLOAT,p,0,0);a.drawArrays(a.POINTS,this.Md/4,this.Fe);c=b.hj;a.useProgram(c.Xj);0<=c.Bd&&(a.enableVertexAttribArray(c.Bd),a.bindBuffer(a.ARRAY_BUFFER,b.gk[b.ff]),a.vertexAttribPointer(c.Bd,2,a.FLOAT,p,0,0));0<=c.Wf&&(a.enableVertexAttribArray(c.Wf),a.bindBuffer(a.ARRAY_BUFFER,b.$j[b.ff]),
a.vertexAttribPointer(c.Wf,2,a.FLOAT,p,0,0))};z.fu=function(){var a=this.Y,b=this.T,c=b.Nb[this.Md];b.sq=this.Md;b.hj=c;a.useProgram(c.Xj);!c.Jg&&c.ci&&(a.uniformMatrix4fv(c.ci,p,b.Pm),c.Jg=l);c.di&&a.uniform1f(c.di,b.rq);0<=c.Bd&&(a.enableVertexAttribArray(c.Bd),a.bindBuffer(a.ARRAY_BUFFER,b.gk[b.ff]),a.vertexAttribPointer(c.Bd,2,a.FLOAT,p,0,0));0<=c.Wf&&(a.enableVertexAttribArray(c.Wf),a.bindBuffer(a.ARRAY_BUFFER,b.$j[b.ff]),a.vertexAttribPointer(c.Wf,2,a.FLOAT,p,0,0))};
z.gu=function(){var a,b,c=this.T.hj,d=this.Y;c.sl&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.nh),d.activeTexture(d.TEXTURE0));c.In&&d.uniform1f(c.In,this.ca[0]);c.Hn&&d.uniform1f(c.Hn,this.ca[1]);c.bi&&d.uniform2f(c.bi,this.ca[2],this.ca[3]);c.ai&&d.uniform2f(c.ai,this.ca[4],this.ca[5]);c.Gn&&d.uniform1f(c.Gn,this.ca[6]);c.Jn&&d.uniform1f(c.Jn,Da()/1E3);if(c.V.length){a=0;for(b=c.V.length;a<b;a++)d.uniform1f(c.V[a][1],this.So[a])}};z=kb.prototype;
z.le=function(){this.bf===this.Rf.length&&this.Rf.push(new mb(0,this));return this.Rf[this.bf++]};
z.Uf=function(){if(0!==this.bf&&!this.Y.isContextLost()){var a=this.Y;0<this.to&&(a.bindBuffer(a.ARRAY_BUFFER,this.so),a.bufferData(a.ARRAY_BUFFER,this.rw.subarray(0,this.to),a.STREAM_DRAW),b&&(0<=b.Bd&&"<point>"===b.name)&&a.vertexAttribPointer(b.Bd,4,a.FLOAT,p,0,0));if(0<this.Ze){var b=this.hj;a.bindBuffer(a.ARRAY_BUFFER,this.gk[this.ff]);a.bufferData(a.ARRAY_BUFFER,this.mp.subarray(0,this.Ze),a.STREAM_DRAW);b&&(0<=b.Bd&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Bd,2,a.FLOAT,p,0,0);a.bindBuffer(a.ARRAY_BUFFER,
this.$j[this.ff]);a.bufferData(a.ARRAY_BUFFER,this.ap.subarray(0,this.Ze),a.STREAM_DRAW);b&&(0<=b.Wf&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Wf,2,a.FLOAT,p,0,0)}for(var c,a=0,b=this.bf;a<b;a++)switch(c=this.Rf[a],c.type){case 1:c.bu();break;case 2:c.hu();break;case 3:c.eu();break;case 4:c.du();break;case 5:c.ju();break;case 6:c.cu();break;case 7:c.Xt();break;case 8:c.au();break;case 9:c.fu();break;case 10:c.gu()}this.to=this.Ze=this.bf=0;this.yd=this.Pc=p;this.ff++;4<=this.ff&&(this.ff=0)}};
z.jh=function(a){if(a!==this.fr){var b=this.le();b.type=3;this.fr=b.Or=a;this.yd=this.Pc=p}};z.nd=function(a){if(a!==this.Og){var b=this.le();b.type=2;this.Og=b.nh=a;this.yd=this.Pc=p}};z.ig=function(a,b){if(!(a===this.gr&&b===this.cr)){var c=this.le();c.type=4;c.Md=a;c.Fe=b;this.gr=a;this.cr=b;this.yd=this.Pc=p}};z.fs=function(){this.ig(this.Y.ONE,this.Y.ONE_MINUS_SRC_ALPHA)};
z.Ll=function(a,b,c,d,e,f,g,h){15992<=this.Ze&&this.Uf();var i=this.Ze,j=this.mp,k=this.ap;if(this.Pc)this.Rf[this.bf-1].Fe+=6;else{var n=this.le();n.type=1;n.Md=3*(i/4);n.Fe=6;this.Pc=l;this.yd=p}j[i]=a;k[i++]=0;j[i]=b;k[i++]=0;j[i]=c;k[i++]=1;j[i]=d;k[i++]=0;j[i]=e;k[i++]=1;j[i]=f;k[i++]=1;j[i]=g;k[i++]=0;j[i]=h;k[i++]=1;this.Ze=i};
z.Te=function(a,b,c,d,e,f,g,h,i){15992<=this.Ze&&this.Uf();var j=this.Ze,k=this.mp,n=this.ap;if(this.Pc)this.Rf[this.bf-1].Fe+=6;else{var r=this.le();r.type=1;r.Md=3*(j/4);r.Fe=6;this.Pc=l;this.yd=p}k[j]=a;n[j++]=i.left;k[j]=b;n[j++]=i.top;k[j]=c;n[j++]=i.right;k[j]=d;n[j++]=i.top;k[j]=e;n[j++]=i.right;k[j]=f;n[j++]=i.bottom;k[j]=g;n[j++]=i.left;k[j]=h;n[j++]=i.bottom;this.Ze=j};
z.We=function(a){if(this.yj!==a){if(!this.Nb[a]){if(0===this.yj)return;a=0}var b=this.le();b.type=9;this.yj=b.Md=a;this.yd=this.Pc=p}};z.Uj=function(a){a=this.Nb[a];return!(!a.bi&&!a.ai)};z.wo=function(a){return this.Nb[a].pq};z.vw=function(a){a=this.Nb[a];return 0!==a.Wm||0!==a.Xm};z.Zu=function(a){return this.Nb[a].Wm};z.$u=function(a){return this.Nb[a].Xm};z.av=function(a,b){return this.Nb[a].V[b][2]};z.Kl=function(a){return this.Nb[a].Zp};
z.vi=function(a,b,c,d,e,f,g,h,i){var j=this.Nb[this.yj];if(j.In||j.Hn||j.Jn||j.sl||j.bi||j.ai||j.Gn||i.length){j=this.le();j.type=10;j.ca?fb(this.Gd,j.ca):j.ca=eb();j.ca[0]=b;j.ca[1]=c;j.ca[2]=d;j.ca[3]=e;j.ca[4]=f;j.ca[5]=g;j.ca[6]=h;j.nh=a;if(i.length){j.So.length=i.length;a=0;for(b=i.length;a<b;a++)j.So[a]=i[a]}this.yd=this.Pc=p}};z.clear=function(a,b,c,d){var e=this.le();e.type=7;e.Md=0;e.ca||(e.ca=eb());e.ca[0]=a;e.ca[1]=b;e.ca[2]=c;e.ca[3]=d;this.yd=this.Pc=p};
z.clearRect=function(a,b,c,d){var e=this.le();e.type=7;e.Md=1;e.ca||(e.ca=eb());e.ca[0]=a;e.ca[1]=b;e.ca[2]=c;e.ca[3]=d;this.yd=this.Pc=p};z.tw=function(){this.Uf();this.Y.flush()};var pb=[];z=kb.prototype;
z.ql=function(a,b,c,d){this.Uf();var e=this.Y,f=fa(a.width)&&fa(a.height),g=e.createTexture();e.bindTexture(e.TEXTURE_2D,g);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l);var h=e.RGBA,i=e.RGBA,j=e.UNSIGNED_BYTE;if(d)switch(d){case 1:i=h=e.RGB;break;case 2:j=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:j=e.UNSIGNED_SHORT_5_5_5_1;break;case 4:i=h=e.RGB,j=e.UNSIGNED_SHORT_5_6_5}!f&&b?(d=document.createElement("canvas"),d.width=nb(a.width),d.height=nb(a.height),d.getContext("2d").drawImage(a,0,0,a.width,
a.height,0,0,d.width,d.height),e.texImage2D(e.TEXTURE_2D,0,h,i,j,d)):e.texImage2D(e.TEXTURE_2D,0,h,i,j,a);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,b?e.REPEAT:e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,b?e.REPEAT:e.CLAMP_TO_EDGE);c?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),f?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,m);this.Og=m;g.dj=a.width;g.bj=a.height;pb.push(g);return g};
z.ef=function(a,b,c,d){this.Uf();var e=this.Y,f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,m);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,m);this.Og=m;f.dj=
a;f.bj=b;pb.push(f);return f};z.Vw=function(a,b,c){this.Uf();var d=this.Y;d.bindTexture(d.TEXTURE_2D,b);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,m);this.Og=m};z.deleteTexture=function(a){a&&(this.Uf(),this.Y.bindTexture(this.Y.TEXTURE_2D,m),this.Og=m,this.Y.deleteTexture(a),pa(pb,a))};z.Ff=function(a){if(a!==this.bs){var b=this.le();b.type=6;this.bs=b.nh=a;this.yd=this.Pc=p}};
function qb(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Mg="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Xd=!!a.dc;this.Mh="undefined"!==typeof window.AppMobi||this.Xd;if(this.Lg=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.Po(l)}),CocoonJS.App.onActivated.addEventListener(function(){b.Po(p)});this.cc=this.Xd||this.Lg;this.pn=/android/i.test(navigator.userAgent);
this.gy=/msie/i.test(navigator.userAgent);this.il=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.ar=/ipad/i.test(navigator.userAgent);this.Ng=this.il||this.ar;this.Xq=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Av=!this.Xq&&/safari/i.test(navigator.userAgent);this.Zq=/windows/i.test(navigator.userAgent);this.rn="undefined"!==typeof window.c2nodewebkit;this.zv="undefined"!==typeof window.is_scirra_arcade;this.devicePixelRatio=1;this.Nh=
this.Mg||this.Mh||this.Lg||this.pn||this.Ng;this.Nh||(this.Nh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));this.canvas=a;this.gq=document.getElementById("c2canvasdiv");this.Ka=this.T=this.Y=m;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return p};this.canvas.Nr=function(a){a.preventDefault&&a.preventDefault();return p};this.Xd&&(window.c2runtime=this);this.width=a.width;this.height=a.height;this.Wh=this.width;
this.Vh=this.height;this.Ia=l;this.tj=p;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.ha=[];this.ob=[];this.Cn={};this.Zh=[];this.Vm={};this.Cg=[];this.If=[];this.am=[];this.wm=[];this.ve=new Za;this.qn=p;this.cd=0;this.tn=p;this.ue=[];this.ax=this.Im=this.ul=this.Tf=this.ja=0;this.oh=1;this.Th=new $a;this.ml=0;this.Er=l;this.Hl=this.Rk=this.Mk=this.Ai=this.zj=this.bn=0;this.Dh=m;this.Ik=[];this.Um=[];this.Kk=-1;this.Kn=[[]];this.hp=this.tl=0;this.zo(m);this.hy=
[];this.iy=-1;this.Gl=0;this.Bn=l;this.jj=0;this.Yj=[];this.ep=this.Co=0;this.uj=l;this.rl=0;this.cl=p;this.Hw=0;this.Ig=p;this.fo=new Za;this.ho=new Za;this.as=[];this.mh=new ab([]);this.$o=new ab([]);this.vm=[];this.Tp={};this.Yd=this.ed=this.lr=this.ol=this.Ca=m;this.Fi=this.un=p;this.en=[m,m];this.dn=0;this.Aq="";this.Sl=this.$h=m;this.Fw="";this.load();this.devicePixelRatio=!this.cc&&this.dm&&this.Ng?window.devicePixelRatio||1:1;this.Yc();var c;"undefined"!==typeof jQuery&&0<this.jf&&this.setSize(jQuery(window).width(),
jQuery(window).height());try{if(this.lu&&!this.cc){c={depth:p,antialias:!this.Nh};var d=l;if(this.Xq&&this.Zq){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString())d=p}d&&(this.Y=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(f){}if(this.Y){this.Kc=document.createElement("canvas");jQuery(this.Kc).appendTo(this.canvas.parentNode);
this.Kc.oncontextmenu=x(p);this.Kc.Nr=x(p);this.Kc.width=a.width;this.Kc.height=a.height;this.Tr();this.po=this.Kc.getContext("2d");this.T=new kb(this.Y);this.T.Oo(a.width,a.height);this.Ka=m;this.canvas.addEventListener("webglcontextlost",function(a){console.log("WebGL context lost");a.preventDefault();b.iw();window.cr_setSuspended(l)},p);this.canvas.addEventListener("webglcontextrestored",function(){console.log("WebGL context restored");b.T.Tq();b.T.Oo(b.T.width,b.T.height,l);b.ed=m;b.Yd=m;b.en[0]=
m;b.en[1]=m;b.jw();b.Ia=l;window.cr_setSuspended(p)},p);var g,h,i,j,k,a=0;for(c=this.ha.length;a<c;a++){g=this.ha[a];d=0;for(e=g.La.length;d<e;d++)i=g.La[d],i.ic=this.T.hn(i.id),this.Fi=this.Fi||this.T.Uj(i.ic)}a=0;for(c=this.Zh.length;a<c;a++){j=this.Zh[a];d=0;for(e=j.La.length;d<e;d++)i=j.La[d],i.ic=this.T.hn(i.id);d=0;for(e=j.Sa.length;d<e;d++){k=j.Sa[d];g=0;for(h=k.La.length;g<h;g++)i=k.La[g],i.ic=this.T.hn(i.id),this.Fi=this.Fi||this.T.Uj(i.ic)}}}else{if(0<this.jf&&this.Xd){this.canvas=m;document.oncontextmenu=
x(p);document.Nr=x(p);this.Ka=AppMobi.canvas.getContext("2d");try{this.Ka.samplingMode=this.hb?"smooth":"sharp",this.Ka.globalScale=1,this.Ka.HTML5CompatibilityMode=l}catch(n){}0!==this.width&&0!==this.height&&(this.Ka.width=this.width,this.Ka.height=this.height)}this.Ka||(this.Lg?(c={antialias:!!this.hb},this.Ka=a.getContext("2d",c)):this.Ka=a.getContext("2d"),this.Ka.webkitImageSmoothingEnabled=this.hb,this.Ka.mozImageSmoothingEnabled=this.hb,this.Ka.msImageSmoothingEnabled=this.hb,this.Ka.imageSmoothingEnabled=
this.hb);this.po=this.Kc=m}var r=this;this.qs=function(){r.Vc()};this.go();this.pb={}}}
qb.prototype.setSize=function(a,b){var c=this.qv&&this.il&&!navigator.standalone&&!this.cc&&!this.Mg,d=0;c&&(this.il?d=60:this.pn&&(d=56),b+=d);var e=0,f=0,g=0,h=0,i=0,i=this.jf,j=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.cl;j&&0<this.dn&&(i=this.dn);3<=i?(g=this.Tc/this.Sc,a/b>g?(g*=b,4===i?(i=g/this.Tc,1<i?i=Math.floor(i):1>i&&(i=1/Math.ceil(1/i)),g=this.Tc*i,h=this.Sc*i,e=(a-g)/2,f=(b-h)/2,a=g,b=h):(e=(a-g)/2,a=g)):(h=a/g,4===i?(i=h/this.Sc,1<i?i=Math.floor(i):
1>i&&(i=1/Math.ceil(1/i)),g=this.Tc*i,h=this.Sc*i,e=(a-g)/2,f=(b-h)/2,a=g):f=(b-h)/2,b=h),j&&!this.rn&&(f=e=0),e=Math.floor(e),f=Math.floor(f),a=Math.floor(a),b=Math.floor(b)):this.rn&&(this.cl&&0===this.Gq)&&(e=Math.floor((a-this.Tc)/2),f=Math.floor((b-this.Sc)/2),a=this.Tc,b=this.Sc);if((j=!this.cc&&this.dm&&this.Ng)&&this.ar&&1<this.devicePixelRatio)1024<=a&&(a=1023),1024<=b&&(b=1023);g=this.devicePixelRatio;this.width=a*g;this.height=b*g;this.Ia=l;this.gq&&!this.cc&&(jQuery(this.gq).css({width:a+
"px",height:b+"px","margin-left":e,"margin-top":f}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*g,this.canvas.height=b*g,j&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.Kc&&(this.Kc.width=a,this.Kc.height=b);this.T&&this.T.Oo(a,b);this.Xd&&this.Ka&&(this.Ka.width=a,this.Ka.height=b);this.Ka&&(this.Ka.webkitImageSmoothingEnabled=this.hb,this.Ka.mozImageSmoothingEnabled=this.hb,this.Ka.msImageSmoothingEnabled=
this.hb,this.Ka.imageSmoothingEnabled=this.hb);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};qb.prototype.iw=function(){this.un=l;var a,b,c;a=0;for(b=this.ha.length;a<b;a++)c=this.ha[a],c.Il&&c.Il()};qb.prototype.jw=function(){this.un=p;var a,b,c;a=0;for(b=this.ha.length;a<b;a++)c=this.ha[a],c.no&&c.no()};
qb.prototype.Tr=function(){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.cl?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Kc).css(a)};var rb=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
qb.prototype.setSuspended=function(a){var b;if(a&&!this.tj){this.tj=l;0!==this.Co&&rb&&rb(this.Co);0!==this.ep&&clearTimeout(this.ep);a=0;for(b=this.Yj.length;a<b;a++)this.Yj[a](l)}else if(!a&&this.tj){this.tj=p;this.ml=Da();this.zj=Da();a=this.Rk=0;for(b=this.Yj.length;a<b;a++)this.Yj[a](p);this.Vc()}};z=qb.prototype;z.At=function(a){this.Yj.push(a)};
z.load=function(){var a=sb();this.name=a[0];this.Cq=a[1];this.jf=a[11];this.Gq=a[11];this.cc&&3<=a[11]&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale'"),this.Gq=this.jf=2);this.kp=a[17];this.Aj=a[18];0===this.Aj&&(this.$h=new Image,this.$h.src="logo.png");this.lh=new M(this);var b,c,d,e,f,g,h,i,j;b=0;for(c=a[2].length;b<c;b++)h=a[2][b],tb(h),j=new h[0](this),j.Wo=h[1],j.hl=h[2],j.Gr=h[9],j.ga&&j.ga(),this.plugins.push(j);a=sb();b=0;
for(c=a[3].length;b<c;b++){h=a[3][b];f=h[1];j=m;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){j=this.plugins[d];break}var k=new j.Da(j);k.name=h[0];k.Oa=h[2];k.Uw=h[3];k.Kt=h[4];k.Nu=h[5];k.Oa?(k.Dl=[],k.ze=this.jj++,k.Jb=m):(k.Dl=m,k.ze=-1,k.Jb=[]);k.Ok=m;k.Ih=m;k.wq=m;k.dd=p;k.ad=m;h[6]?(k.bp=h[6][0],k.cp=h[6][1],k.dp=h[6][2]):(k.bp=m,k.cp=0,k.dp=0);k.yb=h[7]?h[7]:m;k.index=b;k.l=[];k.Gk=[];k.lg=[new Ia(k)];k.gf=0;k.we=m;k.kh=l;k.bm=ub;k.Uu=vb;k.Yu=wb;k.Ra=xb;k.Vj=yb;k.yo=
zb;k.si=Ab;k.Tk=Bb;k.gn=Cb;k.Jq=Db;k.$i=Eb;k.pb={};k.toString=Fb;k.ob=[];d=0;for(e=h[8].length;d<e;d++){i=h[8][d];var n=i[1],r=m;f=0;for(g=this.ob.length;f<g;f++)if(this.ob[f]instanceof n){r=this.ob[f];break}r||(r=new n(this),r.Oj=new Za,r.ga&&r.ga(),this.ob.push(r));f=new r.Da(r,k);f.name=i[0];f.ga();k.ob.push(f)}k.global=h[9];k.sn=h[10];k.La=[];d=0;for(e=h[11].length;d<e;d++)k.La.push({id:h[11][d][0],name:h[11][d][1],ic:-1,vg:l,index:d});(!this.kp||k.Oa||k.sn||!j.hl)&&k.ga();k.name&&(this.types[k.name]=
k);this.ha.push(k);j.Wo&&(d=new j.ua(k),d.uid=this.Gl,this.Gl++,d.pj=0,d.Xk=Gb,d.toString=Hb,d.P=h[12],d.ga(),k.l.push(d))}b=0;for(c=a[4].length;b<c;b++){f=a[4][b];g=this.ha[f[0]];d=1;for(e=f.length;d<e;d++)h=this.ha[f[d]],h.Jb.push(g),g.Dl.push(h)}b=0;for(c=a[20].length;b<c;b++){f=a[20][b];g=[];d=0;for(e=f.length;d<e;d++)g.push(this.ha[f[d]]);d=0;for(e=g.length;d<e;d++)g[d].dd=l,g[d].ad=g}if(0<this.jj){b=0;for(c=this.ha.length;b<c;b++)if(h=this.ha[b],!h.Oa&&h.Jb.length){h.Ok=Array(this.jj);h.Ih=
Array(this.jj);h.wq=Array(this.jj);k=[];d=r=n=i=0;for(e=h.Jb.length;d<e;d++){j=h.Jb[d];h.Ok[j.ze]=i;i+=j.Uw;h.Ih[j.ze]=n;n+=j.Kt;h.wq[j.ze]=r;r+=j.Nu;f=0;for(g=j.La.length;f<g;f++)k.push(ma({},j.La[f]))}h.La=k.concat(h.La);d=0;for(e=h.La.length;d<e;d++)h.La[d].index=d}}b=0;for(c=a[5].length;b<c;b++)h=a[5][b],d=new Ja(this,h),this.Cn[d.name]=d,this.Zh.push(d);b=0;for(c=a[6].length;b<c;b++)h=a[6][b],d=new Ka(this,h),this.Vm[d.name]=d,this.Cg.push(d);b=0;for(c=this.Cg.length;b<c;b++)this.Cg[b].wb();
b=0;for(c=this.am.length;b<c;b++)this.am[b].wb();this.am.length=0;this.Aq=a[7];this.Qe=a[8];this.Tc=a[9];this.Sc=a[10];this.ym=1;this.lu=a[12];this.hb=a[13];this.hq=a[14];this.Hy=a[15];b=a[16];2===b&&(b=this.il?1:0);this.dm=0!==b;this.qv=a[19];this.Yo=Date.now()};z.Mu=function(a){var b,c;b=0;for(c=this.If.length;b<c;b++)if(this.If[b].Pt===a)return this.If[b];return m};
z.$p=function(){var a=0,b=0,c=l,d,e;d=0;for(e=this.If.length;d<e;d++){var f=this.If[d].nq;if(!f||0>=f)f=5E4;a+=f;this.If[d].complete||this.If[d].loaded?b+=f:c=p}this.eh=0==a?0:b/a;return c};
z.go=function(){if(this.Ka||this.T){var a=this.Ka||this.po;this.Kc&&this.Tr();this.eh=0;this.jr=-1;if(this.$p())this.ov();else{var b=Date.now()-this.Yo;if(3!==this.Aj&&500<=b&&this.jr!=this.eh){a.clearRect(0,0,this.width,this.height);var b=this.width/2,c=this.height/2,d=0===this.Aj&&this.$h.complete,e=40,f=0,g=80;d&&(g=this.$h.width,e=g/2,f=this.$h.height/2,a.drawImage(this.$h,ka(b-e),ka(c-f)));1>=this.Aj?(b=ka(b-e)+0.5,c=ka(c+(f+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(g*
this.eh),6),a.strokeStyle="black",a.strokeRect(b,c,g,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,g+2,8)):2===this.Aj&&(a.font="12pt Arial",a.fillStyle="#999",a.Cy="middle",d=Math.round(100*this.eh)+"%",e=a.measureText?a.measureText(d):m,a.fillText(d,b-(e?e.width:0)/2,c));this.jr=this.eh}var h=this;setTimeout(function(){h.go()},100)}}};
z.ov=function(){this.Kc&&(this.canvas.parentNode.removeChild(this.Kc),this.Kc=this.po=m);this.Yo=Date.now();this.zj=Da();var a,b,c;if(this.kp){a=0;for(b=this.ha.length;a<b;a++)c=this.ha[a],!c.Oa&&(!c.sn&&c.vb.hl)&&c.ga()}else this.uj=p;a=0;for(b=this.Zh.length;a<b;a++)this.Zh[a].Qt();this.Cq?this.Cn[this.Cq].Xo():this.Zh[0].Xo();this.kp||(this.rl=1,this.trigger(M.prototype.t.Ep,m));this.Vc();this.Xd&&AppMobi.webview.execute("onGameReady();")};
var Ib=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;z=qb.prototype;
z.Vc=function(){if(this.zv){var a=jQuery(window).width(),b=jQuery(window).height();if(this.Wh!==a||this.Vh!==b)this.Wh=a,this.Vh=b,this.setSize(a,b)}a=Da();this.uj&&(b=this.$p(),this.rl=this.eh,b&&(this.uj=p,this.eh=1,this.trigger(M.prototype.t.Ep,m)));this.Kv();if((this.Ia||this.Lg)&&!this.un)this.Ia=p,this.T?this.vd():this.xe(),this.Sl&&(this.canvas&&this.canvas.toDataURL&&(this.Fw=this.canvas.toDataURL(this.Sl[0],this.Sl[1]),this.trigger(M.prototype.t.Rs,m)),this.Sl=m);this.Ai++;this.Mk++;this.Rk++;
this.ul+=Da()-a;this.tj||(Ib?this.Co=Ib(this.qs,this.canvas):this.ep=setTimeout(this.qs,this.Nh?1:16))};
z.Kv=function(){var a,b,c,d,e,f,g,h;a=Da();1E3<=a-this.zj&&(this.zj+=1E3,this.bn=this.Rk,this.Rk=0,this.Im=this.ul,this.ul=0);this.Er&&(0!==this.ml&&(b=a-this.ml,0===b?(this.ax++,10<=this.Jy&&(this.Er=p),this.Tf=1/60):(this.Tf=b/1E3,0.5<this.Tf?this.Tf=0:0.1<this.Tf&&(this.Tf=0.1))),this.ml=a);this.ja=this.Tf*this.oh;this.Th.add(this.ja);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.cl;2<=this.jf||a&&0<this.dn?(this.ym=this.width/this.height>this.Tc/this.Sc?this.height/
this.Sc:this.width/this.Tc,this.Ca&&(this.Ca.ds(this.Ca.scrollX),this.Ca.es(this.Ca.scrollY))):this.ym=1;this.Yc();this.cd++;this.lh.Aw();this.cd--;this.Yc();this.cd++;a=0;for(b=this.ha.length;a<b;a++)if(g=this.ha[a],g.ob.length){c=0;for(d=g.l.length;c<d;c++){var i=g.l[c];e=0;for(f=i.Pb.length;e<f;e++)i.Pb[e].Vc()}}c=this.fo.qg();a=0;for(b=c.length;a<b;a++)c[a].Vc();this.cd--;for(a=0;this.Dh&&10>a++;){this.Ca.Jw();c=0;for(d=this.ha.length;c<d;c++)g=this.ha[c],g.ip&&-1===this.Dh.qj.indexOf(g)&&g.ip();
this.Dh.Xo();a=0;for(b=this.ha.length;a<b;a++)if(g=this.ha[a],g.global||g.vb.Wo){c=0;for(d=g.l.length;c<d;c++)i=g.l[c],i.lw&&i.lw()}this.Bn=this.Ia=l;this.Yc()}a=0;for(b=this.Cg.length;a<b;a++)this.Cg[a].nn=p;this.Ca.Jk&&this.Ca.Jk.Mb();this.as.length=0;this.Bn=p;this.cd++;a=0;for(b=this.ha.length;a<b;a++)if(g=this.ha[a],g.ob.length){c=0;for(d=g.l.length;c<d;c++){i=g.l[c];e=0;for(f=i.Pb.length;e<f;e++)h=i.Pb[e],h.Vl&&h.Vl()}}c=this.ho.qg();a=0;for(b=c.length;a<b;a++)c[a].Vl();this.cd--};z.rs=function(a){this.fo.add(a)};
z.Mw=function(a){this.ho.add(a)};z.nj=function(a){return!a||-1===a.Fl?this.ja:this.Tf*a.Fl};z.xe=function(){this.Ca.xe(this.Ka);this.Xd&&this.Ka.present()};z.vd=function(){this.Ca.vd(this.T)};z.um=function(a){a&&this.Ik.push(a)};z.Eo=function(a){pa(this.Ik,a)};z.th=function(a){var b,c;if(!this.ve.contains(a)){this.ve.add(a);if(a.dd){b=0;for(c=a.siblings.length;b<c;b++)this.th(a.siblings[b])}this.qn&&this.ve.bk.push(a);this.cd++;this.trigger(Object.getPrototypeOf(a.type.vb).t.Ss,a);this.cd--}};
z.Yc=function(){var a,b,c,d,e,f,g,h,i,j;this.qn=l;d=0;for(f=this.ue.length;d<f;d++){a=this.ue[d];b=a.type;b.l.push(a);b.kh=l;e=0;for(g=b.Jb.length;e<g;e++)b.Jb[e].l.push(a),b.Jb[e].kh=l}this.ue.length=0;f=this.ve.qg();for(d=0;d<f.length;d++){a=f[d];b=a.type;c=b.l;e=0;for(g=this.Ik.length;e<g;e++)this.Ik[e](a);pa(c,a);a.H&&(na(a.H.l,a.mf()),a.H.rg=l);e=0;for(g=b.Jb.length;e<g;e++)pa(b.Jb[e].l,a),b.Jb[e].kh=l;if(a.Pb){e=0;for(g=a.Pb.length;e<g;e++)c=a.Pb[e],c.eg&&c.eg(),c.sa.Oj.remove(a)}this.fo.remove(a);
this.ho.remove(a);e=0;for(g=this.lh.Jf.length;e<g;e++)if(i=this.lh.Jf[e],i.wi.hasOwnProperty(b.index)&&pa(i.wi[b.index],a),!b.Oa){c=0;for(h=b.Jb.length;c<h;c++)j=b.Jb[c],i.wi.hasOwnProperty(j.index)&&pa(i.wi[j.index],a)}a.eg&&a.eg();this.Hl--;32>b.Gk.length&&b.Gk.push(a);b.kh=l}this.ve.sj()||(this.Ia=l);this.ve.clear();this.qn=p};z.Jm=function(a,b,c,d){if(a.Oa){var e=ka(Math.random()*a.Dl.length);return this.Jm(a.Dl[e],b,c,d)}return!a.we?m:this.Fh(a.we,b,p,c,d)};var Jb=[];z=qb.prototype;
z.Fh=function(a,b,c,d,e,f){var g,h,i,j;if(!a)return m;var k=this.ha[a[1]],n=k.vb.hl;if(this.uj&&n&&!k.sn||n&&!this.T&&11===a[0][11])return m;n||(b=m);var r,s=p;k.Gk.length?(r=k.Gk.pop(),s=l,k.vb.ua.call(r,k)):r=new k.vb.ua(k);r.uid=this.Gl;this.Gl++;r.pj=0;r.Xk=Gb;k.kh=l;i=a[2];if(s){g=0;for(h=i.length;g<h;g++)r.Wd[g]=i[g];Aa(r.pb)}else r.Wd=i.slice(0),r.pb={};if(n){var t=a[0];r.x=ea(d)?t[0]:d;r.y=ea(e)?t[1]:e;r.p=t[2];r.width=t[3];r.height=t[4];r.depth=t[5];r.o=t[6];r.opacity=t[7];r.De=t[8];r.Ee=
t[9];r.se=t[10];g=t[11];!this.T&&k.La.length&&(r.se=g);r.Ck=Fa(r.se);this.Y&&Ga(r,r.se,this.Y);if(s){g=0;for(h=t[12].length;g<h;g++){i=0;for(j=t[12][g].length;i<j;i++)r.oc[g][i]=t[12][g][i]}r.oa.set(0,0,0,0);r.Na.Qo(r.oa);r.uk.length=0}else{r.oc=t[12].slice(0);g=0;for(h=r.oc.length;g<h;g++)r.oc[g]=t[12][g].slice(0);r.Ea=[];r.zh=[];r.zh.length=k.La.length;r.oa=new Xa(0,0,0,0);r.Na=new Ya;r.uk=[];r.G=Kb;r.$x=Lb;r.ud=Mb;r.xb=Nb;r.mf=Ob}g=0;for(h=k.La.length;g<h;g++)r.zh[g]=l;r.Ei=Pb;r.Ei();r.Bs=!!r.Ea.length;
r.zm=l;r.visible=l;r.Fl=-1;r.H=b;r.rp=b.l.length;"undefined"===typeof r.Ja&&(r.Ja=m);this.Ia=r.Eh=l}r.toString=Hb;var u;g=Jb.length=0;for(h=k.Jb.length;g<h;g++)Jb.push.apply(Jb,k.Jb[g].ob);Jb.push.apply(Jb,k.ob);if(s){g=0;for(h=Jb.length;g<h;g++){var w=Jb[g];u=r.Pb[g];w.sa.ua.call(u,w,r);t=a[3][g];i=0;for(j=t.length;i<j;i++)u.P[i]=t[i];u.ga();w.sa.Oj.add(r)}}else{r.Pb=[];g=0;for(h=Jb.length;g<h;g++)w=Jb[g],u=new w.sa.ua(w,r),u.P=a[3][g].slice(0),u.ga(),r.Pb.push(u),w.sa.Oj.add(r)}t=a[4];if(s){g=0;
for(h=t.length;g<h;g++)r.P[g]=t[g]}else r.P=t.slice(0);this.ue.push(r);b&&b.l.push(r);this.Hl++;if(k.dd){if(r.dd=l,r.siblings=[],!c&&!f){g=0;for(h=k.ad.length;g<h;g++)if(k.ad[g]!==k){if(!k.ad[g].we)return m;r.siblings.push(this.Fh(k.ad[g].we,b,p,n?r.x:d,n?r.y:e,l))}g=0;for(h=r.siblings.length;g<h;g++){r.siblings[g].siblings.push(r);for(i=0;i<h;i++)g!==i&&r.siblings[g].siblings.push(r.siblings[i])}}}else r.dd=p,r.siblings=m;r.ga();g=0;for(h=r.Pb.length;g<h;g++)r.Pb[g].Ur&&r.Pb[g].Ur();return r};
z.Kh=function(a){var b,c;b=0;for(c=this.Ca.Sa.length;b<c;b++){var d=this.Ca.Sa[b];if(d.name.toLowerCase()===a.toLowerCase())return d}return m};z.Ce=function(a){a=ka(a);0>a&&(a=0);a>=this.Ca.Sa.length&&(a=this.Ca.Sa.length-1);return this.Ca.Sa[a]};z.Lq=function(a){return F(a)?this.Ce(a):this.Kh(a.toString())};z.Dm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ra().ab=l};z.Vj=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Vj()};z.yo=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].yo()};
z.si=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].si()};z.os=function(a,b,c){var d=a.Ra(),e,f,g,h,i,j;if(d.ab){d.ab=p;e=d.l.length=0;for(h=a.l.length;e<h;e++)g=a.l[e],g.xb(),i=g.H.bc(b,c,l),j=g.H.bc(b,c,p),g.ud(i,j)&&d.l.push(g)}else{e=f=0;for(h=d.l.length;e<h;e++)g=d.l[e],g.xb(),i=g.H.bc(b,c,l),j=g.H.bc(b,c,p),g.ud(i,j)&&(d.l[f]=d.l[e],f++);d.l.length=f}a.$i();return d.mn()};
z.Uc=function(a,b){if(!a||!b||a===b||!a.Eh||!b.Eh)return p;a.xb();b.xb();var c=a.H,d=b.H,e,f,g,h,i,j;if(c!==d&&(c.ge!==d.ge||d.he!==d.he||c.scale!==d.scale||c.o!==d.o||c.Lc!==d.Lc)){i=a.Ja&&!a.Ja.Oh();e=b.Ja&&!b.Ja.Oh();i?(a.Ja.Ch(a.width,a.height,a.o),this.mh.gs(a.Ja)):this.mh.Ql(a.Na,a.x,a.y,a.width,a.height);i=this.mh;e?(b.Ja.Ch(b.width,b.height,b.o),this.$o.gs(b.Ja)):this.$o.Ql(b.Na,b.x,b.y,b.width,b.height);j=this.$o;e=0;for(f=i.Re;e<f;e++)g=i.hc[2*e],h=i.hc[2*e+1],i.hc[2*e]=c.cb(g+a.x,h+a.y,
l),i.hc[2*e+1]=c.cb(g+a.x,h+a.y,p);e=0;for(f=j.Re;e<f;e++)g=j.hc[2*e],h=j.hc[2*e+1],j.hc[2*e]=d.cb(g+b.x,h+b.y,l),j.hc[2*e+1]=d.cb(g+b.x,h+b.y,p);return i.Wq(j,0,0)}if(!a.oa.xv(b.oa)||!a.Na.wv(b.Na))return p;i=a.Ja&&!a.Ja.Oh();e=b.Ja&&!b.Ja.Oh();if(!i&&!e)return l;i?(a.Ja.Ch(a.width,a.height,a.o),i=a.Ja):(this.mh.Ql(a.Na,a.x,a.y,a.width,a.height),i=this.mh);e?(b.Ja.Ch(b.width,b.height,b.o),j=b.Ja):(this.mh.Ql(b.Na,b.x,b.y,b.width,b.height),j=this.mh);return i.Wq(j,b.x-a.x,b.y-a.y)};new Ya;
qb.prototype.bv=function(){if(!Wa.Gw)return m;var a,b;a=0;for(b=this.ob.length;a<b;a++)if(this.ob[a]instanceof Wa.Gw)return this.ob[a];return m};qb.prototype.Ec=function(a){var b=this.bv();if(!b)return m;var c,d,e=b.Oj.qg(),b=0;for(c=e.length;b<c;++b)if(d=e[b],d.pb.By&&this.Uc(a,d))return d;return m};var Qb=[];z=qb.prototype;
z.ng=function(a,b){var c=m,d,e;if(!Rb)return m;d=0;for(e=this.ob.length;d<e;d++)if(this.ob[d]instanceof Rb){c=this.ob[d];break}if(!c)return m;var f=m;b&&(f=Qb,f.length=0);var g=c.Oj.qg();d=0;for(e=g.length;d<e;++d)if(c=g[d],c.pb.Gv&&this.Uc(a,c))if(b)f.push(c);else return c;return f};
z.Se=function(a,b,c,d,e,f){var d=d||50,g=a.x,h=a.y,i,j=m,k=m;for(i=0;i<d;i++)if(a.x=g+b*i,a.y=h+c*i,a.G(),!this.Uc(a,j)&&((j=this.Ec(a))&&(k=j),!j&&(e&&(j=f?this.Uc(a,f)?f:m:this.ng(a))&&(k=j),!j)))return k&&this.Ao(a,b,c,k),l;a.x=g;a.y=h;a.G();return p};z.Ao=function(a,b,c,d){var e=2,f,g=p;f=p;for(var h=a.x,i=a.y;16>=e;)f=1/e,e*=2,a.x+=b*f*(g?1:-1),a.y+=c*f*(g?1:-1),a.G(),this.Uc(a,d)?f=g=l:(f=g=p,h=a.x,i=a.y);f&&(a.x=h,a.y=i,a.G())};
z.Yr=function(a,b){for(var c=ea(b)?100:b,d=0,e=a.x,f=a.y,g=0,h=0,i=0,j=m;d<=c;){switch(g){case 0:h=0;i=-1;d++;break;case 1:h=1;i=-1;break;case 2:h=1;i=0;break;case 3:i=h=1;break;case 4:h=0;i=1;break;case 5:h=-1;i=1;break;case 6:h=-1;i=0;break;case 7:i=h=-1}g=(g+1)%8;a.x=ka(e+h*d);a.y=ka(f+i*d);a.G();if(!this.Uc(a,j)&&(j=this.Ec(a),!j))return l}a.x=e;a.y=f;a.G();return p};z.gh=function(a,b){a.Eh&&b.Eh&&this.as.push([a,b])};
z.Mt=function(a,b,c){var d=a.x,e=a.y,f=ha(10,ya(b,c,d,e)),g=ua(b,c,d,e),h=this.Ec(a);if(!h)return L(g+ja);var i=h,j,k,n,r,s=K(5);for(j=1;36>j;j++)if(k=g-j*s,a.x=b+Math.cos(k)*f,a.y=c+Math.sin(k)*f,a.G(),!this.Uc(a,i)&&(i=this.Ec(a),!i)){n=k;break}36===j&&(n=L(g+ja));i=h;for(j=1;36>j;j++)if(k=g+j*s,a.x=b+Math.cos(k)*f,a.y=c+Math.sin(k)*f,a.G(),!this.Uc(a,i)&&(i=this.Ec(a),!i)){r=k;break}36===j&&(r=L(g+ja));a.x=d;a.y=e;a.G();if(r===n)return r;a=va(r,n)/2;a=xa(r,n)?L(n+a+ja):L(r+a);n=Math.cos(g);g=Math.sin(g);
r=Math.cos(a);a=Math.sin(a);b=n*r+g*a;return ua(0,0,n-2*b*r,g-2*b*a)};var Sb=[],Tb=-1;z=qb.prototype;z.trigger=function(a,b,c){if(!this.Ca)return p;var d=this.Ca.Jk;if(!d)return p;Tb++;Tb===Sb.length?Sb.push(new Za):Sb[Tb].clear();a=this.vs(a,b,d,c);Tb--;return a};
z.vs=function(a,b,c,d){var e=Sb[Tb];if(e.contains(c))return p;e.add(c);var e=c.Sq.qg(),f=p,g,h,i;g=0;for(h=e.length;g<h;g++)i=this.vs(a,b,e[g],d),f=f||i;if(b){i=this.gp(a,b,b.type.name,c,d);f=f||i;g=0;for(h=b.type.Jb.length;g<h;g++)i=this.gp(a,b,b.type.Jb[g].name,c,d),f=f||i}else i=this.gp(a,b,"system",c,d),f=f||i;return f};
z.gp=function(a,b,c,d,e){var f,g=p,h=p,h="undefined"!==typeof e,i=(h?d.yq:d.ws)[c];if(!i)return g;var j=m,d=0;for(f=i.length;d<f;d++)if(i[d].method==a){j=i[d].Lk;break}if(!j)return g;a=h?j[e]:j;if(!a)return m;d=0;for(f=a.length;d<f;d++)e=a[d][0],h=a[d][1],h=this.Ku(b,c,e,h),g=g||h;return g};
z.Ku=function(a,b,c,d){var e,f,g=p;this.hp++;var h=this.Ic().bd;h&&this.Vj(h.jg);var i=1<this.hp;this.Vj(c.jg);i&&this.ww();var j=this.zo(c);j.bd=c;a&&(e=this.types[b].Ra(),e.ab=p,e.l.length=1,e.l[0]=a,this.types[b].$i());a=l;if(c.parent){b=j.ns;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(f=b.length;e<f;e++)if(!b[e].Cw()){a=p;break}}a&&(this.Mk++,c.fe?c.Bw(d):c.Mb(),g=g||j.Uh);this.Sr();i&&this.sw();this.si(c.jg);h&&this.si(h.jg);0===this.cd&&(0===Tb&&!this.tn&&(!this.ve.sj()||this.ue.length))&&
this.Yc();this.hp--;return g};z.Hq=function(){var a=this.Ic();return a.bd.zb[a.Hc]};z.Tu=function(){var a=this.Ic();return a.bd.Pf[a.re]};z.ww=function(){this.tl++;this.tl>=this.Kn.length&&this.Kn.push([])};z.sw=function(){this.tl--};z.Iq=function(){return this.Kn[this.tl]};z.zo=function(a){this.Kk++;this.Kk>=this.Um.length&&this.Um.push(new La);var b=this.Ic();b.reset(a);return b};z.Sr=function(){this.Kk--};z.Ic=function(){return this.Um[this.Kk]};
z.Kq=function(a,b){for(var c,d,e,f,g,h;b;){c=0;for(d=b.Od.length;c<d;c++)if(h=b.Od[c],h instanceof Ma&&a.toLowerCase()===h.name.toLowerCase())return h;b=b.parent}c=0;for(d=this.Cg.length;c<d;c++){g=this.Cg[c];e=0;for(f=g.Vf.length;e<f;e++)if(h=g.Vf[e],h instanceof Ma&&a.toLowerCase()===h.name.toLowerCase())return h}return m};window.cr_createRuntime=function(a){return new qb(document.getElementById(a))};window.cr_createDCRuntime=function(a,b){return new qb({dc:l,width:a,height:b})};
window.createCocoonJSRuntime=function(){window.c2cocoonjs=l;var a=document.createElement("screencanvas");document.body.appendChild(a);a=new qb(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});return a};window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");if(a)return a.c2runtime;if(window.c2runtime)return window.c2runtime};
window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
function Ub(a,b){this.a=a;this.Jk=m;this.scrollX=this.a.Tc/2;this.scrollY=this.a.Sc/2;this.scale=1;this.o=0;this.name=b[0];this.width=b[1];this.height=b[2];this.xs=b[3];this.js=b[4];var c=b[5],d,e;this.Sa=[];this.qj=[];d=0;for(e=c.length;d<e;d++){var f=new Na(this,c[d]);f.Jr=d;this.Sa.push(f)}c=b[6];this.Kg=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.ha[f[1]];g.we||(g.we=f);this.Kg.push(f);-1===this.qj.indexOf(g)&&this.qj.push(g)}this.La=[];this.Ea=[];this.oc=[];d=0;for(e=b[7].length;d<e;d++)this.La.push({id:b[7][d][0],
name:b[7][d][1],ic:-1,vg:l,index:d}),this.oc.push(b[7][d][2].slice(0));this.Ei();this.fh=new Xa(0,0,1,1);this.Do=new Xa(0,0,1,1)}
function Vb(a,b){this.Ta=a;this.a=a.a;this.l=[];this.scale=1;this.o=0;this.Bg=p;this.Hf=new Xa(0,0,0,0);this.ss=new Ya;this.Wc=this.qd=this.pd=this.Qd=0;this.rg=p;this.name=b[0];this.index=b[1];this.visible=b[2];this.Ah=b[3];this.ak=b[4];this.ge=b[5];this.he=b[6];this.opacity=b[7];this.an=b[8];this.Lc=b[9];this.se=b[10];this.ku=b[11];this.Ck="source-over";this.nc=this.tc=0;this.hg=p;var c=b[12],d,e;this.Lh=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.ha[f[1]];g.we||(g.we=f);this.Lh.push(f);
-1===this.Ta.qj.indexOf(g)&&this.Ta.qj.push(g)}this.La=[];this.Ea=[];this.oc=[];d=0;for(e=b[13].length;d<e;d++)this.La.push({id:b[13][d][0],name:b[13][d][1],ic:-1,vg:l,index:d}),this.oc.push(b[13][d][2].slice(0));this.Ei();this.fh=new Xa(0,0,1,1);this.Do=new Xa(0,0,1,1)}Ub.prototype.Pq=function(){var a=this.Sa[0];return!a.ak&&1===a.opacity&&!a.an&&a.visible};Ub.prototype.Ei=function(){this.Ea.length=0;var a,b,c;a=0;for(b=this.La.length;a<b;a++)c=this.La[a],c.vg&&this.Ea.push(c)};var Wb=[];z=Ub.prototype;
z.Xo=function(){this.js&&(this.Jk=this.a.Vm[this.js]);this.a.Ca=this;this.scrollX=this.a.Tc/2;this.scrollY=this.a.Sc/2;var a,b,c,d,e,f,g;a=0;for(c=this.a.ha.length;a<c;a++)if(b=this.a.ha[a],!b.Oa){e=b.l;b=0;for(d=e.length;b<d;b++)f=e[b],f.H&&(g=f.H.Jr,g>=this.Sa.length&&(g=this.Sa.length-1),f.H=this.Sa[g],f.H.l.push(f),f.H.rg=l)}a=Wb.length=0;for(c=this.Sa.length;a<c;a++)b=this.Sa[a],b.Rt(),b.Bg=l,d=b.bc(0,0,l),f=b.bc(0,0,p),b.Bg=p,this.a.Qe&&(d=d+0.5|0,f=f+0.5|0),b.Io(d,f,m);for(a=0;a<Wb.length;a++)if(f=
Wb[a],f.type.dd){c=f.Xk();b=0;for(d=f.type.ad.length;b<d;b++)e=f.type.ad[b],f.type!==e&&(e.l.length>c?f.siblings.push(e.l[c]):e.we&&(g=this.a.Fh(e.we,f.H,l,f.x,f.y,l),this.a.Yc(),e.bm(),f.siblings.push(g),Wb.push(g)))}a=0;for(c=this.Kg.length;a<c;a++)this.a.Fh(this.Kg[a],m,l);this.a.Dh=m;this.a.Yc();if(this.a.Ka&&!this.a.cc){a=0;for(c=this.a.ha.length;a<c;a++)e=this.a.ha[a],!e.Oa&&(e.l.length&&e.vo)&&e.vo(this.a.Ka)}this.a.trigger(M.prototype.t.Dp,m)};
z.Qt=function(){var a,b,c,d,e;b=a=0;for(c=this.Kg.length;a<c;a++)d=this.Kg[a],e=this.a.ha[d[1]],e.global?this.a.Fh(d,m,l):(this.Kg[b]=d,b++);this.Kg.length=b};
z.Jw=function(){this.a.trigger(M.prototype.t.at,m);this.a.lh.Jf.length=0;var a,b,c,d,e,f;a=0;for(b=this.Sa.length;a<b;a++){e=this.Sa[a].l;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.a.th(f);this.a.Yc();e.length=0;this.Sa[a].rg=l}a=0;for(b=this.a.ha.length;a<b;a++)if(e=this.a.ha[a],!e.global&&!e.vb.hl&&!e.vb.Wo){c=0;for(d=e.l.length;c<d;c++)this.a.th(e.l[c]);this.a.Yc()}};
z.xe=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.a.hq&&!this.Pq()&&a.clearRect(0,0,this.a.width,this.a.height);var b,c,d;b=0;for(c=this.Sa.length;b<c;b++)d=this.Sa[b],d.visible&&(0<d.opacity&&11!==d.se)&&d.xe(a)};
z.vd=function(a){var b=0<this.Ea.length||this.a.Fi;if(b){this.a.Yd||(this.a.Yd=a.ef(this.a.width,this.a.height,this.a.hb));if(this.a.Yd.dj!==this.a.width||this.a.Yd.bj!==this.a.height)a.deleteTexture(this.a.Yd),this.a.Yd=a.ef(this.a.width,this.a.height,this.a.hb);a.Ff(this.a.Yd)}this.a.hq&&!this.Pq()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.Sa.length;c<d;c++)this.Sa[c].visible&&0<this.Sa[c].opacity&&this.Sa[c].vd(a);b&&(1>=this.Ea.length?(1===this.Ea.length?(b=this.Ea[0].index,a.We(this.Ea[0].ic),
a.vi(m,1/this.a.width,1/this.a.height,0,0,1,1,this.scale,this.oc[b]),a.Kl(this.Ea[0].ic)&&(this.a.Ia=l)):a.We(0),a.Ff(m),a.jh(1),a.nd(this.a.Yd),a.fs(),a.Ve(),a.Ye(),b=this.a.width/2,c=this.a.height/2,a.Ll(-b,c,b,c,b,-c,-b,-c),a.nd(m)):this.Fo(a,m,m,m));a.tw()};z.oj=function(){return 0<this.Ea.length||this.a.Fi?this.a.Yd:m};z.Mq=function(){var a=this.Sa[0].Oc(),b,c,d;b=1;for(c=this.Sa.length;b<c;b++)d=this.Sa[b],0===d.ge&&0===d.he||d.Oc()<a&&(a=d.Oc());return a};
z.ds=function(a){if(!this.xs){var b=this.a.width*(1/this.Mq())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.a.Ia=l)};z.es=function(a){if(!this.xs){var b=this.a.height*(1/this.Mq())/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.a.Ia=l)};
z.Fo=function(a,b,c,d){var e=c?c.Ea:b?b.Ea:this.Ea,f=c?c.H.Oc():b?b.Oc():1,g=this.a.en,h,i,j,k,n=0,r=1,s,t=this.a.width,u=this.a.height,w=t/2,y=u/2,D=b?b.fh:this.fh,C=b?b.Do:this.Do,A=0,E=0,B=0,H=0,I=t,ca=t,G=u,Ba=u,Ca=j=0,gb=c?c.H.kf():0;if(c){h=0;for(i=e.length;h<i;h++)j+=a.Zu(e[h].ic),Ca+=a.$u(e[h].ic);k=c.oa;A=b.cb(k.left,k.top,l);B=b.cb(k.left,k.top,p);I=b.cb(k.right,k.bottom,l);G=b.cb(k.right,k.bottom,p);0!==gb&&(h=b.cb(k.right,k.top,l),i=b.cb(k.right,k.top,p),E=b.cb(k.left,k.bottom,l),H=b.cb(k.left,
k.bottom,p),k=Math.min(A,I,h,E),I=Math.max(A,I,h,E),A=k,k=Math.min(B,G,i,H),G=Math.max(B,G,i,H),B=k);A-=j;B-=Ca;I+=j;G+=Ca;C.left=A/t;C.top=1-B/u;C.right=I/t;C.bottom=1-G/u;E=A=Math.floor(A);H=B=Math.floor(B);ca=I=Math.ceil(I);Ba=G=Math.ceil(G);E-=j;H-=Ca;ca+=j;Ba+=Ca;0>A&&(A=0);0>B&&(B=0);I>t&&(I=t);G>u&&(G=u);0>E&&(E=0);0>H&&(H=0);ca>t&&(ca=t);Ba>u&&(Ba=u);D.left=A/t;D.top=1-B/u;D.right=I/t;D.bottom=1-G/u}else D.left=C.left=0,D.top=C.top=0,D.right=C.right=1,D.bottom=C.bottom=1;Ca=c&&((c.o||gb)&&
a.Uj(e[0].ic)||0!==j||0!==Ca||1!==c.opacity||c.type.vb.Gr)||b&&!c&&1!==b.opacity;a.fs();if(Ca){g[n]||(g[n]=a.ef(t,u,this.a.hb));if(g[n].dj!==t||g[n].bj!==u)a.deleteTexture(g[n]),g[n]=a.ef(t,u,this.a.hb);a.We(0);a.Ff(g[n]);s=Ba-H;a.clearRect(E,u-H-s,ca-E,s);c?c.vd(a):(a.nd(this.a.ed),a.jh(b.opacity),a.Ve(),a.translate(-w,-y),a.Ye(),a.Te(A,G,I,G,I,B,A,B,D));C.left=C.top=0;C.right=C.bottom=1;c&&(k=D.top,D.top=D.bottom,D.bottom=k);n=1;r=0}a.jh(1);j=e.length-1;var gb=a.wo(e[j].ic),hb=0;h=0;for(i=e.length;h<
i;h++){g[n]||(g[n]=a.ef(t,u,this.a.hb));if(g[n].dj!==t||g[n].bj!==u)a.deleteTexture(g[n]),g[n]=a.ef(t,u,this.a.hb);a.We(e[h].ic);hb=e[h].index;a.Kl(e[h].ic)&&(this.a.Ia=l);0==h&&!Ca?(a.Ff(g[n]),s=Ba-H,k=u-H-s,a.clearRect(E,k,ca-E,s),c?(a.vi(d,1/c.width,1/c.height,C.left,C.top,C.right,C.bottom,f,c.oc[hb]),c.vd(a)):(a.vi(d,1/t,1/u,0,0,1,1,f,b?b.oc[hb]:this.oc[hb]),a.nd(b?this.a.ed:this.a.Yd),a.Ve(),a.translate(-w,-y),a.Ye(),a.Te(A,G,I,G,I,B,A,B,D)),C.left=C.top=0,C.right=C.bottom=1,c&&!gb&&(k=G,G=B,
B=k)):(a.vi(d,1/t,1/u,C.left,C.top,C.right,C.bottom,f,c?c.oc[hb]:b?b.oc[hb]:this.oc[hb]),h===j&&!gb?(c?a.ig(c.tc,c.nc):b&&a.ig(b.tc,b.nc),a.Ff(d)):(a.Ff(g[n]),s=Ba-H,k=u-H-s,a.clearRect(E,k,ca-E,s)),a.nd(g[r]),a.Ve(),a.translate(-w,-y),a.Ye(),a.Te(A,G,I,G,I,B,A,B,D),h===j&&!gb&&a.nd(m));n=0===n?1:0;r=0===n?1:0}gb&&(a.We(0),c?a.ig(c.tc,c.nc):b&&a.ig(b.tc,b.nc),a.Ff(d),a.nd(g[r]),a.Ve(),a.translate(-w,-y),a.Ye(),c&&1===e.length&&!Ca?a.Te(A,B,I,B,I,G,A,G,D):a.Te(A,G,I,G,I,B,A,B,D),a.nd(m))};Ja=Ub;
z=Vb.prototype;z.Ei=function(){this.Ea.length=0;var a,b,c;a=0;for(b=this.La.length;a<b;a++)c=this.La[a],c.vg&&this.Ea.push(c)};z.Rt=function(){var a,b,c,d;b=a=0;for(c=this.Lh.length;a<c;a++)d=this.a.Fh(this.Lh[a],this,l),Wb.push(d),d&&!d.type.global&&(this.Lh[b]=this.Lh[a],b++);this.Lh.length=b;this.a.Yc();!this.a.T&&this.La.length&&(this.se=this.ku);this.Ck=Fa(this.se);this.a.Y&&Ga(this,this.se,this.a.Y)};
z.Qw=function(){if(this.rg){var a,b;a=0;for(b=this.l.length;a<b;a++)this.l[a].rp=a;this.rg=p}};z.Oc=function(){return this.Xu()*this.a.ym};z.Xu=function(){return(this.scale*this.Ta.scale-1)*this.Lc+1};z.kf=function(){return this.Bg?0:L(this.Ta.o+this.o)};
z.xe=function(a){this.hg=this.an||1!==this.opacity||0!==this.se;var b=this.a.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.hg&&(this.a.ol||(this.a.ol=document.createElement("canvas"),b=this.a.ol,b.width=this.a.width,b.height=this.a.height,this.a.lr=b.getContext("2d")),b=this.a.ol,c=this.a.lr,b.width!==this.a.width&&(b.width=this.a.width),b.height!==this.a.height&&(b.height=this.a.height),this.ak&&c.clearRect(0,0,this.a.width,this.a.height));this.ak||(c.fillStyle="rgb("+
this.Ah[0]+","+this.Ah[1]+","+this.Ah[2]+")",c.fillRect(0,0,this.a.width,this.a.height));c.save();this.Bg=l;var d=this.bc(0,0,l),e=this.bc(0,0,p);this.Bg=p;this.a.Qe&&(d=d+0.5|0,e=e+0.5|0);this.Io(d,e,c);var f=this.Oc();c.scale(f,f);c.translate(-d,-e);for(var g,d=0,e=this.l.length;d<e;d++)if(f=this.l[d],f.visible&&!(0===f.width||0===f.height))f.xb(),g=f.oa,g.right<this.Qd||(g.bottom<this.qd||g.left>this.pd||g.top>this.Wc)||(c.globalCompositeOperation=f.Ck,f.xe(c));c.restore();this.hg&&(a.globalCompositeOperation=
this.Ck,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};
z.Io=function(a,b,c){var d=this.Oc();this.Qd=a;this.qd=b;this.pd=a+this.a.width*(1/d);this.Wc=b+this.a.height*(1/d);a=this.kf();0!==a&&(c&&(c.translate(this.a.width/2,this.a.height/2),c.rotate(-a),c.translate(this.a.width/-2,this.a.height/-2)),this.Hf.set(this.Qd,this.qd,this.pd,this.Wc),this.Hf.offset((this.Qd+this.pd)/-2,(this.qd+this.Wc)/-2),this.ss.hs(this.Hf,a),this.ss.cq(this.Hf),this.Hf.offset((this.Qd+this.pd)/2,(this.qd+this.Wc)/2),this.Qd=this.Hf.left,this.qd=this.Hf.top,this.pd=this.Hf.right,
this.Wc=this.Hf.bottom)};
z.vd=function(a){var b=this.a.width,c=this.a.height,d=0,e=0;if(this.hg=this.an||1!==this.opacity||0<this.Ea.length||0!==this.se){this.a.ed||(this.a.ed=a.ef(this.a.width,this.a.height,this.a.hb));if(this.a.ed.dj!==this.a.width||this.a.ed.bj!==this.a.height)a.deleteTexture(this.a.ed),this.a.ed=a.ef(this.a.width,this.a.height,this.a.hb);a.Ff(this.a.ed);this.ak&&a.clear(0,0,0,0)}this.ak||a.clear(this.Ah[0]/255,this.Ah[1]/255,this.Ah[2]/255,1);this.Bg=l;var e=this.bc(0,0,l),f=this.bc(0,0,p);this.Bg=p;
this.a.Qe&&(e=e+0.5|0,f=f+0.5|0);this.Io(e,f,m);f=this.Oc();a.Ve();a.scale(f,f);a.Jo(-this.kf());a.translate((this.Qd+this.pd)/-2,(this.qd+this.Wc)/-2);a.Ye();var g,h,i;g=0;for(h=this.l.length;g<h;g++)if(i=this.l[g],i.visible&&!(0===i.width||0===i.height))if(i.xb(),d=i.oa,!(d.right<this.Qd||d.bottom<this.qd||d.left>this.pd||d.top>this.Wc))if(i.Bs)if(d=i.Ea[0].ic,e=i.Ea[0].index,1===i.Ea.length&&!a.wo(d)&&!a.vw(d)&&(!i.o&&!i.H.kf()||!a.Uj(d))&&1===i.opacity&&!i.type.vb.Gr){a.We(d);a.ig(i.tc,i.nc);
a.Kl(d)&&(this.a.Ia=l);var j=0,k=0,n=0,r=0;a.Uj(d)&&(d=i.oa,j=this.cb(d.left,d.top,l),k=this.cb(d.left,d.top,p),n=this.cb(d.right,d.bottom,l),d=this.cb(d.right,d.bottom,p),j/=b,k=1-k/c,n/=b,r=1-d/c);a.vi(this.hg?this.a.ed:this.Ta.oj(),1/i.width,1/i.height,j,k,n,r,this.Oc(),i.oc[e]);i.vd(a)}else this.Ta.Fo(a,this,i,this.hg?this.a.ed:this.Ta.oj()),a.Ve(),a.scale(f,f),a.Jo(-this.kf()),a.translate((this.Qd+this.pd)/-2,(this.qd+this.Wc)/-2),a.Ye();else a.We(0),a.ig(i.tc,i.nc),i.vd(a);this.hg&&(d=this.Ea.length?
this.Ea[0].ic:0,e=this.Ea.length?this.Ea[0].index:0,0===this.Ea.length||1===this.Ea.length&&!a.wo(d)&&1===this.opacity?(1===this.Ea.length?(a.We(d),a.vi(this.Ta.oj(),1/this.a.width,1/this.a.height,0,0,1,1,this.Oc(),this.oc[e]),a.Kl(d)&&(this.a.Ia=l)):a.We(0),a.Ff(this.Ta.oj()),a.jh(this.opacity),a.nd(this.a.ed),a.ig(this.tc,this.nc),a.Ve(),a.Ye(),b=this.a.width/2,c=this.a.height/2,a.Ll(-b,c,b,c,b,-c,-b,-c),a.nd(m)):this.Ta.Fo(a,this,m,this.Ta.oj()))};
z.bc=function(a,b,c){var d=this.a.devicePixelRatio;!this.a.cc&&(this.a.dm&&this.a.Ng)&&0<this.a.jf&&(a*=d,b*=d);var d=this.a.Tc/2,e=this.a.Sc/2,d=(this.Ta.scrollX-d)*this.ge+d,e=(this.Ta.scrollY-e)*this.he+e,f=1/this.Oc(),d=d-this.a.width*f/2,e=e-this.a.height*f/2,d=d+a*f,e=e+b*f,b=this.kf();0!==b&&(d-=this.Ta.scrollX,e-=this.Ta.scrollY,a=Math.cos(b),b=Math.sin(b),f=d*a-e*b,e=e*a+d*b,d=f+this.Ta.scrollX,e+=this.Ta.scrollY);return c?d:e};
z.cb=function(a,b,c){var d=this.kf();if(0!==d)var a=a-this.Ta.scrollX,b=b-this.Ta.scrollY,e=Math.cos(-d),d=Math.sin(-d),f=a*e-b*d,b=b*e+a*d,a=f+this.Ta.scrollX,b=b+this.Ta.scrollY;e=this.a.Tc/2;d=this.a.Sc/2;e=(this.Ta.scrollX-e)*this.ge+e;d=(this.Ta.scrollY-d)*this.he+d;f=1/this.Oc();e-=this.a.width*f/2;d-=this.a.height*f/2;e=(a-e)/f;d=(b-d)/f;a=this.a.devicePixelRatio;!this.a.cc&&(this.a.dm&&this.a.Ng)&&0<this.a.jf&&(e/=a,d/=a);return c?e:d};Na=Vb;
function Xb(a,b){var c,d=a.length;switch(d){case 0:return l;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return p;return l}}function Yb(a,b){return a.index-b.index}function Zb(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(Yb);a.length>=$b.length&&($b.length=a.length+1);$b[a.length]||($b[a.length]=[]);e=$b[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],Xb(a,d))return d;e.push(a);return a}
function ac(a,b){this.a=a;this.ws={};this.yq={};this.nn=p;this.Sq=new Za;this.name=b[0];var c=b[1];this.Vf=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Uq(c[d],m,this.Vf)}function bc(a){this.type=a;this.l=[];this.bb=[];this.ab=l}
function cc(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.sc=[];this.jg=[];this.Qq=this.Wl=this.fp=this.bl=this.group=this.ks=p;this.zb=[];this.Pf=[];this.Od=[];c[1]?(this.jn=c[1][1].toLowerCase(),this.group=l,this.bl=!!c[1][0],this.a.vm.push(this),this.a.Tp[this.jn.toLowerCase()]=this.bl):(this.jn="",this.bl=this.group=p);this.fe=c[2];for(var d=c[3],a=0,b=d.length;a<b;a++){var e=new Oa(this,d[a]);this.zb.push(e);this.Up(e.type)}d=c[4];a=0;for(b=d.length;a<b;a++)e=new Pa(this,d[a]),this.Pf.push(e);
if(6===c.length){c=c[5];a=0;for(b=c.length;a<b;a++)this.sheet.Uq(c[a],this,this.Od)}this.dl=p;this.zb.length&&(this.dl=this.zb[0].type==m&&this.zb[0].Bb==M.prototype.t.Ki)}function dc(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.dd)){c=0;for(d=a.ad.length;c<d;c++)e=a.ad[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}}
function ec(a,b){this.td=a;this.sheet=a.sheet;this.a=a.a;this.V=[];this.ka=[];this.pb={};this.Bb=b[1];this.trigger=0<b[3];this.xq=2===b[3];this.Ln=b[4];this.rj=b[5];this.Ev=b[6];-1===b[0]?(this.type=m,this.Mb=this.Mo,this.aj=m,this.Xb=-1):(this.type=this.a.ha[b[0]],this.Mb=this.Ev?this.Dw:this.Lo,b[2]?(this.aj=this.type.Tk(b[2]),this.Xb=this.type.gn(b[2])):(this.aj=m,this.Xb=-1),this.td.parent&&this.td.parent.Pl());this.xq&&(this.Mb=this.Ew);if(8===b.length){var c,d,e=b[7];c=0;for(d=e.length;c<d;c++){var f=
new Qa(this,e[c]);this.V.push(f)}this.ka.length=e.length}}function fc(a,b){this.td=a;this.sheet=a.sheet;this.a=a.a;this.V=[];this.ka=[];this.pb={};this.Bb=b[1];-1===b[0]?(this.type=m,this.Mb=this.Mo,this.aj=m,this.Xb=-1):(this.type=this.a.ha[b[0]],this.Mb=this.Lo,b[2]?(this.aj=this.type.Tk(b[2]),this.Xb=this.type.gn(b[2])):(this.aj=m,this.Xb=-1));if(4===b.length){var c,d,e=b[3];c=0;for(d=e.length;c<d;c++){var f=new Qa(this,e[c]);this.V.push(f)}this.ka.length=e.length}}
function gc(a,b){this.aa=a;this.td=a.td;this.sheet=a.sheet;this.a=a.a;this.type=b[0];this.ye=m;this.jq=this.kg=0;this.Ta=m;this.key=0;this.object=m;this.index=0;this.em=this.yi=this.zq=this.Dg=this.ck=m;var c,d,e;switch(b[0]){case 0:case 7:this.ye=new Ra(this,b[1]);this.kg=0;this.get=this.fv;break;case 1:this.ye=new Ra(this,b[1]);this.kg=0;this.get=this.gv;break;case 5:this.ye=new Ra(this,b[1]);this.kg=0;this.get=this.kv;break;case 3:case 8:this.jq=b[1];this.get=this.dv;break;case 6:this.Ta=this.a.Cn[b[1]];
this.get=this.lv;break;case 9:this.key=b[1];this.get=this.jv;break;case 4:this.object=this.a.ha[b[1]];this.get=this.mv;this.td.Up(this.object);this.aa instanceof Pa?this.td.Pl():this.td.parent&&this.td.parent.Pl();break;case 10:this.index=b[1];this.get=a.type.Oa?this.hv:this.iv;break;case 11:this.ck=b[1];this.Dg=m;this.get=this.ev;break;case 2:case 12:this.zq=b[1];this.get=this.cv;break;case 13:this.get=this.nv;this.yi=[];this.em=[];c=1;for(d=b.length;c<d;c++)e=new Qa(this.aa,b[c]),this.yi.push(e),
this.em.push(0)}}function hc(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.sc=[];this.name=c[1];this.dk=c[2];this.al=c[3];this.fl=!!c[4];this.vn=!!c[5];this.data=this.al;this.parent?this.Rg=this.fl||this.vn?-1:this.a.Hw++:(this.Rg=-1,this.a.wm.push(this))}function ic(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.sc=[];this.$k=m;this.tv=c[1]}function jc(){this.ns=[];this.reset(m)}var $b=[];z=ac.prototype;z.toString=v("name");
z.Uq=function(a,b,c){switch(a[0]){case 0:a=new Sa(this,b,a);if(a.fe){c.push(a);c=0;for(b=a.zb.length;c<b;c++)a.zb[c].trigger&&this.Vq(a,c)}else a.$q()?this.Vq(a,0):c.push(a);break;case 1:a=new Ma(this,b,a);c.push(a);break;case 2:a=new Ta(this,b,a),c.push(a)}};z.wb=function(){var a,b;a=0;for(b=this.Vf.length;a<b;a++)this.Vf[a].wb(a<b-1&&this.Vf[a+1].dl)};
z.Mb=function(){this.nn=l;this.a.tn=l;var a,b;a=0;for(b=this.Vf.length;a<b;a++){var c=this.Vf[a];c.Mb();this.a.Dm(c.sc);(!this.a.ve.sj()||this.a.ue.length)&&this.a.Yc()}this.a.tn=p};
z.Vq=function(a,b){a.fe||this.a.am.push(a);var c,d,e=a.zb[b],f;f=e.type?e.type.name:"system";var g=(c=e.xq)?this.yq:this.ws;g[f]||(g[f]=[]);f=g[f];g=e.Bb;if(c){if(e.V.length&&(e=e.V[0],!(1!==e.type||2!==e.ye.type))){e=e.ye.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==g){c=f[c].Lk;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:g,Lk:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==g){f[c].Lk.push([a,b]);return}f.push({method:g,Lk:[[a,b]]})}};Ka=ac;
bc.prototype.mn=function(){return this.ab?this.type.l.length:this.l.length};bc.prototype.lf=function(){return this.ab?this.type.l:this.l};bc.prototype.Pr=function(a){a&&(a.a.Ic().bd.fe?(this.ab&&(this.l.length=0,oa(this.bb,a.type.l),this.ab=p),a=this.bb.indexOf(a),-1!==a&&(this.l.push(this.bb[a]),this.bb.splice(a,1))):(this.ab=p,this.l.length=1,this.l[0]=a))};Ia=bc;z=cc.prototype;
z.wb=function(a){var b,c=this.parent;if(this.group)for(this.Wl=l;c;){if(!c.group){this.Wl=p;break}c=c.parent}this.fp=!this.$q()&&(!this.parent||this.parent.group&&this.parent.Wl);this.Qq=!!a;this.jg=this.sc.slice(0);for(c=this.parent;c;){a=0;for(b=c.sc.length;a<b;a++)this.zt(c.sc[a]);c=c.parent}this.sc=Zb(this.sc);this.jg=Zb(this.jg);a=0;for(b=this.zb.length;a<b;a++)this.zb[a].wb();a=0;for(b=this.Pf.length;a<b;a++)this.Pf[a].wb();a=0;for(b=this.Od.length;a<b;a++)this.Od[a].wb(a<b-1&&this.Od[a+1].dl)};
z.Up=function(a){dc(a,this.sc)};z.zt=function(a){dc(a,this.jg)};z.Pl=function(){this.ks=l;this.parent&&this.parent.Pl()};z.$q=function(){return this.zb.length?this.zb[0].trigger:p};
z.Mb=function(){var a,b=p,c=this.a.Ic();c.bd=this;this.dl||(c.Tm=p);if(this.fe){0===this.zb.length&&(b=l);c.Hc=0;for(a=this.zb.length;c.Hc<a;c.Hc++)this.zb[c.Hc].trigger||this.zb[c.Hc].Mb()&&(b=l);(c.Uh=b)&&this.Ko()}else{c.Hc=0;for(a=this.zb.length;c.Hc<a;c.Hc++)if(!this.zb[c.Hc].Mb()){c.Uh=p;this.fp&&(!this.a.ve.sj()||this.a.ue.length)&&this.a.Yc();return}c.Uh=l;this.Ko()}c.Uh&&this.Qq&&(c.Tm=l);this.fp&&(!this.a.ve.sj()||this.a.ue.length)&&this.a.Yc()};
z.Bw=function(a){this.a.Ic().bd=this;this.zb[a].Mb()&&this.Ko()};z.Ko=function(){var a=this.a.Ic(),b;a.re=0;for(b=this.Pf.length;a.re<b;a.re++)if(this.Pf[a.re].Mb())return;this.cs()};z.zw=function(){var a=this.a.Ic(),b;for(b=this.Pf.length;a.re<b;a.re++)if(this.Pf[a.re].Mb())return;this.cs()};
z.cs=function(){if(this.Od.length){var a,b,c,d,e=this.Od.length-1;this.a.zo(this);if(this.ks){a=0;for(b=this.Od.length;a<b;a++)c=this.Od[a],(d=!this.Wl||!this.group&&a<e)&&this.a.yo(c.sc),c.Mb(),d?this.a.si(c.sc):this.a.Dm(c.sc)}else{a=0;for(b=this.Od.length;a<b;a++)this.Od[a].Mb()}this.a.Sr()}};z.Cw=function(){var a=this.a.Ic();a.bd=this;var b=p,c;a.Hc=0;for(c=this.zb.length;a.Hc<c;a.Hc++)if(this.zb[a.Hc].Mb())b=l;else if(!this.fe)return p;return this.fe?b:l};Sa=cc;z=ec.prototype;
z.wb=function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.V[a].wb()};z.Ew=x(l);z.Mo=function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.ka[a]=this.V[a].get();return za(this.Bb.apply(this.a.lh,this.ka),this.rj)};z.Dw=function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.ka[a]=this.V[a].get();a=this.Bb.apply(this.type,this.ka);this.type.$i();return a};
z.Lo=function(){var a,b,c,d,e,f,g,h=this.type.Ra(),i=this.td.fe&&!this.trigger,j=0,k=this.type.dd;if(h.ab){h.l.length=0;a=h.bb.length=0;for(c=this.type.l.length;a<c;a++){f=this.type.l[a];b=0;for(d=this.V.length;b<d;b++)this.ka[b]=this.V[b].get(a);-1<this.Xb?(this.type.Oa&&(j=f.type.Ih[this.type.ze]),b=this.Bb.apply(f.Pb[this.Xb+j],this.ka)):b=this.Bb.apply(f,this.ka);(e=za(b,this.rj))?h.l.push(f):i&&h.bb.push(f)}this.type.finish&&this.type.finish(l);h.ab=p;this.type.$i();return h.mn()}var n=0,r=i?
h.bb:h.l;e=p;a=0;for(c=r.length;a<c;a++){f=r[a];b=0;for(d=this.V.length;b<d;b++)this.ka[b]=this.V[b].get(a);-1<this.Xb?(this.type.Oa&&(j=f.type.Ih[this.type.ze]),b=this.Bb.apply(f.Pb[this.Xb+j],this.ka)):b=this.Bb.apply(f,this.ka);if(za(b,this.rj))if(e=l,i){if(h.l.push(f),k){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.Ra().l.push(g)}}else{r[n]=f;if(k){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.Ra().l[n]=g}n++}else if(i){r[n]=f;if(k){b=0;for(d=f.siblings.length;b<d;b++)g=
f.siblings[b],g.type.Ra().bb[n]=g}n++}}r.length=n;if(k){a=0;for(c=this.type.ad.length;a<c;a++)f=this.type.ad[a].Ra(),i?f.bb.length=n:f.l.length=n}j=e;if(i&&!e){a=0;for(c=h.l.length;a<c;a++){f=h.l[a];b=0;for(d=this.V.length;b<d;b++)this.ka[b]=this.V[b].get(a);b=-1<this.Xb?this.Bb.apply(f.Pb[this.Xb],this.ka):this.Bb.apply(f,this.ka);if(za(b,this.rj)){e=l;break}}}this.type.finish&&this.type.finish(j||i);return i?e:h.mn()};Oa=ec;fc.prototype.wb=function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.V[a].wb()};
fc.prototype.Mo=function(){var a,b;a=0;for(b=this.V.length;a<b;a++)this.ka[a]=this.V[a].get();return this.Bb.apply(this.a.lh,this.ka)};fc.prototype.Lo=function(){var a=this.type.Ra().lf(),b,c,d,e,f;b=0;for(d=a.length;b<d;b++){f=a[b];c=0;for(e=this.V.length;c<e;c++)this.ka[c]=this.V[c].get(b);-1<this.Xb?(c=0,this.type.Oa&&(c=f.type.Ih[this.type.ze]),this.Bb.apply(f.Pb[this.Xb+c],this.ka)):this.Bb.apply(f,this.ka)}return p};Pa=fc;var kc=[],lc=-1;z=gc.prototype;
z.wb=function(){var a,b;if(11===this.type)this.Dg=this.a.Kq(this.ck,this.td.parent);else if(13===this.type){a=0;for(b=this.yi.length;a<b;a++)this.yi[a].wb()}this.ye&&this.ye.wb()};z.Lb=function(){lc++;kc.length===lc&&kc.push(new Ua);return kc[lc]};z.Eb=function(){lc--};z.fv=function(a){this.kg=a||0;a=this.Lb();this.ye.get(a);this.Eb();return a.data};z.gv=function(a){this.kg=a||0;a=this.Lb();this.ye.get(a);this.Eb();return J(a.data)?a.data:""};z.mv=v("object");z.dv=v("jq");
z.kv=function(a){this.kg=a||0;a=this.Lb();this.ye.get(a);this.Eb();return a.Tb()?this.a.Ce(a.data):this.a.Kh(a.data)};z.lv=v("Ta");z.jv=v("key");z.iv=v("index");z.hv=function(a){var b=this.aa.type,c=m,c=b.Ra(),d=c.lf(),c=d.length?d[a%d.length].type:c.bb[a%c.bb.length].type;return this.index+c.Ok[b.ze]};z.ev=v("Dg");z.cv=v("zq");z.nv=function(){var a,b;a=0;for(b=this.yi.length;a<b;a++)this.em[a]=this.yi[a].get();return this.em};Qa=gc;hc.prototype.wb=function(){this.sc=Zb(this.sc)};
hc.prototype.Gf=function(a){var b=this.a.Iq();!this.parent||this.fl||!b?this.data=a:(this.Rg>=b.length&&(b.length=this.Rg+1),b[this.Rg]=a)};hc.prototype.Gg=function(){var a=this.a.Iq();return!this.parent||this.fl||!a||this.vn?this.data:this.Rg>=a.length||"undefined"===typeof a[this.Rg]?this.al:a[this.Rg]};hc.prototype.Mb=function(){this.parent&&(!this.fl&&!this.vn)&&this.Gf(this.al)};Ma=hc;ic.prototype.wb=function(){this.$k=this.a.Vm[this.tv];this.sheet.Sq.add(this.$k);this.sc=Zb(this.sc)};
ic.prototype.Mb=function(){this.parent&&this.a.Vj(this.a.ha);this.$k.nn||this.$k.Mb();this.parent&&this.a.si(this.a.ha)};Ta=ic;jc.prototype.reset=function(a){this.bd=a;this.re=this.Hc=0;this.ns.length=0;this.Tm=this.Uh=p};La=jc;
function mc(a,b){this.aa=a;this.a=a.a;this.type=b[0];this.get=[this.yu,this.uu,this.Gu,this.Ju,this.ou,this.Hu,this.Cu,this.ru,this.Bu,this.Fu,this.pu,this.Eu,this.su,this.Du,this.zu,this.Au,this.vu,this.wu,this.qu,this.Iu,this.tq,this.xu,this.tq,this.tu][this.type];var c=m;this.Rc=this.V=this.ka=this.Bb=this.Ul=this.Vb=this.first=this.value=m;this.Xb=-1;this.nf=m;this.lp=-1;this.Dg=this.ck=this.Jt=m;this.Wj=p;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=new Ra(a,
b[1]);break;case 18:this.first=new Ra(a,b[1]);this.Vb=new Ra(a,b[2]);this.Ul=new Ra(a,b[3]);break;case 19:this.Bb=b[1];this.ka=[];this.V=[];3===b.length?(c=b[2],this.ka.length=c.length+1):this.ka.length=1;break;case 20:this.Rc=this.a.ha[b[1]];this.Xb=-1;this.Bb=b[2];this.Wj=b[3];this.nf=b[4]?new Ra(a,b[4]):m;this.ka=[];this.V=[];6===b.length?(c=b[5],this.ka.length=c.length+1):this.ka.length=1;break;case 21:this.Rc=this.a.ha[b[1]];this.Wj=b[2];this.nf=b[3]?new Ra(a,b[3]):m;this.lp=b[4];break;case 22:this.Rc=
this.a.ha[b[1]];this.Jt=this.Rc.Tk(b[2]);this.Xb=this.Rc.gn(b[2]);this.Bb=b[3];this.Wj=b[4];this.nf=b[5]?new Ra(a,b[5]):m;this.ka=[];this.V=[];7===b.length?(c=b[6],this.ka.length=c.length+1):this.ka.length=1;break;case 23:this.ck=b[1],this.Dg=m}4<=this.type&&17>=this.type&&(this.first=new Ra(a,b[1]),this.Vb=new Ra(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.V.push(new Ra(a,c[d]))}}
function nc(a,b){this.type=a||Va.Pi;this.data=b||0;this.oi=m;this.type==Va.Pi&&(this.data=Math.floor(this.data))}z=mc.prototype;z.wb=function(){23===this.type&&(this.Dg=this.aa.a.Kq(this.ck,this.aa.td.parent));this.first&&this.first.wb();this.Vb&&this.Vb.wb();this.Ul&&this.Ul.wb();this.nf&&this.nf.wb();if(this.V){var a,b;a=0;for(b=this.V.length;a<b;a++)this.V[a].wb()}};
z.Iu=function(a){this.ka[0]=a;var a=this.aa.Lb(),b,c;b=0;for(c=this.V.length;b<c;b++)this.V[b].get(a),this.ka[b+1]=a.data;this.aa.Eb();this.Bb.apply(this.a.lh,this.ka)};
z.tq=function(a){var b=this.Rc.Ra(),c=b.lf();if(!c.length)if(b.bb.length)c=b.bb;else{this.Wj?a.Kd(""):a.Qa(0);return}this.ka[0]=a;a.oi=this.Rc;var a=this.aa.Lb(),d,b=0;for(d=this.V.length;b<d;b++)this.V[b].get(a),this.ka[b+1]=a.data;b=this.aa.kg;this.nf&&(this.nf.get(a),a.Tb()&&(b=a.data,c=this.Rc.l));this.aa.Eb();b%=c.length;0>b&&(b+=c.length);c=c[b];-1<this.Xb?(a=0,this.Rc.Oa&&(a=c.type.Ih[this.Rc.ze]),this.Bb.apply(c.Pb[this.Xb+a],this.ka)):this.Bb.apply(c,this.ka)};
z.xu=function(a){var b=this.Rc.Ra(),c=b.lf();if(!c.length)if(b.bb.length)c=b.bb;else{this.Wj?a.Kd(""):a.Qa(0);return}b=this.aa.kg;if(this.nf){var d=this.aa.Lb();this.nf.get(d);if(d.Tb()){b=d.data;c=this.Rc.l;b%=c.length;0>b&&(b+=c.length);c=c[b].Wd[this.lp];J(c)?a.Kd(c):a.S(c);this.aa.Eb();return}this.aa.Eb()}b%=c.length;0>b&&(b+=c.length);c=c[b];b=0;this.Rc.Oa&&(b=c.type.Ok[this.Rc.ze]);c=c.Wd[this.lp+b];J(c)?a.Kd(c):a.S(c)};z.yu=function(a){a.type=Va.Pi;a.data=this.value};
z.uu=function(a){a.type=Va.Li;a.data=this.value};z.Gu=function(a){a.type=Va.rm;a.data=this.value};z.Ju=function(a){this.first.get(a);a.Tb()&&(a.data=-a.data)};z.ou=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data+=b.data,b.Ph()&&a.mi());this.aa.Eb()};z.Hu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data-=b.data,b.Ph()&&a.mi());this.aa.Eb()};
z.Cu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data*=b.data,b.Ph()&&a.mi());this.aa.Eb()};z.ru=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data/=b.data,a.mi());this.aa.Eb()};z.Bu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data%=b.data,b.Ph()&&a.mi());this.aa.Eb()};
z.Fu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data=Math.pow(a.data,b.data),b.Ph()&&a.mi());this.aa.Eb()};z.pu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()?b.gl()?a.Kd(a.data.toString()+b.data):a.data&&b.data?a.Qa(1):a.Qa(0):a.gl()&&(a.data=b.gl()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.aa.Eb()};
z.Eu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Tb()&&b.Tb()&&(a.data||b.data?a.Qa(1):a.Qa(0));this.aa.Eb()};z.qu=function(a){this.first.get(a);a.data?this.Vb.get(a):this.Ul.get(a)};z.su=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Qa(a.data===b.data?1:0);this.aa.Eb()};z.Du=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Qa(a.data!==b.data?1:0);this.aa.Eb()};
z.zu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Qa(a.data<b.data?1:0);this.aa.Eb()};z.Au=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Qa(a.data<=b.data?1:0);this.aa.Eb()};z.vu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Qa(a.data>b.data?1:0);this.aa.Eb()};z.wu=function(a){this.first.get(a);var b=this.aa.Lb();this.Vb.get(b);a.Qa(a.data>=b.data?1:0);this.aa.Eb()};z.tu=function(a){var b=this.Dg.Gg();F(b)?a.S(b):a.Kd(b)};Ra=mc;z=nc.prototype;
z.Ph=function(){return this.type===Va.Li};z.Tb=function(){return this.type===Va.Pi||this.type===Va.Li};z.gl=function(){return this.type===Va.rm};z.mi=function(){this.Ph()||(this.gl()&&(this.data=parseFloat(this.data)),this.type=Va.Li)};z.Qa=function(a){this.type=Va.Pi;this.data=Math.floor(a)};z.S=function(a){this.type=Va.Li;this.data=a};z.Kd=function(a){this.type=Va.rm;this.data=a};Ua=nc;Va={Pi:0,Li:1,rm:2};function M(a){this.a=a;this.Jf=[]}function oc(){}function pc(){}function qc(){}var rc=M.prototype;
z=oc.prototype;z.Is=x(l);z.Dp=x(l);z.at=x(l);z.Gs=function(a,b,c){return sc(a,b,c)};z.tt=function(){var a=this.a.Hq().pb;"undefined"===typeof a.sm&&(a.sm=-1);var b=a.sm,c=this.a.Ai;a.sm=c;return this.a.Bn||b!==c-1};z.rh=function(a,b,c){return sc(a.Gg(),b,c)};z.Ki=function(){var a=this.a.Ic();return a.Tm?p:!a.Uh};z.Ep=x(l);z.Rs=x(l);rc.t=new oc;z=pc.prototype;
z.Hs=function(a,b,c,d){if(b&&a&&(b=this.a.Jm(a,b,c,d))){this.a.cd++;var e;this.a.trigger(Object.getPrototypeOf(a.vb).t.lk,b);if(b.dd){c=0;for(d=b.siblings.length;c<d;c++)e=b.siblings[c],this.a.trigger(Object.getPrototypeOf(e.type.vb).t.lk,e)}this.a.cd--;a=a.Ra();a.ab=p;a.l.length=1;a.l[0]=b;if(b.dd){c=0;for(d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Ra(),a.ab=p,a.l.length=1,a.l[0]=e}}};z.kt=function(a,b){this.a.Ca.ds(a);this.a.Ca.es(b)};
z.qe=function(a,b){0===a.dk?F(b)?a.Gf(b):a.Gf(parseFloat(b)):1===a.dk&&a.Gf(b.toString())};z.tp=function(a,b){0===a.dk?F(b)?a.Gf(a.Gg()+b):a.Gf(a.Gg()+parseFloat(b)):1===a.dk&&a.Gf(a.Gg()+b.toString())};z.qt=function(a,b){0===a.dk&&(F(b)?a.Gf(a.Gg()-b):a.Gf(a.Gg()-parseFloat(b)))};z.it=function(){var a,b,c;a=0;for(b=this.a.wm.length;a<b;a++)c=this.a.wm[a],c.data=c.al};
z.jt=function(){if(!this.a.uj&&!this.a.Dh&&this.a.Ca){this.a.Dh=this.a.Ca;var a,b,c;a=0;for(b=this.a.vm.length;a<b;a++)c=this.a.vm[a],this.a.Tp[c.jn.toLowerCase()]=c.bl}};rc.I=new pc;qc.prototype["int"]=function(a,b){J(b)?(a.Qa(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Qa(b)};qc.prototype["float"]=function(a,b){J(b)?(a.S(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.S(b)};z=qc.prototype;z.random=function(a,b,c){c===aa?a.S(Math.random()*b):a.S(Math.random()*(c-b)+b)};z.sqrt=function(a,b){a.S(Math.sqrt(b))};
z.abs=function(a,b){a.S(Math.abs(b))};z.round=function(a,b){a.Qa(Math.round(b))};z.floor=function(a,b){a.Qa(Math.floor(b))};z.ceil=function(a,b){a.Qa(Math.ceil(b))};z.sin=function(a,b){a.S(Math.sin(K(b)))};z.cos=function(a,b){a.S(Math.cos(K(b)))};z.tan=function(a,b){a.S(Math.tan(K(b)))};z.asin=function(a,b){a.S(qa(Math.asin(b)))};z.acos=function(a,b){a.S(qa(Math.acos(b)))};z.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.S(b)};
z.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.S(b)};z.ja=function(a){a.S(this.a.ja)};z.oh=function(a){a.S(this.a.oh)};z.time=function(a){a.S(this.a.Th.Pd)};z.Ai=function(a){a.Qa(this.a.Ai)};z.Hl=function(a){a.Qa(this.a.Hl)};z.bn=function(a){a.Qa(this.a.bn)};z.hf=function(a,b,c,d,e){a.S(ya(b,c,d,e))};z.o=function(a,b,c,d,e){a.S(qa(ua(b,c,d,e)))};z.Ad=function(a){a.Qa(this.a.Ca.width)};z.left=function(a,b,c){a.Kd(J(b)?b.substr(0,c):"")};
z.right=function(a,b,c){a.Kd(J(b)?b.substr(b.length-c):"")};z.replace=function(a,b,c,d){J(b)&&J(c)&&J(d)?a.Kd(b.replace(RegExp(Ea(c),"gi"),d)):a.Kd(J(b)?b:"")};z.Im=function(a){a.S(this.a.Im/1E3)};z.op=function(a,b){var c=this.a.Lq(b);a.S(c?c.qd:0)};z.np=function(a,b){var c=this.a.Lq(b);a.S(c?c.Wc:0)};z.rl=function(a){a.S(this.a.rl)};rc.L=new qc;
rc.Aw=function(){var a,b,c,d,e,f=this.a.Ic();a=0;for(c=this.Jf.length;a<c;a++)if(d=this.Jf[a],!(d.time>this.a.Th.Pd)){f.bd=d.nu;f.re=d.re;f.Hc=0;for(b in d.wi)d.wi.hasOwnProperty(b)&&(e=this.a.ha[parseInt(b,10)].Ra(),e.ab=p,e.l=d.wi[b]);d.nu.zw();this.a.Dm(d.sc);d.Tt=l}b=a=0;for(c=this.Jf.length;a<c;a++)d=this.Jf[a],this.Jf[b]=d,d.Tt||b++;this.Jf.length=b};
function tb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],h=a[7],a=a[8];b.t||(b.t={});b.I||(b.I={});b.L||(b.L={});var i=b.t,j=b.I,b=b.L;d&&(i.wp=function(a,b){return sc(this.x,a,b)},i.ik=function(a,b){return sc(this.y,a,b)},i.km=function(){var a=this.H;this.xb();var b=this.oa;return!(b.right<a.Qd||b.bottom<a.qd||b.left>a.pd||b.top>a.Wc)},i.qx=function(){this.xb();var a=this.oa,b=this.a.Ca;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},i.Bx=function(a,b,c){var d=this.Ra(),
e=d.lf();if(!e.length)return p;var f=e[0],g=f,h=ya(f.x,f.y,b,c),i,j,A;i=1;for(j=e.length;i<j;i++)if(f=e[i],A=ya(f.x,f.y,b,c),0===a&&A<h||1===a&&A>h)h=A,g=f;d.Pr(g);return l},j.Tx=function(a){this.x!==a&&(this.x=a,this.G())},j.Ux=function(a){this.y!==a&&(this.y=a,this.G())},j.Ox=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.G()},j.Px=function(a,b){var c=a.Yu(this);if(c){var d;c.xd?(d=c.xd(b,l),c=c.xd(b,p)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.G()}},j.vx=function(a){0!==
a&&(this.x+=Math.cos(this.o)*a,this.y+=Math.sin(this.o)*a,this.G())},j.ux=function(a,b){0!==b&&(this.x+=Math.cos(K(a))*b,this.y+=Math.sin(K(a))*b,this.G())},b.qk=function(a){a.S(this.x)},b.tm=function(a){a.S(this.y)},b.ja=function(a){a.S(this.a.nj(this))});e&&(i.ix=function(a,b){return sc(this.width,a,b)},i.ex=function(a,b){return sc(this.height,a,b)},j.nt=function(a){this.width!==a&&(this.width=a,this.G())},j.Lx=function(a){this.height!==a&&(this.height=a,this.G())},j.Qx=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.G()},b.Yx=function(a){a.S(this.width)},b.kx=function(a){a.S(this.height)});f&&(i.dx=function(a,b){return va(this.o,K(b))<=K(a)},i.ox=function(a){return xa(this.o,K(a))},i.mx=function(a,b){var c=ta(a),d=ta(b),e=L(this.o);return xa(d,c)?xa(e,c)&&!xa(e,d):!(!xa(e,c)&&xa(e,d))},j.Lp=function(a){a=K(ra(a));!isNaN(a)&&this.o!==a&&(this.o=a,this.G())},j.Ex=function(a){0!==a&&!isNaN(a)&&(this.o+=K(a),this.o=L(this.o),this.G())},j.Fx=function(a){0!==a&&!isNaN(a)&&
(this.o-=K(a),this.o=L(this.o),this.G())},j.Gx=function(a,b){var c=wa(this.o,K(b),K(a));!isNaN(c)&&this.o!==c&&(this.o=c,this.G())},j.Hx=function(a,b,c){a=wa(this.o,Math.atan2(c-this.y,b-this.x),K(a));!isNaN(a)&&this.o!==a&&(this.o=a,this.G())},j.Rx=function(a,b){var c=Math.atan2(b-this.y,a-this.x);!isNaN(c)&&this.o!==c&&(this.o=c,this.G())},b.cx=function(a){a.S(sa(this.o))});c||(i.gx=function(a,b,c){return sc(this.Wd[a],b,c)},i.nx=function(a){return this.Wd[a]},i.Ax=function(a){return this.uid===
a},i.lk=x(l),i.Ss=x(l),j.Mx=function(a,b){var c=this.Wd;F(c[a])?c[a]=F(b)?b:parseFloat(b):J(c[a])&&(c[a]=J(b)?b:b.toString())},j.bx=function(a,b){var c=this.Wd;F(c[a])?c[a]=F(b)?c[a]+b:c[a]+parseFloat(b):J(c[a])&&(c[a]=J(b)?c[a]+b:c[a]+b.toString())},j.Vx=function(a,b){var c=this.Wd;F(c[a])&&(c[a]=F(b)?c[a]-b:c[a]-parseFloat(b))},j.Ix=function(a,b){this.Wd[a]=b?1:0},j.Wx=function(a){this.Wd[a]=1-this.Wd[a]},j.mc=function(){this.a.th(this)},b.jx=function(a){var b=a.oi.l.length,c,d,e;c=0;for(d=this.a.ue.length;c<
d;c++)e=this.a.ue[c],a.oi.Oa?0<=e.type.Jb.indexOf(a.oi)&&b++:e.type===a.oi&&b++;a.Qa(b)},b.Dx=function(a){a.Qa(a.oi.Ra().lf().length)},b.Xx=function(a){a.Qa(this.uid)},b.lx=function(a){a.Qa(this.Xk())});g&&(i.rx=v("visible"),j.Sx=function(a){!a!==!this.visible&&(this.visible=a,this.a.Ia=l)},i.hx=function(a,b){return sc(Ha(100*this.opacity),a,b)},j.Nx=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.a.Ia=l)},b.zx=function(a){a.S(Ha(100*this.opacity))});h&&(i.px=function(a){return!a?
p:this.H===a},i.Cx=function(a){var b=this.Ra(),c=b.lf();if(!c.length)return p;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.H.index>e.H.index||d.H.index===e.H.index&&d.mf()>e.mf())e=d}else if(d.H.index<e.H.index||d.H.index===e.H.index&&d.mf()<e.mf())e=d;b.Pr(e);return l},j.yx=function(){var a=this.mf();a!==this.H.l.length-1&&(na(this.H.l,a),this.H.l.push(this),this.a.Ia=l,this.H.rg=l)},j.wx=function(){var a=this.mf();0!==a&&(na(this.H.l,a),this.H.l.unshift(this),this.a.Ia=l,
this.H.rg=l)},j.xx=function(a){a&&a!=this.H&&(na(this.H.l,this.mf()),this.H.rg=l,this.H=a,this.rp=a.l.length,a.l.push(this),this.a.Ia=l)},b.tx=function(a){a.Qa(this.H.Jr)},b.sx=function(a){a.Kd(this.H.name)},b.Zx=function(a){a.Qa(this.mf())});a&&(j.Jx=function(a,b){if(this.a.T){var c=this.type.Jq(b);if(!(0>c)){var d=1===a;this.zh[c]!==d&&(this.zh[c]=d,this.Ei(),this.a.Ia=l)}}},j.Kx=function(a,b,c){if(this.a.T){var d=this.type.Jq(a);0>d||(a=this.type.La[d],d=this.oc[d],b=Math.floor(b),0>b||b>=d.length||
(1===this.a.T.av(a.ic,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.vg&&(this.a.Ia=l))))}})}function Kb(){this.zm=l;this.a.Ia=l;var a,b;a=0;for(b=this.uk.length;a<b;a++)this.uk[a](this)}function Lb(a){a&&this.uk.push(a)}
function Nb(){if(this.zm){this.oa.set(this.x,this.y,this.x+this.width,this.y+this.height);this.oa.offset(-this.De*this.width,-this.Ee*this.height);this.o?(this.oa.offset(-this.x,-this.y),this.Na.hs(this.oa,this.o),this.Na.offset(this.x,this.y),this.Na.cq(this.oa)):this.Na.Qo(this.oa);var a=0;this.oa.left>this.oa.right&&(a=this.oa.left,this.oa.left=this.oa.right,this.oa.right=a);this.oa.top>this.oa.bottom&&(a=this.oa.top,this.oa.top=this.oa.bottom,this.oa.bottom=a);this.zm=p}}
function Mb(a,b){return!this.oa.ud(a,b)||!this.Na.ud(a,b)?p:this.Ja&&!this.Ja.Oh()?(this.Ja.Ch(this.width,this.height,this.o),this.Ja.ud(a-this.x,b-this.y)):l}function Gb(){this.type.bm();return this.pj}function Ob(){this.H.Qw();return this.rp}function Pb(){this.Ea.length=0;var a,b;a=0;for(b=this.zh.length;a<b;a++)this.zh[a]&&this.Ea.push(this.type.La[a]);this.Bs=!!this.Ea.length}function Hb(){return this.type.name+"#"+this.uid}function vb(){var a=this.Ra().lf();return a.length?a[0]:m}
function wb(a){var b=this.Ra().lf();return b.length?b[a.Xk()%b.length]:m}function ub(){if(this.kh&&!this.Oa){var a,b;a=0;for(b=this.l.length;a<b;a++)this.l[a].pj=a;this.kh=p}}function xb(){return this.lg[this.gf]}function yb(){this.gf++;this.gf===this.lg.length?this.lg.push(new Ia(this)):this.lg[this.gf].ab=l}function zb(){this.gf++;this.gf===this.lg.length&&this.lg.push(new Ia(this));var a=this.lg[this.gf],b=this.lg[this.gf-1];b.ab?a.ab=l:(a.ab=p,oa(a.l,b.l))}function Ab(){this.gf--}
function Bb(a){var b,c,d,e,f,g=0;if(!this.Oa){b=0;for(c=this.Jb.length;b<c;b++){f=this.Jb[b];d=0;for(e=f.ob.length;d<e;d++){if(a===f.ob[d].name)return this.pb.br=g,f.ob[d];g++}}}b=0;for(c=this.ob.length;b<c;b++){if(a===this.ob[b].name)return this.pb.br=g,this.ob[b];g++}return m}function Cb(a){return this.Tk(a)?this.pb.br:-1}function Db(a){var b,c;b=0;for(c=this.La.length;b<c;b++)if(this.La[b].name===a)return b;return-1}
function Eb(){if(this.dd&&!this.Oa){var a,b,c,d,e,f,g;this.bm();f=this.Ra();var h=f.ab,i=(a=this.a.Ic())&&a.bd&&a.bd.fe;a=0;for(b=this.ad.length;a<b;a++)if(e=this.ad[a],e!==this&&(e.bm(),g=e.Ra(),g.ab=h,!h)){g.l.length=f.l.length;c=0;for(d=f.l.length;c<d;c++)g.l[c]=e.l[f.l[c].pj];if(i){g.bb.length=f.bb.length;c=0;for(d=f.bb.length;c<d;c++)g.bb[c]=e.l[f.bb[c].pj]}}}}function Fb(){return this.name}
function sc(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return p;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return p}}var ob={};function tc(a){this.a=a}
function uc(a,b){this.src=a;this.de=vc;this.el=b;this.Vp=p;var c=this;vc===wc&&(b&&!xc.rn&&!xc.Ng)&&(this.de=yc);this.wc=m;var d;switch(this.de){case yc:b&&xc.Lg&&CocoonJS.App.markAsMusic(a);this.wc=new Audio;this.wc.autoplay=p;this.wc.Ay="auto";this.wc.src=a;break;case wc:d=new XMLHttpRequest;d.open("GET",a,l);d.responseType="arraybuffer";d.onload=function(){if(zc.decodeAudioData)zc.decodeAudioData(d.response,function(a){c.wc=a;ea(c.Jl)||(a=new Ac(c,c.Jl),a.play(c.pr,c.Es),Bc.push(a))});else if(c.wc=
zc.createBuffer(d.response,p),!ea(c.Jl)){var a=new Ac(c,c.Jl);a.play(c.pr,c.Es);Bc.push(a)}};d.send();break;case Cc:this.wc=l;break;case Dc:this.wc=l}}
function Ac(a,b){this.Zj=b;this.Nd=this.Ae=l;this.src=a.src;this.buffer=a;this.de=a.de;this.el=a.el;this.playbackRate=1;this.qo=l;this.Ln=this.Ef=p;var c=this;this.Hr=this.volume=1;this.startTime=xc.Th.Pd;this.ta=m;var d=p;switch(this.de){case yc:this.el?(this.ta=a.wc,d=!a.Vp,a.Vp=l):(this.ta=new Audio,this.ta.autoplay=p,this.ta.src=a.wc.src,d=l);d&&this.ta.addEventListener("ended",function(){Ec=c.Zj;c.Nd=l;xc.trigger(tc.prototype.t.mm,Fc)});break;case wc:a.wc&&(this.ta=zc.createBufferSource(),this.ta.buffer=
a.wc,this.ta.connect(zc.destination));break;case Cc:this.ta=new window.Media(Gc+this.src,m,m,function(a){a===window.Media.MEDIA_STOPPED&&(c.qo=l,c.Nd=l,Ec=c.Zj,xc.trigger(tc.prototype.t.mm,Fc))});break;case Dc:this.ta=l}}function Hc(){}function Ic(){}var Jc=tc.prototype;Jc.Da=function(a){this.vb=a;this.a=a.a};Jc.Da.prototype.ga=q();var xc=m,Fc=m,Ec="",Gc="",yc=0,wc=1,Cc=2,Dc=3,vc=yc,zc=m,Kc=[],Bc=[],Lc=m,Mc=p,Nc=0,Oc=p;z=Ac.prototype;
z.ln=function(){switch(this.de){case yc:return this.ta.ended;case wc:return!this.Ae&&!this.Nd&&this.ta.loop?p:xc.Th.Pd-this.startTime>this.buffer.wc.duration;case Cc:return this.qo;case Dc:l}return l};z.Nt=function(){return this.Ae||this.Nd?l:this.ln()};
z.play=function(a,b){var c=this.ta;this.Ln=a;switch(this.de){case yc:1!==c.playbackRate&&(c.playbackRate=1);c.volume!==b&&(c.volume=b);c.loop!==a&&(c.loop=a);c.muted&&(c.muted=p);if(!this.Ae&&this.Nd&&0!==c.currentTime)try{c.currentTime=0}catch(d){}this.ta.play();break;case wc:this.muted=p;this.volume=b;this.Hr=1;this.Ae||(this.ta=zc.createBufferSource(),this.ta.buffer=this.buffer.wc,this.ta.connect(zc.destination));this.ta.loop=a;this.ta.gain.value=b;this.ta.noteOn(0);break;case Cc:!this.Ae&&this.Nd&&
c.seekTo(0);c.play();this.qo=p;break;case Dc:xc.Xd?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=xc.Th.Pd;this.Nd=this.Ae=p};z.Pw=function(){var a=this.playbackRate;if(1===Nc&&!this.el||2===Nc)a*=xc.oh;switch(this.de){case yc:this.ta.playbackRate!==a&&(this.ta.playbackRate=a);break;case wc:this.ta.playbackRate.value!==a&&(this.ta.playbackRate.value=a)}};
z.Po=function(a){switch(this.de){case yc:a?!this.Ae&&!this.Nd?(this.ta.pause(),this.Ef=l):this.Ef=p:this.Ef&&this.ta.play();break;case wc:a?!this.Ae&&!this.Nd?(this.ta.noteOff(0),this.Ef=l):this.Ef=p:this.Ef&&(this.ta=zc.createBufferSource(),this.ta.buffer=this.buffer.wc,this.ta.connect(zc.destination),this.ta.loop=this.Ln,this.ta.gain.value=this.volume*this.Hr,this.ta.noteOn(0));break;case Cc:a?!this.Ae&&!this.Nd?(this.ta.pause(),this.Ef=l):this.Ef=p:this.Ef&&this.ta.play()}};
Jc.ua=function(a){this.type=a;xc=this.a=a.a;Fc=this;zc=m;"undefined"!==typeof AudioContext?(vc=wc,zc=new AudioContext):"undefined"!==typeof webkitAudioContext&&(vc=wc,zc=new webkitAudioContext);this.a.Ng&&vc===wc&&document.addEventListener("touchstart",function(){if(!Oc){var a=zc.createBuffer(1,1,22050),c=zc.by();c.buffer=a;c.ay(zc.cy);c.xy(0);Oc=l}},l);vc!==wc&&(this.a.Mg?vc=Cc:this.a.Mh&&(vc=Dc));vc===Cc&&(Gc=location.href,a=Gc.lastIndexOf("/"),-1<a&&(Gc=Gc.substr(0,a+1)),Gc=Gc.replace("file://",
""));this.a.Av&&this.a.Zq&&"undefined"===typeof Audio?(alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.a.th(this)):(Mc=this.a.Xd?this.a.pn:!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"'),this.a.rs(this))};var Pc=Jc.ua.prototype;Pc.ga=function(){Nc=this.P[0];this.a.At(function(a){Fc.pw(a)})};Pc.pw=function(a){var b,c;b=0;for(c=Bc.length;b<c;b++)Bc[b].Po(a)};
Pc.Vc=function(){var a,b,c;a=0;for(b=Bc.length;a<b;a++)c=Bc[a],c.de!==yc&&c.de!==Dc&&(!c.Ae&&!c.Nd&&c.ln())&&(c.Nd=l,Ec=c.Zj,xc.trigger(tc.prototype.t.mm,Fc)),0!==Nc&&c.Pw()};Pc.Qu=function(a,b){var c,d,e;c=0;for(d=Kc.length;c<d;c++)if(e=Kc[c],e.src===a)return e;e=new uc(a,b);Kc.push(e);return e};
Pc.Ru=function(a,b,c,d,e){var f,g,h;f=0;for(g=Bc.length;f<g;f++)if(h=Bc[f],h.src===a&&h.Nt())return h.Zj=b,h;a=this.Qu(a,c);if(!a.wc)return"<preload>"!==b&&(a.Jl=b,a.pr=d,a.Es=e),m;h=new Ac(a,b);Bc.push(h);return h};var Qc=[];Pc.dy=function(a){Qc.length=0;if(a.length){var b,c,d;b=0;for(c=Bc.length;b<c;b++)d=Bc[b],a.toLowerCase()===d.Zj.toLowerCase()&&Qc.push(d)}else Lc&&!Lc.ln()&&(Qc.length=1,Qc[0]=Lc)};Hc.prototype.mm=function(a){return Ec.toLowerCase()===a.toLowerCase()};Jc.t=new Hc;
Ic.prototype.Play=function(a,b,c,d){c=Math.pow(10,c/20);0>c&&(c=0);1<c&&(c=1);(Lc=this.Ru(this.a.Aq+a[0]+(Mc?".ogg":".m4a"),d,a[1],0!==b,c))&&Lc.play(0!==b,c)};Jc.I=new Ic;Jc.L=new (q());function Rc(a){this.a=a}function Sc(){}var Tc=Rc.prototype;Tc.Da=function(a){this.vb=a;this.a=a.a};Tc.Da.prototype.ga=q();Tc.ua=function(a){this.type=a;this.a=a.a;this.ll=Array(256);this.cm=Array(256);this.Di=0};var Uc=Tc.ua.prototype;
Uc.ga=function(){var a=this;this.a.cc||(jQuery(document).keydown(function(b){a.io(b)}),jQuery(document).keyup(function(b){a.jo(b)}))};Uc.io=function(a){if(this.ll[a.which])this.cm[a.which]&&a.preventDefault();else{this.ll[a.which]=l;this.Di=a.which;this.a.trigger(Rc.prototype.t.Ps,this);var b=this.a.trigger(Rc.prototype.t.Ws,this),c=this.a.trigger(Rc.prototype.t.Xs,this);if(b||c)this.cm[a.which]=l,a.preventDefault()}};
Uc.jo=function(a){this.ll[a.which]=p;this.Di=a.which;this.a.trigger(Rc.prototype.t.Qs,this);var b=this.a.trigger(Rc.prototype.t.Zs,this),c=this.a.trigger(Rc.prototype.t.Ys,this);if(b||c||this.cm[a.which])this.cm[a.which]=l,a.preventDefault()};z=Sc.prototype;z.zp=function(a){return this.ll[a]};z.Ws=function(a){return a===this.Di};z.Ps=x(l);z.Qs=x(l);z.Zs=function(a){return a===this.Di};z.Xs=function(a){return a===this.Di};z.Ys=function(a){return a===this.Di};Tc.t=new Sc;Tc.I=new (q());Tc.L=new (q());
function Vc(a){this.a=a}function Wc(){}function Xc(){}var Yc=Vc.prototype;Yc.Da=function(a){this.vb=a;this.a=a.a};Yc.Da.prototype.ga=q();Yc.ua=function(a){this.type=a;this.a=a.a;this.Am=Array(4);this.us=this.Zl=this.Ci=this.cg=this.bg=0;this.kn=p};var Zc=Yc.ua.prototype;
Zc.ga=function(){var a=this;if(!this.a.cc){jQuery(document).mousemove(function(b){a.lo(b)});jQuery(document).mousedown(function(b){a.ko(b)});jQuery(document).mouseup(function(b){a.mo(b)});jQuery(document).dblclick(function(b){a.kw(b)});var b=function(b){a.qw(b)};document.addEventListener("mousewheel",b,p);document.addEventListener("DOMMouseScroll",b,p)}};var $c={left:0,top:0};Zc.lo=function(a){var b=this.a.cc?$c:jQuery(this.a.canvas).offset();this.bg=a.pageX-b.left;this.cg=a.pageY-b.top};
Zc.Fr=function(){return 0<this.a.jf?l:0<=this.bg&&0<=this.cg&&this.bg<this.a.width&&this.cg<this.a.height};Zc.ko=function(a){this.Fr()&&(this.a.Ig&&a.preventDefault(),this.Am[a.which]=l,this.a.trigger(Vc.prototype.t.Os,this),this.Ci=a.which-1,this.Zl=0,this.a.trigger(Vc.prototype.t.Cp,this),this.a.trigger(Vc.prototype.t.Hp,this))};Zc.mo=function(a){this.Am[a.which]&&(this.a.Ig&&a.preventDefault(),this.a.Ig=l,this.Am[a.which]=p,this.Ci=a.which-1,this.a.trigger(Vc.prototype.t.dt,this))};
Zc.kw=function(a){this.Fr()&&(a.preventDefault(),this.Ci=a.which-1,this.Zl=1,this.a.trigger(Vc.prototype.t.Cp,this),this.a.trigger(Vc.prototype.t.Hp,this))};Zc.qw=function(a){this.us=0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.kn=p;this.a.trigger(Vc.prototype.t.ft,this);this.kn&&a.preventDefault()};z=Wc.prototype;z.Cp=function(a,b){return a===this.Ci&&b===this.Zl};z.Os=x(l);z.dt=function(a){return a===this.Ci};
z.Hp=function(a,b,c){return a!==this.Ci||b!==this.Zl?p:this.a.os(c,this.bg,this.cg)};z.ft=function(a){this.kn=l;return a===this.us};Yc.t=new Wc;Yc.I=new (q());Xc.prototype.qk=function(a,b){var c,d,e,f,g;ea(b)?(c=this.a.Ce(0),d=c.scale,e=c.Lc,f=c.ge,g=c.o,c.scale=this.a.Ca.scale,c.Lc=1,c.ge=1,c.o=this.a.Ca.o,a.S(c.bc(this.bg,this.cg,l)),c.scale=d,c.Lc=e,c.ge=f,c.o=g):(c=F(b)?this.a.Ce(b):this.a.Kh(b))?a.S(c.bc(this.bg,this.cg,l)):a.S(0)};
Xc.prototype.tm=function(a,b){var c,d,e,f,g;ea(b)?(c=this.a.Ce(0),d=c.scale,e=c.Lc,f=c.he,g=c.o,c.scale=this.a.Ca.scale,c.Lc=1,c.he=1,c.o=this.a.Ca.o,a.S(c.bc(this.bg,this.cg,p)),c.scale=d,c.Lc=e,c.he=f,c.o=g):(c=F(b)?this.a.Ce(b):this.a.Kh(b))?a.S(c.bc(this.bg,this.cg,p)):a.S(0)};Yc.L=new Xc;function N(a){this.a=a}
function ad(){if(0===this.Rm.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.xi?b.drawImage(this.R,this.qi,this.ri,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.R,0,0,this.width,this.height);this.Rm=a.toDataURL("image/png")}return this.Rm}function bd(){}function cd(){}var dd=N.prototype;dd.Da=function(a){this.vb=a;this.a=a.a};var ed=dd.Da.prototype;
ed.ga=function(){if(!this.Oa){var a,b,c,d,e,f,g,h,i;a=0;for(b=this.yb.length;a<b;a++){e=this.yb[a];g={};g.name=e[0];g.speed=e[1];g.loop=e[2];g.Go=e[3];g.Ml=e[4];g.Qr=e[5];g.frames=[];c=0;for(d=e[6].length;c<d;c++)f=e[6][c],h={},h.bp=f[0],h.cp=f[1],h.qi=f[2],h.ri=f[3],h.width=f[4],h.height=f[5],h.duration=f[6],h.De=f[7],h.Ee=f[8],h.on=f[9],h.uo=f[10],h.Rr=f[11],h.xi=0!==h.width,h.Rm="",h.ey=ad,i={left:0,top:0,right:1,bottom:1},h.To=i,h.gb=m,(i=this.a.Mu(f[0]))?h.R=i:(h.R=new Image,h.R.src=f[0],h.R.Pt=
f[0],h.R.nq=f[1],h.R.cf=m,this.a.If.push(h.R)),g.frames.push(h);this.yb[a]=g}}};ed.Il=function(){if(!this.Oa){var a,b,c,d,e,f;a=0;for(b=this.yb.length;a<b;a++){e=this.yb[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.R.cf=m,f.gb=m}}};
ed.no=function(){if(!this.Oa&&this.l.length){var a,b,c,d,e,f;a=0;for(b=this.yb.length;a<b;a++){e=this.yb[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.R.cf||(f.R.cf=this.a.T.ql(f.R,p,this.a.hb,f.Rr)),f.gb=f.R.cf}a=0;for(b=this.l.length;a<b;a++)c=this.l[a],c.Nm=c.Sf.gb}};var fd=[];
ed.ip=function(){if(!this.Oa&&!this.l.length){var a=!!this.a.T,b,c,d,e,f,g,h,i;b=fd.length=0;for(c=this.yb.length;b<c;b++){g=this.yb[b];d=0;for(e=g.frames.length;d<e;d++)if(h=g.frames[d],i=a?h.R.cf:h.R)f=fd.indexOf(i),-1===f&&fd.push(i),h.R.cf=m,h.gb=m}b=0;for(c=fd.length;b<c;b++)i=fd[b],a?this.a.T.deleteTexture(i):i.hintUnload&&i.hintUnload();fd.length=0}};var gd=[];
ed.vo=function(a){var b,c,d,e,f,g;b=gd.length=0;for(c=this.yb.length;b<c;b++){f=this.yb[b];d=0;for(e=f.frames.length;d<e;d++)g=f.frames[d].R,-1===gd.indexOf(g)&&(a.drawImage(g,0,0),gd.push(g))}};dd.ua=function(a){this.type=a;this.a=a.a;this.Ja=new ab(this.type.yb[0].frames[0].uo)};var hd=dd.ua.prototype;
hd.ga=function(){this.visible=0===this.P[0];this.Rq=this.Cv=p;this.Eh=0!==this.P[2];!(1===this.type.yb.length&&1===this.type.yb[0].frames.length)&&0!==this.type.yb[0].speed&&(this.a.rs(this),this.Cv=l);this.Ib=this.type.yb[0];this.X=this.P[1];0>this.X&&(this.X=0);this.X>=this.Ib.frames.length&&(this.X=this.Ib.frames.length-1);if(0!==this.X){var a=this.Ib.frames[this.X];this.Ja.Ro(a.uo);this.De=a.De;this.Ee=a.Ee}this.Om=this.type.yb[0].speed;this.Fg=this.Wk();this.tk=l;this.yg=0;this.sk=l;this.Cm=
this.Yp="";this.Ot=0;this.Bm=-1;var b,c,d,e,f,g,h,a=0;for(b=this.type.yb.length;a<b;a++){e=this.type.yb[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.R.hintLoad&&f.R.hintLoad(),0===f.width&&(f.width=f.R.width,f.height=f.R.height),f.xi&&(h=f.R,g=f.To,g.left=f.qi/h.width,g.top=f.ri/h.height,g.right=(f.qi+f.width)/h.width,g.bottom=(f.ri+f.height)/h.height,0===f.qi&&(0===f.ri&&f.width===h.width&&f.height===h.height)&&(f.xi=p)),this.a.T&&(f.R.cf||(f.R.cf=this.a.T.ql(f.R,p,this.a.hb,f.Rr)),f.gb=
f.R.cf)}this.Sf=this.Ib.frames[this.X];this.Nm=this.Sf.gb};hd.xm=function(a){this.X=a?0:this.Ib.frames.length-1;this.tk=p;this.Yp=this.Ib.name;this.Rq=l;this.a.trigger(N.prototype.t.Ns,this);this.a.trigger(N.prototype.t.Ms,this);this.Rq=p;this.yg=0};hd.Wk=function(){return(Date.now()-this.a.Yo)/1E3};
hd.Vc=function(){this.Cm.length&&this.Vt();0<=this.Bm&&this.Wt();var a=this.Wk(),b=this.Ib,c=b.frames[this.X],d=c.duration/this.Om,e=this.a.oh;-1!==this.Fl&&(e=this.Fl);d/=0===e?1E-9:e;if(this.tk&&a>=this.Fg+d){this.sk?this.X++:this.X--;this.Fg+=d;this.X>=b.frames.length&&(b.Qr?(this.sk=p,this.X=b.frames.length-2):b.loop?this.X=b.Ml:(this.yg++,this.yg>=b.Go?this.xm(p):this.X=b.Ml));0>this.X&&(b.Qr?(this.X=1,this.sk=l,b.loop||(this.yg++,this.yg>=b.Go&&this.xm(l))):b.loop?this.X=b.Ml:(this.yg++,this.yg>=
b.Go?this.xm(l):this.X=b.Ml));0>this.X?this.X=0:this.X>=b.frames.length&&(this.X=b.frames.length-1);if(a>this.Fg+b.frames[this.X].duration/this.Om/(0===e?1E-9:e))this.Fg=a;a=b.frames[this.X];this.Ti(c,a);this.a.Ia=l}};
hd.Vt=function(){var a=this.Ib.frames[this.X],b,c,d,e=m;b=0;for(c=this.type.yb.length;b<c;b++)if(d=this.type.yb[b],d.name.toLowerCase()===this.Cm.toLowerCase()){e=d;break}this.Cm="";e&&!(e.name.toLowerCase()===this.Ib.name.toLowerCase()&&this.tk)&&(this.Ib=e,this.Om=e.speed,0>this.X&&(this.X=0),this.X>=this.Ib.frames.length&&(this.X=this.Ib.frames.length-1),1===this.Ot&&(this.X=0),this.tk=l,this.Fg=this.Wk(),this.sk=l,this.Ti(a,this.Ib.frames[this.X]),this.a.Ia=l)};
hd.Wt=function(){var a=this.Ib.frames[this.X],b=this.X;this.X=ka(this.Bm);0>this.X&&(this.X=0);this.X>=this.Ib.frames.length&&(this.X=this.Ib.frames.length-1);b!==this.X&&(this.Ti(a,this.Ib.frames[this.X]),this.Fg=this.Wk(),this.a.Ia=l);this.Bm=-1};
hd.Ti=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.De=b.De;this.Ee=b.Ee;this.Ja.Ro(b.uo);this.G();this.Sf=b;this.Nm=b.gb;c=0;for(d=this.Pb.length;c<d;c++)e=this.Pb[c],e.ow&&e.ow(a,b);this.a.trigger(N.prototype.t.Ti,this)};
hd.xe=function(a){a.globalAlpha=this.opacity;var b=this.Sf,c=b.xi,d=b.R,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.o&&0<=g&&0<=h)e-=this.De*g,f-=this.Ee*h,this.a.Qe&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.qi,b.ri,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.a.Qe&&(e=e+0.5|0,f=f+0.5|0);a.save();var i=0<g?1:-1,j=0<h?1:-1;a.translate(e,f);(1!==i||1!==j)&&a.scale(i,j);a.rotate(this.o*i*j);e=0-this.De*ga(g);f=0-this.Ee*ga(h);c?a.drawImage(d,b.qi,b.ri,b.width,b.height,e,f,ga(g),
ga(h)):a.drawImage(d,e,f,ga(g),ga(h));a.restore()}};hd.vd=function(a){a.nd(this.Nm);a.jh(this.opacity);var b=this.Sf,c=this.Na;if(this.a.Qe){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.xi?a.Te(c.eb+d,c.fb+e,c.jc+d,c.kc+e,c.$b+d,c.ac+e,c.Yb+d,c.Zb+e,b.To):a.Ll(c.eb+d,c.fb+e,c.jc+d,c.kc+e,c.$b+d,c.ac+e,c.Yb+d,c.Zb+e)}else b.xi?a.Te(c.eb,c.fb,c.jc,c.kc,c.$b,c.ac,c.Yb,c.Zb,b.To):a.Ll(c.eb,c.fb,c.jc,c.kc,c.$b,c.ac,c.Yb,c.Zb)};
hd.Wu=function(a){var b=this.Sf,c,d;c=0;for(d=b.on.length;c<d;c++)if(a.toLowerCase()===b.on[c][0].toLowerCase())return c;return-1};hd.xd=function(a,b){var c=this.Sf,d=c.on,e;e=J(a)?this.Wu(a):a-1;e=ka(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.De)*this.width,d=d[e][2],d=(d-c.Ee)*this.height,c=Math.cos(this.o);e=Math.sin(this.o);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var id=m,jd=new Za,kd=p;
ed.finish=function(a){if(kd){if(a){var b=this.a.Ic().bd.fe,a=id.Ra(),c=jd.qg(),d,e;if(a.ab){a.ab=p;a.l.length=c.length;d=0;for(e=c.length;d<e;d++)a.l[d]=c[d];if(b){d=a.bb.length=0;for(e=id.l.length;d<e;d++)b=id.l[d],jd.contains(b)||a.bb.push(b)}}else{var f=a.l.length;a.l.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.l[f+d]=c[d],b&&pa(a.bb,c[d])}id.$i()}jd.clear();kd=p}};
bd.prototype.Ks=function(a){if(a){var b=p,c,d,e,f=this.a.Hq(),g=f.type,f=f.rj;c=a.Ra();d=this.a.Ic().bd.fe;var h;h=c.ab?c.type.l:d?c.bb:c.l;id=a;kd=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.a.Uc(this,e)){b=l;if(f)break;g!==a&&jd.add(e)}a=b}else a=p;return a};bd.prototype.Ms=function(a){return this.Yp.toLowerCase()===a.toLowerCase()};bd.prototype.Ns=x(l);bd.prototype.Ti=x(l);dd.t=new bd;
cd.prototype.ot=function(a,b,c){if(a&&b&&(b=this.a.Jm(a,b,this.xd(c,l),this.xd(c,p)))){b.o=this.o;b.G();this.a.cd++;var d,e,f;this.a.trigger(Object.getPrototypeOf(a.vb).t.lk,b);if(b.dd){d=0;for(e=b.siblings.length;d<e;d++)f=b.siblings[d],this.a.trigger(Object.getPrototypeOf(f.type.vb).t.lk,f)}this.a.cd--;d=this.a.Tu();c=p;if(ea(d.pb.Mp)||d.pb.Mp<this.a.Mk)c=l,d.pb.Mp=this.a.Mk;if(a!=this.type&&(a=a.Ra(),a.ab=p,c?(a.l.length=1,a.l[0]=b):a.l.push(b),b.dd)){d=0;for(e=b.siblings.length;d<e;d++)f=b.siblings[d],
a=f.type.Ra(),a.ab=p,c?(a.l.length=1,a.l[0]=f):a.l.push(f)}}};cd.prototype.nk=function(a){var b=this.Sf,c=b.width*a*(0>this.width?-1:1),a=b.height*a*(0>this.height?-1:1);if(this.width!==c||this.height!==a)this.width=c,this.height=a,this.G()};cd.prototype.mt=function(a){this.Eh=0!==a};dd.I=new cd;dd.L=new (q());function ld(a){this.a=a}function md(){}var nd=ld.prototype;nd.ga=function(){nd.I.nt=function(a){this.width!==a&&(this.width=a,this.zi=l,this.G())}};nd.Da=function(a){this.vb=a;this.a=a.a};
var od=nd.Da.prototype;od.ga=q();od.Il=function(){if(!this.Oa){var a,b,c;a=0;for(b=this.l.length;a<b;a++)c=this.l[a],c.Af=m,c.ni=m,c.ee=m}};nd.ua=function(a){this.type=a;this.a=a.a;this.Pg=[];this.zi=l};var pd=nd.ua.prototype;
pd.ga=function(){this.text=this.P[0];this.visible=0===this.P[1];this.font=this.P[2];this.color=this.P[3];this.Oq=this.P[4];this.Cs=this.P[5];this.Ww=0===this.P[7];this.kr=this.Wh=this.width;this.Vh=this.height;this.Hv=this.P[8];this.Fq=this.uq="";var a=this.font.split(" ");this.Dy=this.Ey=this.xo=0;var b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.xo=parseInt(a[b].substr(0,a[b].length-2));this.xw=Math.ceil(96*(this.xo/72))+4;this.uq=a[b+1];0<b&&(this.Fq=a[b-1]);break}this.ee=
this.ni=this.Af=m;this.Ir=p;this.fh=new Xa(0,0,1,1)};pd.eg=function(){this.Af=this.ni=m;this.a.T&&this.ee&&this.a.T.deleteTexture(this.ee);this.ee=m};pd.Fy=function(){this.font=this.Fq+" "+this.xo.toString()+"pt "+this.uq;this.zi=l;this.a.Ia=l};
pd.xe=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.H.Oc(),a.save(),a.scale(c,c));if(this.zi||this.width!==this.kr)this.type.vb.ut(this.text,this.Pg,a,this.width,this.Ww),this.zi=p,this.kr=this.width;this.xb();var c=b?0:this.Na.eb,d=b?0:this.Na.fb;this.a.Qe&&(c=c+0.5|0,d=d+0.5|0);0!==this.o&&!b&&(a.save(),a.translate(c,d),a.rotate(this.o),d=c=0);var e=d+this.height,f=this.xw,f=f+this.Hv*this.a.devicePixelRatio,g,h;1===
this.Cs?d+=Math.max(this.height/2-this.Pg.length*f/2,0):2===this.Cs&&(d+=Math.max(this.height-this.Pg.length*f-2,0));for(h=0;h<this.Pg.length&&!(g=c,1===this.Oq?g=c+(this.width-this.Pg[h].width)/2:2===this.Oq&&(g=c+(this.width-this.Pg[h].width)),a.fillText(this.Pg[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.o||b)&&a.restore()};
pd.vd=function(a){if(!(1>this.width||1>this.height)){var b=this.zi||this.Ir;this.Ir=p;var c=this.H.Oc(),d=this.H.kf(),e=this.fh,f=c*this.width,g=c*this.height,h=Math.ceil(f),i=Math.ceil(g),j=this.a.width/2,k=this.a.height/2;this.ni||(this.Af=document.createElement("canvas"),this.Af.width=h,this.Af.height=i,this.Wh=h,this.Vh=i,b=l,this.ni=this.Af.getContext("2d"));if(h!==this.Wh||i!==this.Vh)this.Af.width=h,this.Af.height=i,this.ee&&(a.deleteTexture(this.ee),this.ee=m),b=l;b&&(this.ni.clearRect(0,
0,h,i),this.xe(this.ni,l),this.ee||(this.ee=a.ef(h,i,this.a.hb,this.a.Nh)),a.Vw(this.Af,this.ee,this.a.Nh));this.Wh=h;this.Vh=i;a.nd(this.ee);a.jh(this.opacity);a.Ve();a.translate(-j,-k);a.Ye();var n=this.Na,b=this.H.cb(n.eb,n.fb,l),j=this.H.cb(n.eb,n.fb,p),k=this.H.cb(n.jc,n.kc,l),r=this.H.cb(n.jc,n.kc,p),s=this.H.cb(n.$b,n.ac,l),t=this.H.cb(n.$b,n.ac,p),u=this.H.cb(n.Yb,n.Zb,l),n=this.H.cb(n.Yb,n.Zb,p);if(this.a.Qe||0===this.o&&0===d)var w=(b+0.5|0)-b,y=(j+0.5|0)-j,b=b+w,j=j+y,k=k+w,r=r+y,s=s+w,
t=t+y,u=u+w,n=n+y;0===this.o&&0===d?(k=b+h,r=j,s=k,t=j+i,u=b,n=t,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/i);a.Te(b,j,k,r,s,t,u,n,e);a.Ve();a.scale(c,c);a.Jo(-this.H.kf());a.translate((this.H.Qd+this.H.pd)/-2,(this.H.qd+this.H.Wc)/-2);a.Ye()}};var qd=[];
nd.st=function(a){qd.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(qd.push(b),b=""),qd.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));qd.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&qd.push(b)};
nd.ut=function(a,b,c,d,e){if(!a||!a.length)b.length=0;else if(2>=d)b.length=0;else{if(100>=a.length&&-1===a.indexOf("\n")){var f=0,f=c.measureText(a).width;if(f<=d){b.length?b.length=1:b.push({});b[0].text=a;b[0].width=f;return}}this.vt(a,b,c,d,e)}};
nd.vt=function(a,b,c,d,e){e&&(this.st(a),a=qd);var f="",g,h,i,j=0;for(i=0;i<a.length;i++)"\n"===a[i]?(j>=b.length&&b.push({}),h=b[j],h.text=f,h.width=0,h.width=c.measureText(f).width,j++,f=""):(g=f,f+=a[i],h=c.measureText(f).width,h>=d&&(j>=b.length&&b.push({}),h=b[j],h.text=g,h.width=0,h.width=c.measureText(g).width,j++,f=a[i],!e&&" "===f&&(f="")));f.length&&(j>=b.length&&b.push({}),h=b[j],h.text=f,h.width=0,h.width=c.measureText(f).width,j++);b.length=j};nd.t=new (q());
md.prototype.ok=function(a){F(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.zi=l,this.a.Ia=l)};nd.I=new md;nd.L=new (q());function rd(a){this.a=a}var sd=rd.prototype;sd.Da=function(a){this.vb=a;this.a=a.a};var td=sd.Da.prototype;td.ga=function(){this.Oa||(this.R=new Image,this.R.src=this.bp,this.R.nq=this.cp,this.a.If.push(this.R),this.gb=this.pattern=m)};td.Il=function(){this.Oa||(this.gb=m)};
td.no=function(){if(!this.Oa&&this.l.length){this.gb||(this.gb=this.a.T.ql(this.R,l,this.a.hb,this.dp));var a,b;a=0;for(b=this.l.length;a<b;a++)this.l[a].gb=this.gb}};td.ip=function(){!this.Oa&&!this.l.length&&(this.a.T?this.gb&&(this.a.T.deleteTexture(this.gb),this.gb=m):this.R.hintUnload&&this.R.hintUnload())};td.vo=function(a){a.drawImage(this.R,0,0)};sd.ua=function(a){this.type=a;this.a=a.a};var ud=sd.ua.prototype;
ud.ga=function(){this.visible=0===this.P[0];this.fh=new Xa(0,0,0,0);this.pv=p;this.R=this.type.R;this.a.T?(this.type.gb||(this.type.gb=this.a.T.ql(this.type.R,l,this.a.hb,this.type.dp)),this.gb=this.type.gb):(this.R.hintLoad&&this.R.hintLoad(),this.type.pattern||(this.type.pattern=this.a.Ka.createPattern(this.type.R,"repeat")),this.pattern=this.type.pattern)};ud.eg=function(){this.a.T&&(this.pv&&this.gb)&&(this.a.T.deleteTexture(this.gb),this.gb=m)};
ud.xe=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var b=this.x,c=this.y;this.a.Qe&&(b=b+0.5|0,c=c+0.5|0);var d=-(this.De*this.width),e=-(this.Ee*this.height),f=d%this.R.width,g=e%this.R.height;0>f&&(f+=this.R.width);0>g&&(g+=this.R.height);a.translate(b,c);a.rotate(this.o);a.translate(f,g);a.fillRect(d-f,e-g,this.width,this.height);a.restore()};
ud.vd=function(a){a.nd(this.gb);a.jh(this.opacity);var b=this.fh;b.right=this.width/this.R.width;b.bottom=this.height/this.R.height;var c=this.Na;if(this.a.Qe){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;a.Te(c.eb+d,c.fb+e,c.jc+d,c.kc+e,c.$b+d,c.ac+e,c.Yb+d,c.Zb+e,b)}else a.Te(c.eb,c.fb,c.jc,c.kc,c.$b,c.ac,c.Yb,c.Zb,b)};sd.t=new (q());sd.I=new (q());sd.L=new (q());function vd(a){this.a=a}function wd(a){xd=a.x;yd=a.y;zd=a.p}function Ad(a){Bd=a.x;Cd=a.y;Dd=a.p}function Ed(){}
function Fd(){}var Gd=vd.prototype;Gd.Da=function(a){this.vb=a;this.a=a.a};Gd.Da.prototype.ga=q();Gd.ua=function(a){this.type=a;this.a=a.a;this.touches=[];this.eo=p};var Hd=Gd.ua.prototype,Id={left:0,top:0};Hd.Pk=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var xd=0,yd=0,zd=0,Bd=0,Cd=0,Dd=0;
Hd.ga=function(){this.Dv=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.$l=this.pg=this.Mm=this.Lm=this.Sp=this.Rp=this.Qp=this.yt=this.xt=this.wt=this.Sj=this.Rj=this.Qj=0;this.Sw=0!==this.P[0];var a=0<this.a.jf?document:this.a.canvas,b=document;this.a.Xd?b=a=window.Canvas:this.a.Lg&&(b=a=window);var c=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.nw(a)},p),a.addEventListener("MSPointerMove",function(a){c.mw(a)},p),b.addEventListener("MSPointerUp",
function(a){c.Kr(a)},p),b.addEventListener("MSPointerCancel",function(a){c.Kr(a)},p),this.a.canvas&&(this.a.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},p),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},p))):(a.addEventListener("touchstart",function(a){c.Mr(a)},p),a.addEventListener("touchmove",function(a){c.Lr(a)},p),b.addEventListener("touchend",function(a){c.oo(a)},p),b.addEventListener("touchcancel",function(a){c.oo(a)},p));if(this.Dv){var d=
function(a){a=a.reading;c.Qp=a.accelerationX;c.Rp=a.accelerationY;c.Sp=a.accelerationZ},e=function(a){a=a.reading;c.Qj=a.yawDegrees;c.Rj=a.pitchDegrees;c.Sj=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},p)}else window.addEventListener("deviceorientation",function(a){c.Qj=a.alpha||0;c.Rj=a.beta||0;c.Sj=a.gamma||0},p),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.wt=a.accelerationIncludingGravity.x,c.xt=a.accelerationIncludingGravity.y,c.yt=
a.accelerationIncludingGravity.z);a.acceleration&&(c.Qp=a.acceleration.x,c.Rp=a.acceleration.y,c.Sp=a.acceleration.z)},p);this.Sw&&!this.a.cc&&(jQuery(document).mousemove(function(a){c.lo(a)}),jQuery(document).mousedown(function(a){c.ko(a)}),jQuery(document).mouseup(function(a){c.mo(a)}));this.a.Mh&&!this.a.Xd&&AppMobi.accelerometer.watchAcceleration(wd,{frequency:40,adjustForRotation:l});this.a.Mg&&navigator.accelerometer.watchAcceleration(Ad,m,{frequency:40});this.a.Mw(this)};
Hd.mw=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Pk(a.pointerId),c=Da();if(0<=b){var d=this.a.cc?Id:jQuery(this.a.canvas).offset(),b=this.touches[b];2>c-b.time||(b.nl=b.time,b.Xh=b.x,b.Yh=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};
Hd.nw=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.a.cc?Id:jQuery(this.a.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=Da();this.pg=this.touches.length;this.$l=a.pointerId;this.touches.push({time:d,x:c,y:b,nl:d,Xh:c,Yh:b,id:a.pointerId,Zo:this.pg});this.a.trigger(vd.prototype.t.Gp,this);this.a.trigger(vd.prototype.t.Kp,this);this.Lm=c;this.Mm=b;this.a.trigger(vd.prototype.t.Jp,this)}};
Hd.Kr=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Pk(a.pointerId),this.pg=0<=a?this.touches[a].Zo:-1,this.$l=0<=a?this.touches[a].id:-1,this.a.trigger(vd.prototype.t.Fp,this),this.a.trigger(vd.prototype.t.Ip,this),0<=a&&this.touches.splice(a,1))};
Hd.Lr=function(a){a.preventDefault&&a.preventDefault();var b=Da(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Pk(e.identifier),0<=f){var g=this.a.cc?Id:jQuery(this.a.canvas).offset();f=this.touches[f];2>b-f.time||(f.nl=f.time,f.Xh=f.x,f.Yh=f.y,f.time=b,f.x=e.pageX-g.left,f.y=e.pageY-g.top)}};
Hd.Mr=function(a){a.preventDefault&&a.preventDefault();var b=this.a.cc?Id:jQuery(this.a.canvas).offset(),c=Da(),d,e,f;d=0;for(e=a.changedTouches.length;d<e;d++){f=a.changedTouches[d];var g=f.pageX-b.left,h=f.pageY-b.top;this.pg=this.touches.length;this.$l=f.identifier;this.touches.push({time:c,x:g,y:h,nl:c,Xh:g,Yh:h,id:f.identifier,Zo:this.pg});this.a.trigger(vd.prototype.t.Gp,this);this.a.trigger(vd.prototype.t.Kp,this);this.Lm=g;this.Mm=h;this.a.trigger(vd.prototype.t.Jp,this)}};
Hd.oo=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Pk(d.identifier),this.pg=0<=d?this.touches[d].Zo:-1,this.$l=0<=d?this.touches[d].id:-1,this.a.trigger(vd.prototype.t.Fp,this),this.a.trigger(vd.prototype.t.Ip,this),0<=d&&this.touches.splice(d,1)};Hd.Pu=function(){return this.a.Mh&&0===this.Qj&&0!==zd?90*zd:this.a.Mg&&0===this.Qj&&0!==Dd?90*Dd:this.Qj};
Hd.Su=function(){return this.a.Mh&&0===this.Rj&&0!==yd?-90*yd:this.a.Mg&&0===this.Rj&&0!==Cd?-90*Cd:this.Rj};Hd.Vu=function(){return this.a.Mh&&0===this.Sj&&0!==xd?90*xd:this.a.Mg&&0===this.Sj&&0!==Bd?90*Bd:this.Sj};Hd.ko=function(a){a.preventDefault&&this.a.Ig&&a.preventDefault();this.Mr({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.eo=l};Hd.lo=function(a){a.preventDefault&&this.a.Ig&&a.preventDefault();this.eo&&this.Lr({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};
Hd.mo=function(a){a.preventDefault&&this.a.Ig&&a.preventDefault();this.a.Ig=l;this.oo({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.eo=p};Hd.Vl=function(){var a,b,c,d=Da();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.nl=d)};z=Ed.prototype;z.Kp=x(l);z.Ip=x(l);z.Jp=function(a){return!a?p:this.a.os(a,this.Lm,this.Mm)};z.vp=function(a,b,c){var d=0,d=0===a?this.Pu():1===a?this.Su():this.Vu();return sc(d,b,c)};
z.Gp=function(a){a=Math.floor(a);return a===this.pg};z.Fp=function(a){a=Math.floor(a);return a===this.pg};Gd.t=new Ed;Fd.prototype.qk=function(a,b){if(this.touches.length){var c,d,e,f,g;ea(b)?(c=this.a.Ce(0),d=c.scale,e=c.Lc,f=c.ge,g=c.o,c.scale=this.a.Ca.scale,c.Lc=1,c.ge=1,c.o=this.a.Ca.o,a.S(c.bc(this.touches[0].x,this.touches[0].y,l)),c.scale=d,c.Lc=e,c.ge=f,c.o=g):(c=F(b)?this.a.Ce(b):this.a.Kh(b))?a.S(c.bc(this.touches[0].x,this.touches[0].y,l)):a.S(0)}else a.S(0)};
Fd.prototype.tm=function(a,b){if(this.touches.length){var c,d,e,f,g;ea(b)?(c=this.a.Ce(0),d=c.scale,e=c.Lc,f=c.he,g=c.o,c.scale=this.a.Ca.scale,c.Lc=1,c.he=1,c.o=this.a.Ca.o,a.S(c.bc(this.touches[0].x,this.touches[0].y,p)),c.scale=d,c.Lc=e,c.he=f,c.o=g):(c=F(b)?this.a.Ce(b):this.a.Kh(b))?a.S(c.bc(this.touches[0].x,this.touches[0].y,p)):a.S(0)}else a.S(0)};Gd.L=new Fd;function Jd(a){this.a=a}function Kd(){}function Ld(){}function Md(){}var Nd=Jd.prototype;Nd.Da=function(a){this.vb=a;this.a=a.a};
Nd.Da.prototype.ga=q();Nd.ua=function(a){this.type=a;this.a=a.a};var Od=Nd.ua.prototype,Pd="";"undefined"!==typeof window.is_scirra_arcade&&(Pd="arcade"+window.scirra_arcade_id);Od.ga=q();Kd.prototype.Ls=function(a){return localStorage.getItem(Pd+a)!=m};Kd.prototype.ct=x(l);Nd.t=new Kd;Ld.prototype.pt=function(a,b){try{localStorage.setItem(Pd+a,b)}catch(c){this.a.trigger(Jd.prototype.t.ct,this)}};Nd.I=new Ld;Md.prototype.Ap=function(a,b){a.Kd(localStorage.getItem(Pd+b)||"")};Nd.L=new Md;
function Qd(a){this.a=a}var Rd=Qd.prototype;Rd.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};Rd.Da.prototype.ga=q();Rd.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a};var Sd=Rd.ua.prototype;
Sd.ga=function(){this.Wp=this.P[0];this.Xp=this.P[1];this.Et=this.P[2];this.Dt=this.P[3];this.e.xb();this.Xw=this.e.oa.left;this.$w=this.e.oa.top;this.Yw=this.a.Tc-this.e.oa.left;this.Zw=this.a.Sc-this.e.oa.top;this.yw=this.a.Tc-this.e.oa.right;this.It=this.a.Sc-this.e.oa.bottom;this.enabled=l};
Sd.Vc=function(){if(this.enabled){var a,b=this.e.H,c=this.e,d=this.e.oa;0===this.Wp?(c.xb(),a=b.Qd+this.Xw-d.left,0!==a&&(c.x+=a,c.G())):1===this.Wp&&(c.xb(),a=b.pd-this.Yw-d.left,0!==a&&(c.x+=a,c.G()));0===this.Xp?(c.xb(),a=b.qd+this.$w-d.top,0!==a&&(c.y+=a,c.G())):1===this.Xp&&(c.xb(),a=b.Wc-this.Zw-d.top,0!==a&&(c.y+=a,c.G()));1===this.Et&&(c.xb(),a=b.pd-this.yw-d.right,0!==a&&(c.width+=a,0>c.width&&(c.width=0),c.G()));1===this.Dt&&(c.xb(),a=b.Wc-this.It-d.bottom,0!==a&&(c.height+=a,0>c.height&&
(c.height=0),c.G()))}};Rd.t=new (q());Rd.I=new (q());Rd.L=new (q());function Td(a){this.a=a}function Ud(){}var Vd=Td.prototype;Vd.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};Vd.Da.prototype.ga=q();Vd.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a};var Wd=Vd.ua.prototype;
Wd.ga=function(){var a=this.P[0];this.ug=this.P[1];this.Be=this.P[2];this.Lt=0!==this.P[3];this.No=0!==this.P[4];this.J=Math.cos(this.e.o)*a;this.ea=Math.sin(this.e.o)*a;this.Xh=this.e.x;this.Yh=this.e.y;this.zd=this.e.o;this.ts=0;this.enabled=l};
Wd.Vc=function(){if(this.enabled){var a=this.a.nj(this.e),b,c;this.e.o!==this.zd&&(this.No&&(b=ya(0,0,this.J,this.ea),this.J=Math.cos(this.e.o)*b,this.ea=Math.sin(this.e.o)*b),this.zd=this.e.o);0!==this.ug&&(b=ya(0,0,this.J,this.ea),c=0===this.J&&0===this.ea?this.e.o:ua(0,0,this.J,this.ea),b+=this.ug*a,0>b&&(b=0),this.J=Math.cos(c)*b,this.ea=Math.sin(c)*b);0!==this.Be&&(this.ea+=this.Be*a);this.Xh=this.e.x;this.Yh=this.e.y;if(0!==this.J||0!==this.ea)if(this.e.x+=this.J*a,this.e.y+=this.ea*a,this.ts+=
ya(0,0,this.J*a,this.ea*a),this.No&&(this.e.o=ua(0,0,this.J,this.ea),this.e.G(),this.zd=this.e.o),this.e.G(),this.Lt&&(b=this.a.Ec(this.e)))this.a.gh(this.e,b),b=ya(0,0,this.J,this.ea),c=this.a.Mt(this.e,this.Xh,this.Yh),this.J=Math.cos(c)*b,this.ea=Math.sin(c)*b,this.e.x+=this.J*a,this.e.y+=this.ea*a,this.e.G(),this.No&&(this.zd=this.e.o=c,this.e.G()),this.a.Se(this.e,this.J/b,this.ea/b,Math.max(2.5*b*a,30))||this.a.Yr(this.e,100)}};Vd.t=new (q());
Ud.prototype.lt=function(a){var a=K(a),b=ya(0,0,this.J,this.ea);this.J=Math.cos(a)*b;this.ea=Math.sin(a)*b};Vd.I=new Ud;Vd.L=new (q());function Xd(a){this.a=a}function Yd(){}function Zd(){}var $d=Xd.prototype;$d.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};$d.Da.prototype.ga=q();$d.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a};var ae=$d.ua.prototype;
ae.ga=function(){var a=1===this.P[0];this.Ym=this.P[1];this.pp=this.P[2];this.vq=this.P[3];this.Ut=this.P[4];this.Ld=a?0:3;this.mg=new $a;this.Mj=this.e.opacity?this.e.opacity:1;a&&(0===this.Ym?(this.Ld=1,0===this.pp&&(this.Ld=2)):(this.e.opacity=0,this.a.Ia=l))};
ae.Vc=function(){this.mg.add(this.a.nj(this.e));0===this.Ld&&(this.e.opacity=this.mg.Pd/this.Ym*this.Mj,this.a.Ia=l,this.e.opacity>=this.Mj&&(this.e.opacity=this.Mj,this.Ld=1,this.mg.reset()));1===this.Ld&&this.mg.Pd>=this.pp&&(this.Ld=2,this.mg.reset());2===this.Ld&&0!==this.vq&&(this.e.opacity=this.Mj-this.mg.Pd/this.vq*this.Mj,this.a.Ia=l,0>this.e.opacity&&(this.e.opacity=0,this.Ld=3,this.mg.reset(),this.a.trigger(Xd.prototype.t.Ts,this.e),1===this.Ut&&this.a.th(this.e)))};
ae.iu=function(){this.Ld=0;this.mg.reset();0===this.Ym?(this.Ld=1,0===this.pp&&(this.Ld=2)):(this.e.opacity=0,this.a.Ia=l)};Yd.prototype.Ts=x(l);$d.t=new Yd;Zd.prototype.Np=function(){3===this.Ld&&this.iu()};$d.I=new Zd;function O(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}var be=2/180*Math.PI,ce=8/180*Math.PI,de=0.5*Math.PI,ee=de*de,fe=2/180*Math.PI,ge=Number.MIN_VALUE*Number.MIN_VALUE;function he(a,b){return a.x*b.x+a.y*b.y}
function ie(a,b){return a.x*b.y-a.y*b.x}function je(a){return P(1*a.y,-1*a.x)}function Q(a,b){return P(a.c.x*b.x+a.d.x*b.y,a.c.y*b.x+a.d.y*b.y)}function ke(a,b){return P(he(b,a.c),he(b,a.d))}function R(a,b){var c=Q(a.f,b);c.x+=a.position.x;c.y+=a.position.y;return c}function S(a,b){return P(a.x-b.x,a.y-b.y)}function T(a,b,c){return a<b?b:a>c?c:a}function le(){this.c=P(0,0);this.d=P(0,0);this.mk()}function me(a){var b=new le;b.q(a);return b}z=le.prototype;
z.q=function(a){var b=Math.cos(a),a=Math.sin(a);this.c.q(b,a);this.d.q(-a,b)};z.Fb=function(){var a=new le;a.xh(this);return a};z.xh=function(a){this.c.m(a.c);this.d.m(a.d)};z.hm=function(a){this.c.Lf(a.c);this.d.Lf(a.d)};z.mk=function(){this.c.q(1,0);this.d.q(0,1)};z.W=function(){this.c.q(0,0);this.d.q(0,0)};z.Sd=function(){return Math.atan2(this.c.y,this.c.x)};function ne(a,b){var c=a.c.x*a.d.y-a.d.x*a.c.y;0!==c&&(c=1/c);b.c.x=c*a.d.y;b.d.x=-c*a.d.x;b.c.y=-c*a.c.y;b.d.y=c*a.c.x}
z.tg=function(a,b,c){var d=this.c.x*this.d.y-this.d.x*this.c.y;0!==d&&(d=1/d);a.x=d*(this.d.y*b-this.d.x*c);a.y=d*(this.c.x*c-this.c.y*b);return a};function oe(a,b,c){this.c=new pe(0,0,0);this.d=new pe(0,0,0);this.da=new pe(0,0,0);a&&this.c.m(a);b&&this.d.m(b);c&&this.da.m(c)}z=oe.prototype;z.Fb=function(){return new oe(this.c,this.d,this.da)};z.xh=function(a){this.c.m(a.c);this.d.m(a.d);this.da.m(a.da)};
z.hm=function(a){this.c.x+=a.c.x;this.c.y+=a.c.y;this.c.p+=a.c.p;this.d.x+=a.d.x;this.d.y+=a.d.y;this.d.p+=a.d.p;this.da.x+=a.da.x;this.da.y+=a.da.y;this.da.p+=a.da.p};z.mk=function(){this.c.q(1,0,0);this.d.q(0,1,0);this.da.q(0,0,1)};z.W=function(){this.c.q(0,0,0);this.d.q(0,0,0);this.da.q(0,0,0)};function qe(a,b,c,d){var e=a.c.x,f=a.d.x,g=a.c.y,a=a.d.y,h=e*a-f*g;0!=h&&(h=1/h);b.x=h*(a*c-f*d);b.y=h*(e*d-g*c);return b}
function re(a,b,c,d,e){var f=a.c.x,g=a.c.y,h=a.c.p,i=a.d.x,j=a.d.y,k=a.d.p,n=a.da.x,r=a.da.y,a=a.da.p,s=f*(j*a-k*r)+g*(k*n-i*a)+h*(i*r-j*n);0!=s&&(s=1/s);b.x=s*(c*(j*a-k*r)+d*(k*n-i*a)+e*(i*r-j*n));b.y=s*(f*(d*a-e*r)+g*(e*n-c*a)+h*(c*r-d*n));b.p=s*(f*(j*e-k*d)+g*(k*c-i*e)+h*(i*d-j*c));return b}function se(){this.s=P(0,0);this.Rb=P(0,0);this.h=P(0,0)}se.prototype.q=function(a){this.s.m(a.s);this.Rb.m(a.Rb);this.h.m(a.h);this.sd=a.sd;this.r=a.r;this.uc=a.uc};
se.prototype.Fb=function(){var a=new se;a.s.m(this.s);a.Rb.m(this.Rb);a.h.m(this.h);a.sd=this.sd;a.r=this.r;a.uc=this.uc;return a};se.prototype.Mc=function(a,b){b===aa&&(b=0);a.position.x=(1-b)*this.Rb.x+b*this.h.x;a.position.y=(1-b)*this.Rb.y+b*this.h.y;a.f.q((1-b)*this.sd+b*this.r);var c=a.f;a.position.x-=c.c.x*this.s.x+c.d.x*this.s.y;a.position.y-=c.c.y*this.s.x+c.d.y*this.s.y};
se.prototype.Mf=function(a){a===aa&&(a=0);if(this.uc<a&&1-this.uc>Number.MIN_VALUE){var b=(a-this.uc)/(1-this.uc);this.Rb.x=(1-b)*this.Rb.x+b*this.h.x;this.Rb.y=(1-b)*this.Rb.y+b*this.h.y;this.sd=(1-b)*this.sd+b*this.r;this.uc=a}};function te(a,b){this.position=P(0,0);this.f=new le;a&&this.position.m(a);b&&this.f.xh(b)}te.prototype.Gb=function(a,b){this.position.m(a);this.f.xh(b)};te.prototype.mk=function(){this.position.W();this.f.mk()};te.prototype.q=function(a){this.position.m(a.position);this.f.xh(a.f)};
te.prototype.Sd=function(){return Math.atan2(this.f.c.y,this.f.c.x)};function ue(a,b){this.x=a;this.y=b}var ve=[];function P(a,b){if(0<ve.length){var c=ve.pop();c.q(a,b);return c}return new ue(a,b)}function U(a){ve.push(a)}z=ue.prototype;z.W=function(){this.y=this.x=0};z.q=function(a,b){this.x=a;this.y=b};z.m=function(a){this.x=a.x;this.y=a.y};z.Nf=function(){return P(-this.x,-this.y)};z.Bp=function(){this.x=-this.x;this.y=-this.y};z.Fb=function(){return P(this.x,this.y)};
z.Lf=function(a){this.x+=a.x;this.y+=a.y};z.Op=function(a){this.x-=a.x;this.y-=a.y};z.Fc=function(a){this.x*=a;this.y*=a};function we(a){return Math.sqrt(xe(a))}function xe(a){return a.x*a.x+a.y*a.y}function ye(a){var b=we(a);if(b<Number.MIN_VALUE)return 0;var c=1/b;a.x*=c;a.y*=c;return b}function pe(a,b,c){this.x=a;this.y=b;this.p=c}z=pe.prototype;z.W=function(){this.p=this.y=this.x=0};z.q=function(a,b,c){this.x=a;this.y=b;this.p=c};z.m=function(a){this.x=a.x;this.y=a.y;this.p=a.p};
z.Nf=function(){return new pe(-this.x,-this.y,-this.p)};z.Bp=function(){this.x=-this.x;this.y=-this.y;this.p=-this.p};z.Fb=function(){return new pe(this.x,this.y,this.p)};z.Lf=function(a){this.x+=a.x;this.y+=a.y;this.p+=a.p};z.Op=function(a){this.x-=a.x;this.y-=a.y;this.p-=a.p};z.Fc=function(a){this.x*=a;this.y*=a;this.p*=a};function ze(){this.va=0.005}z=ze.prototype;z.sg=q();z.Fb=q();z.q=function(a){this.va=a.va};z.sh=q();z.Hi=q();z.jk=q();z.pm=q();
function Ae(a){this.va=0.005;this.va=a;this.ki=a*a;this.Fa=P(0,0)}O(Ae,ze);z=Ae.prototype;z.sg=x("b2CircleShape");z.Fb=function(){var a=new Ae(this.va);a.q(this);return a};z.q=function(a){ze.prototype.q.call(this,a);a instanceof Ae&&this.Fa.m(a.Fa)};z.sh=function(a,b){var c=b.f,d=b.position.x+(c.c.x*this.Fa.x+c.d.x*this.Fa.y),c=b.position.y+(c.c.y*this.Fa.x+c.d.y*this.Fa.y);a.pa.q(d-this.va,c-this.va);a.ra.q(d+this.va,c+this.va)};
z.Hi=function(a,b){a.Pe=b*Math.PI*this.ki;a.df.m(this.Fa);a.uh=a.Pe*(0.5*this.ki+(this.Fa.x*this.Fa.x+this.Fa.y*this.Fa.y))};z.jk=function(a,b,c,d){var c=R(c,this.Fa),e=-(he(a,c)-b);if(e<-this.va+Number.MIN_VALUE)return 0;if(e>this.va)return d.m(c),Math.PI*this.ki;b=e*e;e=this.ki*(Math.asin(e/this.va)+Math.PI/2)+e*Math.sqrt(this.ki-b);b=-2/3*Math.pow(this.ki-b,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};z.pm=function(a){a.u=[this.Fa];a.Z=1;a.va=this.va};
function Be(a,b){this.va=0.005;this.ry=this.ty=m;this.$=a;this.ma=b;this.Tg=P(this.ma.x-this.$.x,this.ma.y-this.$.y);this.Tn=ye(this.Tg);this.ba=P(this.Tg.y,-this.Tg.x);this.ky=P(-0.04*(this.ba.x-this.Tg.x)+this.$.x,-0.04*(this.ba.y-this.Tg.y)+this.$.y);this.ly=P(-0.04*(this.ba.x+this.Tg.x)+this.ma.x,-0.04*(this.ba.y+this.Tg.y)+this.ma.y);this.oy=this.ba;this.py=P(-this.ba.x,-this.ba.y);this.ny=this.my=p}O(Be,ze);Be.prototype.sg=x("b2EdgeShape");
Be.prototype.sh=function(a,b){var c=b.f,d=b.position.x+(c.c.x*this.$.x+c.d.x*this.$.y),e=b.position.y+(c.c.y*this.$.x+c.d.y*this.$.y),f=b.position.x+(c.c.x*this.ma.x+c.d.x*this.ma.y),c=b.position.y+(c.c.y*this.ma.x+c.d.y*this.ma.y);d<f?(a.pa.x=d,a.ra.x=f):(a.pa.x=f,a.ra.x=d);e<c?(a.pa.y=e,a.ra.y=c):(a.pa.y=c,a.ra.y=e)};Be.prototype.Hi=function(a){a.Pe=0;a.df.m(this.$);a.uh=0};
Be.prototype.jk=function(a,b,c,d){b===aa&&(b=0);var e=P(a.x*b,a.y*b),f=R(c,this.$),c=R(c,this.ma),g=he(a,f)-b,a=he(a,c)-b;if(0<g){if(0<a)return 0;f.x=-a/(g-a)*f.x+g/(g-a)*c.x;f.y=-a/(g-a)*f.y+g/(g-a)*c.y}else 0<a&&(c.x=-a/(g-a)*f.x+g/(g-a)*c.x,c.y=-a/(g-a)*f.y+g/(g-a)*c.y);d.x=(e.x+f.x+c.x)/3;d.y=(e.y+f.y+c.y)/3;return 0.5*((f.x-e.x)*(c.y-e.y)-(f.y-e.y)*(c.x-e.x))};function Ce(){this.Pe=0;this.df=P(0,0);this.uh=0}function De(){this.va=0.005;this.Dd=P(0,0);this.u=[];this.Ma=[]}O(De,ze);z=De.prototype;
z.sg=x("b2PolygonShape");z.Fb=function(){var a=new De;a.q(this);return a};z.q=function(a){ze.prototype.q.call(this,a);if(a instanceof De){this.Dd.m(a.Dd);this.za=a.za;Ee(this,this.za);for(var b=0;b<this.za;b++)this.u[b].m(a.u[b]),this.Ma[b].m(a.Ma[b])}};function Fe(a,b,c){a.za=4;Ee(a,4);a.u[0].q(-b,-c);a.u[1].q(b,-c);a.u[2].q(b,c);a.u[3].q(-b,c);a.Ma[0].q(0,-1);a.Ma[1].q(1,0);a.Ma[2].q(0,1);a.Ma[3].q(-1,0);a.Dd.W()}
z.sh=function(a,b){for(var c=b.f,d=this.u[0],e=b.position.x+(c.c.x*d.x+c.d.x*d.y),f=b.position.y+(c.c.y*d.x+c.d.y*d.y),g=e,h=f,i=1;i<this.za;++i)var d=this.u[i],j=b.position.x+(c.c.x*d.x+c.d.x*d.y),d=b.position.y+(c.c.y*d.x+c.d.y*d.y),e=e<j?e:j,f=f<d?f:d,g=g>j?g:j,h=h>d?h:d;a.pa.x=e-this.va;a.pa.y=f-this.va;a.ra.x=g+this.va;a.ra.y=h+this.va};
z.Hi=function(a,b){if(2==this.za)a.df.x=0.5*(this.u[0].x+this.u[1].x),a.df.y=0.5*(this.u[0].y+this.u[1].y),a.Pe=0,a.uh=0;else{for(var c=0,d=0,e=0,f=0,g=1/3,h=0;h<this.za;++h)var i=this.u[h],j=h+1<this.za?this.u[h+1]:this.u[0],k=i.x-0,n=i.y-0,r=j.x-0,s=j.y-0,t=k*s-n*r,u=0.5*t,e=e+u,c=c+u*g*(0+i.x+j.x),d=d+u*g*(0+i.y+j.y),i=k,f=f+t*(g*(0.25*(i*i+r*i+r*r)+(0*i+0*r))+0+(g*(0.25*(n*n+s*n+s*s)+(0*n+0*s))+0));a.Pe=b*e;a.df.q(c*(1/e),d*(1/e));a.uh=b*f}};
z.jk=function(a,b,c,d){for(var e=ke(c.f,a),f=b-he(a,c.position),g=[],h=0,i=-1,b=-1,j=p,a=a=0;a<this.za;++a){g[a]=he(e,this.u[a])-f;var k=g[a]<-Number.MIN_VALUE;0<a&&(k?j||(i=a-1,h++):j&&(b=a-1,h++));j=k}switch(h){case 0:return j?(a=new Ce,this.Hi(a,1),d.m(R(c,a.df)),a.Pe):0;case 1:-1==i?i=this.za-1:b=this.za-1}a=(i+1)%this.za;e=(b+1)%this.za;f=(0-g[i])/(g[a]-g[i]);g=(0-g[b])/(g[e]-g[b]);i=P(this.u[i].x*(1-f)+this.u[a].x*f,this.u[i].y*(1-f)+this.u[a].y*f);b=P(this.u[b].x*(1-g)+this.u[e].x*g,this.u[b].y*
(1-g)+this.u[e].y*g);g=0;f=P(0,0);for(h=this.u[a];a!=e;)a=(a+1)%this.za,j=a==e?b:this.u[a],k=0.5*((h.x-i.x)*(j.y-i.y)-(h.y-i.y)*(j.x-i.x)),g+=k,f.x+=k*(i.x+h.x+j.x)/3,f.y+=k*(i.y+h.y+j.y)/3,h=j;f.Fc(1/g);d.m(R(c,f));return g};z.pm=function(a){a.u=this.u;a.Z=this.za;a.va=this.va};z.kk=function(a){for(var b=0,c=this.u[0].x*a.x+this.u[0].y*a.y,d=1;d<this.za;++d){var e=this.u[d].x*a.x+this.u[d].y*a.y;e>c&&(b=d,c=e)}return b};
z.Oi=function(a){for(var b=0,c=this.u[0].x*a.x+this.u[0].y*a.y,d=1;d<this.za;++d){var e=this.u[d].x*a.x+this.u[d].y*a.y;e>c&&(b=d,c=e)}return this.u[b]};function Ee(a,b){a.u=[];a.Ma=[];for(var c=a.u.length;c<b;c++)a.u[c]=P(0,0),a.Ma[c]=P(0,0)}new le;function Ge(){this.Yi=this.Xi=this.Zi=this.nb=0}function He(a,b){a.nb=b;a.Zi=a.nb&255;a.Xi=(a.nb&65280)>>8&255;a.Yi=(a.nb&16711680)>>16&255;a.Pp=(a.nb&4278190080)>>24&255}Ge.prototype.q=function(a){He(this,a.nb)};
Ge.prototype.Fb=function(){var a=new Ge;a.q(this);return a};function Ie(){this.od=P(0,0);this.id=new Ge}Ie.prototype.q=function(a){this.od.m(a.od);this.id.q(a.id)};function Je(){this.pa=P(0,0);this.ra=P(0,0)}var Ke=[];function Le(){if(0<Ke.length){var a=Ke.pop();a.W();return a}return new Je}Je.prototype.W=function(){this.pa.q(0,0);this.ra.q(0,0)};function Me(a,b){var c;return c=(c=(c=(c=l&&a.pa.x<=b.pa.x)&&a.pa.y<=b.pa.y)&&b.ra.x<=a.ra.x)&&b.ra.y<=a.ra.y}
Je.prototype.Wi=function(a){return 0<a.pa.x-this.ra.x||0<a.pa.y-this.ra.y||0<this.pa.x-a.ra.x||0<this.pa.y-a.ra.y?p:l};function Ne(a,b,c){a.pa.x=Math.min(b.pa.x,c.pa.x);a.pa.y=Math.min(b.pa.y,c.pa.y);a.ra.x=Math.max(b.ra.x,c.ra.x);a.ra.y=Math.max(b.ra.y,c.ra.y)}
function Oe(a,b,c,d){var e=0,f=b[0].od,g=b[1].od,h=c.x*f.x+c.y*f.y-d,c=c.x*g.x+c.y*g.y-d;0>=h&&a[e++].q(b[0]);0>=c&&a[e++].q(b[1]);0>h*c&&(c=h/(h-c),d=a[e].od,d.x=f.x+c*(g.x-f.x),d.y=f.y+c*(g.y-f.y),a[e].id=0<h?b[0].id:b[1].id,e++);return e}
function Pe(a,b,c,d,e){for(var f=b.f.c.x*a.Ma[c].x+b.f.d.x*a.Ma[c].y,g=b.f.c.y*a.Ma[c].x+b.f.d.y*a.Ma[c].y,h=e.f.c.x*f+e.f.c.y*g,i=e.f.d.x*f+e.f.d.y*g,j=0,k=Number.MAX_VALUE,n=0;n<d.za;n++){var r=d.u[n].x*h+d.u[n].y*i;r<k&&(k=r,j=n)}return(e.position.x+(e.f.c.x*d.u[j].x+e.f.d.x*d.u[j].y)-(b.position.x+(b.f.c.x*a.u[c].x+b.f.d.x*a.u[c].y)))*f+(e.position.y+(e.f.c.y*d.u[j].x+e.f.d.y*d.u[j].y)-(b.position.y+(b.f.c.y*a.u[c].x+b.f.d.y*a.u[c].y)))*g}
function Qe(a,b,c,d){for(var e=d.position.x+(d.f.c.x*c.Dd.x+d.f.d.x*c.Dd.y),f=d.position.y+(d.f.c.y*c.Dd.x+d.f.d.y*c.Dd.y),e=e-(b.position.x+(b.f.c.x*a.Dd.x+b.f.d.x*a.Dd.y)),f=f-(b.position.y+(b.f.c.y*a.Dd.x+b.f.d.y*a.Dd.y)),g=e*b.f.c.x+f*b.f.c.y,f=e*b.f.d.x+f*b.f.d.y,e=0,h=-Number.MAX_VALUE,i=0;i<a.za;++i){var j=a.Ma[i].x*g+a.Ma[i].y*f;j>h&&(h=j,e=i)}g=Pe(a,b,e,c,d);f=e-1;0>f&&(f=a.za-1);h=Pe(a,b,f,c,d);i=e+1;i>=a.za&&(i=0);var j=Pe(a,b,i,c,d),k=0,n=0;if(h>g&&h>j){k=f;for(n=h;;)if(e=k-1,0>e&&(e=
a.za-1),g=Pe(a,b,e,c,d),g>n)k=e,n=g;else break}else if(j>g){k=i;for(n=j;;)if(e=k+1,e>=a.za&&(e=0),g=Pe(a,b,e,c,d),g>n)k=e,n=g;else break}else k=e,n=g;return{aq:k,Ol:n}}
function Re(a,b,c){var d=new Se,e=c.Cf,f=c.Xl,g=c.Df,h=c.Yl,i,j;d.Z=b.count;for(var k=d.u,n=0;n<d.Z;n++){var r=k[n];r.qb=b.qb[n];r.rb=b.rb[n];i=V(e,r.qb);j=V(g,r.rb);r.lc=R(f,i);r.Rd=R(h,j);r.Wb=S(r.Rd,r.lc);r.r=0}if(1<d.Z&&(i=b.gw,j=Te(d),j<0.5*i||2*i<j||j<Number.MIN_VALUE))d.Z=0;0==d.Z&&(r=k[0],r.qb=0,r.rb=0,i=V(e,0),j=V(g,0),r.lc=R(f,i),r.Rd=R(h,j),r.Wb=S(r.Rd,r.lc),d.Z=1);for(e=0;20>e;){f=[];for(g=0;g<d.Z;g++)f[g]={},f[g].qb=d.u[g].qb,f[g].rb=d.u[g].rb;if(2==d.Z)g=d,h=g.$.Wb,k=g.ma.Wb,i=S(k,h),
h=-(h.x*i.x+h.y*i.y),0>=h?(g.$.r=1,g.Z=1):(k=k.x*i.x+k.y*i.y,0>=k?(g.ma.r=1,g.Z=1,g.$.q(g.ma)):(i=1/(k+h),g.$.r=k*i,g.ma.r=h*i,g.Z=2));else if(3==d.Z){var g=d,s=g.$.Wb,t=g.ma.Wb,u=g.Qc.Wb,w=S(t,s),h=he(t,w),k=-he(s,w),y=S(u,s);i=he(u,y);j=-he(s,y);r=S(u,t);n=he(u,r);r=-he(t,r);y=ie(w,y);w=y*ie(t,u);u=y*ie(u,s);s=y*ie(s,t);0>=k&&0>=j?(g.$.r=1,g.Z=1):0<h&&0<k&&0>=s?(i=1/(h+k),g.$.r=h*i,g.ma.r=k*i,g.Z=2):0<i&&0<j&&0>=u?(h=1/(i+j),g.$.r=i*h,g.Qc.r=j*h,g.Z=2,g.ma.q(g.Qc)):0>=h&&0>=r?(g.ma.r=1,g.Z=1,g.$.q(g.ma)):
0>=i&&0>=n?(g.Qc.r=1,g.Z=1,g.$.q(g.Qc)):0<n&&0<r&&0>=w?(h=1/(n+r),g.ma.r=n*h,g.Qc.r=r*h,g.Z=2,g.$.q(g.Qc)):(h=1/(w+u+s),g.$.r=w*h,g.ma.r=u*h,g.Qc.r=s*h,g.Z=3)}if(3==d.Z)break;g=d;1==g.Z?g=g.$.Wb.Nf():2==g.Z?(h=S(g.ma.Wb,g.$.Wb),g=0<ie(h,g.$.Wb.Nf())?P(-1*h.y,1*h.x):je(h)):g=P(0,0);if(xe(g)<ge)break;h=g.Nf();d.u[d.Z].qb=c.Cf.kk(ke(c.Xl.f,h));d.u[d.Z].lc=R(c.Xl,V(c.Cf,d.u[d.Z].qb));d.u[d.Z].rb=c.Df.kk(ke(c.Yl.f,g));d.u[d.Z].Rd=R(c.Yl,V(c.Df,d.u[d.Z].rb));d.u[d.Z].Wb=S(d.u[d.Z].Rd,d.u[d.Z].lc);U(g);
U(h);e++;h=p;for(g=0;g<f.length;g++)if(d.u[d.Z].qb==f[g].qb&&d.u[d.Z].rb==f[g].rb){h=l;break}if(h)break;d.Z++}e=a.je;f=a.ke;1==d.Z?(e.m(d.$.lc),f.m(d.$.Rd)):2==d.Z?(e.x=d.$.r*d.$.lc.x+d.ma.r*d.ma.lc.x,e.y=d.$.r*d.$.lc.y+d.ma.r*d.ma.lc.y,f.x=d.$.r*d.$.Rd.x+d.ma.r*d.ma.Rd.x,f.y=d.$.r*d.$.Rd.y+d.ma.r*d.ma.Rd.y):3==d.Z&&(f.x=e.x=d.$.r*d.$.lc.x+d.ma.r*d.ma.lc.x+d.Qc.r*d.Qc.lc.x,f.y=e.y=d.$.r*d.$.lc.y+d.ma.r*d.ma.lc.y+d.Qc.r*d.Qc.lc.y);a.hf=we(S(a.je,a.ke));b.gw=Te(d);b.count=d.Z;e=d.u;for(f=0;f<d.Z;f++)b.qb[f]=
e[f].qb,b.rb[f]=e[f].rb;c.As&&(b=c.Cf.va,c=c.Df.va,a.hf>b+c&&a.hf>Number.MIN_VALUE?(a.hf-=b+c,d=S(a.ke,a.je),ye(d),a.je.x+=b*d.x,a.je.y+=b*d.y,a.ke.x-=c*d.x,a.ke.y-=c*d.y,U(d)):(c=P(0,0),c.x=0.5*(a.je.x+a.ke.x),c.y=0.5*(a.je.y+a.ke.y),a.je.x=a.ke.x=c.x,a.je.y=a.ke.y=c.y,a.hf=0,U(c)))}function Ue(){}function Ve(){this.je=P(0,0);this.ke=P(0,0);this.hf=0}function We(){}We.prototype.q=function(a){a.pm(this)};
We.prototype.kk=function(a){for(var b=0,c=this.u[0].x*a.x+this.u[0].y*a.y,d=1;d<this.Z;d++){var e=this.u[d].x*a.x+this.u[d].y*a.y;e>c&&(b=d,c=e)}return b};We.prototype.Oi=function(a){return this.u[this.kk(a)]};function V(a,b){b===aa&&(b=0);return a.u[b]}function Xe(){this.Oe=m;this.Uv=this.sy=0}z=Xe.prototype;z.Ii=function(a,b){var c=Ye(b);c.la.pa.x=a.pa.x-0.1;c.la.pa.y=a.pa.y-0.1;c.la.ra.x=a.ra.x+0.1;c.la.ra.y=a.ra.y+0.1;Ze(this,c);return c};z.Ji=function(a){$e(this,a);a.mc()};
z.lm=function(a,b,c){if(Me(a.la,b))return p;$e(this,a);var d=0.1+2*Math.abs(c.x),c=0.1+2*Math.abs(c.y);a.la.pa.x=b.pa.x-d;a.la.pa.y=b.pa.y-c;a.la.ra.x=b.ra.x+d;a.la.ra.y=b.ra.y+c;Ze(this,a);return l};z.Mi=function(a){return a.la};z.nm=function(a,b){if(this.Oe!==m){var c=[];for(c.push(this.Oe);0<c.length;){var d=c.pop();if(d.la.Wi(b))if(d.Gc===m){if(!a(d.wd))break}else c.push(d.Gc),c.push(d.te)}}};
function Ze(a,b){a.Uv++;if(a.Oe===m)a.Oe=b,a.Oe.parent=m;else{var c;c=P((b.la.pa.x+b.la.ra.x)/2,(b.la.pa.y+b.la.ra.y)/2);for(var d=a.Oe;d.Gc!==m;)var e=d.Gc,d=d.te,f=Math.abs((e.la.pa.x+e.la.ra.x)/2-c.x)+Math.abs((e.la.pa.y+e.la.ra.y)/2-c.y),g=Math.abs((d.la.pa.x+d.la.ra.x)/2-c.x)+Math.abs((d.la.pa.y+d.la.ra.y)/2-c.y),d=f<g?e:d;U(c);c=d;e=c.parent;d=Ye();d.parent=e;Ne(d.la,b.la,c.la);if(e){c.parent.Gc==c?e.Gc=d:e.te=d;d.Gc=c;d.te=b;c.parent=d;for(b.parent=d;e&&!Me(e.la,d.la);)Ne(e.la,e.Gc.la,e.te.la),
d=e,e=e.parent}else d.Gc=c,d.te=b,c.parent=d,b.parent=d,a.Oe=d}}function $e(a,b){if(b==a.Oe)a.Oe=m;else{var c=b.parent,d=c.parent,e;e=c.Gc==b?c.te:c.Gc;if(d){d.Gc==c?d.Gc=e:d.te=e;for(e.parent=d;d;){e=d.la;Ne(d.la,d.Gc.la,d.te.la);if(Me(e,d.la))break;d=d.parent}}else a.Oe=e,e.parent=m;c.mc()}}function af(){this.yf=new Xe;this.Hj=[]}z=af.prototype;z.Ii=function(a,b){var c=this.yf.Ii(a,b);this.Hj.push(c);return c};z.Ji=function(a){pa(this.Hj,a);this.yf.Ji(a)};
z.lm=function(a,b,c){this.yf.lm(a,b,c)&&this.Hj.push(a)};z.Wi=function(a,b){return this.yf.Mi(a).Wi(this.yf.Mi(b))};z.Mi=function(a){return this.yf.Mi(a)};z.nm=function(a,b){this.yf.nm(a,b)};function bf(a){this.la=Le();this.wd=this.parent=this.te=this.Gc=m;"undefined"!=typeof a&&(this.wd=a)}var cf=[];function Ye(a){if(0<cf.length){var b=cf.pop();"undefined"!=typeof a&&(b.wd=a);b.la.W();return b}return new bf(a)}bf.prototype.mc=function(){this.wd=this.parent=this.te=this.Gc=m;cf.push(this)};
function df(a,b){this.lj=a;this.mj=b}function ef(){this.O=this.kb=0;this.U=[];for(var a=0;2>a;a++)this.U[a]=new ff;this.Ub=P(0,0);this.fa=P(0,0)}ef.prototype.Ob=function(){for(var a=0;2>a;a++)this.U[a].Ob();this.Ub.W();this.fa.W();this.kb=this.O=0};ef.prototype.q=function(a){this.kb=a.kb;for(var b=0;2>b;b++)this.U[b].q(a.U[b]);this.Ub.m(a.Ub);this.fa.m(a.fa);this.O=a.O};ef.prototype.Fb=function(){var a=new ef;a.q(this);return a};function ff(){this.fa=P(0,0);this.Fd=new Ge;this.Ob()}
ff.prototype.Ob=function(){this.fa.W();this.Zg=this.Vg=0;He(this.Fd,0)};ff.prototype.q=function(a){this.fa.m(a.fa);this.Vg=a.Vg;this.Zg=a.Zg;this.Fd.q(a.Fd)};function gf(){this.fa=P(0,0);this.C=P(0,0)}
gf.prototype.Gb=function(a,b,c,d,e){this.$f=b;this.ag=d;var f,g,h,i=h=g=0,j=0,d=b=0,k,n,i=0;1==a.count?(this.O=hf,f=V(this.$f,a.qb[0]),a=V(this.ag,a.rb[0]),n=f,k=c.f,g=c.position.x+(k.c.x*n.x+k.d.x*n.y),h=c.position.y+(k.c.y*n.x+k.d.y*n.y),n=a,k=e.f,i=e.position.x+(k.c.x*n.x+k.d.x*n.y),j=e.position.y+(k.c.y*n.x+k.d.y*n.y),this.C.x=i-g,this.C.y=j-h,ye(this.C)):(a.rb[0]==a.rb[1]?(this.O=jf,b=V(this.$f,a.qb[0]),d=V(this.$f,a.qb[1]),a=V(this.ag,a.rb[0]),this.fa.x=0.5*(b.x+d.x),this.fa.y=0.5*(b.y+d.y),
this.C=je(S(d,b)),ye(this.C),n=this.C,k=c.f,b=k.c.x*n.x+k.d.x*n.y,d=k.c.y*n.x+k.d.y*n.y,n=this.fa,k=c.f,g=c.position.x+(k.c.x*n.x+k.d.x*n.y),h=c.position.y+(k.c.y*n.x+k.d.y*n.y),n=a,k=e.f,i=e.position.x+(k.c.x*n.x+k.d.x*n.y),j=e.position.y+(k.c.y*n.x+k.d.y*n.y),i=(i-g)*b+(j-h)*d):a.qb[0]==a.qb[0]?(this.O=kf,g=V(this.ag,a.rb[0]),h=V(this.ag,a.rb[1]),f=V(this.$f,a.qb[0]),this.fa.x=0.5*(g.x+h.x),this.fa.y=0.5*(g.y+h.y),this.C=je(S(h,g)),ye(this.C),n=this.C,k=e.f,b=k.c.x*n.x+k.d.x*n.y,d=k.c.y*n.x+k.d.y*
n.y,n=this.fa,k=e.f,i=e.position.x+(k.c.x*n.x+k.d.x*n.y),j=e.position.y+(k.c.y*n.x+k.d.y*n.y),n=f,k=c.f,g=c.position.x+(k.c.x*n.x+k.d.x*n.y),h=c.position.y+(k.c.y*n.x+k.d.y*n.y),i=(g-i)*b+(h-j)*d):(b=V(this.$f,a.qb[0]),d=V(this.$f,a.qb[1]),g=V(this.ag,a.rb[0]),h=V(this.ag,a.rb[1]),i=Q(c.f,S(d,b)),j=Q(e.f,S(h,g)),e=i.x*i.x+i.y*i.y,c=j.x*j.x+j.y*j.y,f=S(j,i),a=i.x*f.x+i.y*f.y,f=j.x*f.x+j.y*f.y,j=i.x*j.x+i.y*j.y,k=e*c-j*j,i=0,0!=k&&(i=T((j*f-a*c)/k,0,1)),0>(j*i+f)/c&&(i=T((j-a)/e,0,1)),f=P(0,0),f.x=
b.x+i*(d.x-b.x),f.y=b.y+i*(d.y-b.y),a=P(0,0),a.x=g.x+i*(h.x-g.x),a.y=g.y+i*(h.y-g.y),0==i||1==i?(this.O=kf,this.C=je(S(h,g)),ye(this.C),this.fa=a):(this.O=jf,this.C=je(S(d,b)),this.fa=f)),0>i&&this.C.Bp())};
gf.prototype.oe=function(a,b){var c,d,e=0;switch(this.O){case hf:c=ke(a.f,this.C);d=ke(b.f,this.C.Nf());c=this.$f.Oi(c);d=this.ag.Oi(d);c=R(a,c);d=R(b,d);e=(d.x-c.x)*this.C.x+(d.y-c.y)*this.C.y;break;case jf:e=Q(a.f,this.C);c=R(a,this.fa);d=ke(b.f,e.Nf());d=this.ag.Oi(d);d=R(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case kf:e=Q(b.f,this.C),d=R(b,this.fa),c=ke(a.f,e.Nf()),c=this.$f.Oi(c),c=R(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var hf=1,jf=2,kf=4;
function Se(){this.$=new lf;this.ma=new lf;this.Qc=new lf;this.u=[this.$,this.ma,this.Qc]}function Te(a){return 1==a.Z?0:2==a.Z?we(S(a.$.Wb,a.ma.Wb)):3==a.Z?ie(S(a.ma.Wb,a.$.Wb),S(a.Qc.Wb,a.$.Wb)):0}function mf(){this.qb=[0,0,0];this.rb=[0,0,0]}function lf(){}lf.prototype.q=function(a){this.lc.m(a.lc);this.Rd.m(a.Rd);this.Wb.m(a.Wb);this.r=a.r;this.qb=a.qb;this.rb=a.rb};function nf(){this.Cf=new We;this.Df=new We;this.ls=new se;this.ms=new se}
function of(){this.ba=P(0,0);this.U=[];for(var a=this.kb=0;2>a;a++)this.U[a]=P(0,0)}
of.prototype.Gb=function(a,b,c,d,e){if(0!=a.kb){var f=0,g,h,i=0,j=0,k=0,n=0,r=0;g=0;switch(a.O){case 1:h=b.f;g=a.fa;f=b.position.x+h.c.x*g.x+h.d.x*g.y;b=b.position.y+h.c.y*g.x+h.d.y*g.y;h=d.f;g=a.U[0].fa;a=d.position.x+h.c.x*g.x+h.d.x*g.y;d=d.position.y+h.c.y*g.x+h.d.y*g.y;g=a-f;h=d-b;i=g*g+h*h;i>ge?(i=Math.sqrt(i),this.ba.x=g/i,this.ba.y=h/i):(this.ba.x=1,this.ba.y=0);g=b+c*this.ba.y;d-=e*this.ba.y;this.U[0].x=0.5*(f+c*this.ba.x+(a-e*this.ba.x));this.U[0].y=0.5*(g+d);break;case 2:h=b.f;g=a.Ub;i=
h.c.x*g.x+h.d.x*g.y;j=h.c.y*g.x+h.d.y*g.y;h=b.f;g=a.fa;k=b.position.x+h.c.x*g.x+h.d.x*g.y;n=b.position.y+h.c.y*g.x+h.d.y*g.y;this.ba.x=i;this.ba.y=j;for(f=0;f<a.kb;f++)h=d.f,g=a.U[f].fa,r=d.position.x+h.c.x*g.x+h.d.x*g.y,g=d.position.y+h.c.y*g.x+h.d.y*g.y,this.U[f].x=r+0.5*(c-(r-k)*i-(g-n)*j-e)*i,this.U[f].y=g+0.5*(c-(r-k)*i-(g-n)*j-e)*j;break;case 4:h=d.f;g=a.Ub;i=h.c.x*g.x+h.d.x*g.y;j=h.c.y*g.x+h.d.y*g.y;h=d.f;g=a.fa;k=d.position.x+h.c.x*g.x+h.d.x*g.y;n=d.position.y+h.c.y*g.x+h.d.y*g.y;this.ba.x=
-i;this.ba.y=-j;for(f=0;f<a.kb;f++)h=b.f,g=a.U[f].fa,r=b.position.x+h.c.x*g.x+h.d.x*g.y,g=b.position.y+h.c.y*g.x+h.d.y*g.y,this.U[f].x=r+0.5*(e-(r-k)*i-(g-n)*j-c)*i,this.U[f].y=g+0.5*(e-(r-k)*i-(g-n)*j-c)*j}}};
function pf(a,b){this.vc="Body"+qf++;this.j=new te;this.j.position.m(a.position);this.j.f.q(a.o);this.b=new se;this.b.s.W();this.b.uc=1;this.b.sd=this.b.r=a.o;this.b.h.x=this.j.f.c.x*this.b.s.x+this.j.f.d.x*this.b.s.y;this.b.h.y=this.j.f.c.y*this.b.s.x+this.j.f.d.y*this.b.s.y;this.b.h.x+=this.j.position.x;this.b.h.y+=this.j.position.y;this.b.Rb.m(this.b.h);this.g=a.Jv.Fb();this.tf=P(0,0);this.fi=a.Ak;this.Pv=a.Dq;this.On=a.Ct;this.ec=a.Ht;this.Nn=a.vg;this.gc=b;this.Xa=m;this.Sb=new rf;this.Ag=new sf;
this.jy=0;this.k=a.Gt;this.Wv=a.pl;this.Lv=a.rk;this.Kj=this.$g=0;this.O=a.type;this.A=2==this.O?1:0;this.n=2==this.O?1:0;this.B=this.Cd=0;this.Tv=a.vv;this.Eg=new tf;this.xl=[]}function uf(a,b){var c=new vf(a,0,b);a.Nn&&c.Ii(a.gc.zc.ei,a.j);var d=a.Eg,e=c.vc;if(d.Qk[e]==m){var f=new wf(c),g=d.$m;g!=m?g.Td(f):d.Zm=f;f.Ud(g);d.$m=f;d.Qk[e]=f;d.Eq++}c.Pn=a;0<c.Rn&&xf(a);a.gc.Yn=l}z=pf.prototype;z.mc=function(){U(this.g);U(this.tf)};
function yf(a,b,c){a.j.f.q(c);a.j.position.m(b);var b=a.j.f,d=a.b.s;a.b.h.x=b.c.x*d.x+b.d.x*d.y;a.b.h.y=b.c.y*d.x+b.d.y*d.y;a.b.h.x+=a.j.position.x;a.b.h.y+=a.j.position.y;a.b.Rb.m(a.b.h);a.b.sd=a.b.r=c;c=a.gc.zc.ei;for(b=a.Eg.na();b;b=b.next)zf(b.wd,c,a.j,a.j);Af(a.gc.zc)}z.Mc=v("j");z.Sd=function(){return this.b.r};z.Lp=function(a){yf(this,this.j.position,a)};function Bf(a,b){0!=a.O&&a.g.m(b)}z.om=function(a){a===aa&&(a=0);0!=this.O&&(this.k=a)};
z.$e=function(a,b){2==this.O&&(W(this,l),this.tf.x+=a.x,this.tf.y+=a.y,this.$g+=(b.x-this.b.h.x)*a.y-(b.y-this.b.h.y)*a.x)};z.im=function(a){a===aa&&(a=0);2==this.O&&(W(this,l),this.$g+=a)};z.yp=function(a){a||(a=new Ce);a.Pe=this.A;a.uh=this.Cd;a.df.m(this.b.s);return a};
function xf(a){a.A=0;a.n=0;a.Cd=0;a.B=0;a.b.s.W();if(!(0==a.O||1==a.O)){for(var b=P(0,0),c=a.Eg.na();c;c=c.next){var d=c.wd;0!=d.Rn&&(d=d.yp(),a.A+=d.Pe,b.x+=d.df.x*d.Pe,b.y+=d.df.y*d.Pe,a.Cd+=d.uh)}0<a.A?(a.n=1/a.A,b.x*=a.n,b.y*=a.n):(a.A=1,a.n=1);0<a.Cd&&!a.Pv?(a.Cd-=a.A*(b.x*b.x+b.y*b.y),a.Cd*=a.Tv,a.B=1/a.Cd):(a.Cd=0,a.B=0);c=a.b.h.Fb();a.b.s.m(b);a.b.Rb.m(R(a.j,a.b.s));a.b.h.m(a.b.Rb);a.g.x+=a.k*-(a.b.h.y-c.y);a.g.y+=a.k*+(a.b.h.x-c.x);U(b);U(c)}}
function Cf(a,b){var c=a.j.f,c=P(c.c.x*b.x+c.d.x*b.y,c.c.y*b.x+c.d.y*b.y);c.x+=a.j.position.x;c.y+=a.j.position.y;return c}function Df(a,b){var c=a.j,d=S(b,c.position),e=d.x*c.f.c.x+d.y*c.f.c.y;d.y=d.x*c.f.d.x+d.y*c.f.d.y;d.x=e;return d}function W(a,b){if(a.ec!=b){a.ec=b;a.Kj=0;b||(a.g.W(),a.k=0,a.tf.W(),a.$g=0);for(var c=0;c<a.xl.length;c++)Ef(a.xl[c],a)}}z.vh=v("Nn");z.Gi=function(a){this.Ag.Gi(a)};z.Vi=function(a){this.Ag.Vi(a)};
function Ff(a){Gf.f.q(a.b.sd);var b=Gf.f,c=a.b.s;Gf.position.x=a.b.Rb.x-(b.c.x*c.x+b.d.x*c.y);Gf.position.y=a.b.Rb.y-(b.c.y*c.x+b.d.y*c.y);b=a.gc.zc.ei;for(c=a.Eg.na();c;c=c.next)zf(c.wd,b,Gf,a.j)}function X(a){a.j.f.q(a.b.r);var b=a.j.f,c=a.b.s;a.j.position.x=a.b.h.x-(b.c.x*c.x+b.d.x*c.y);a.j.position.y=a.b.h.y-(b.c.y*c.x+b.d.y*c.y)}z.yh=function(a){if(2!=this.O&&2!=a.O)return p;for(var b=this.Xa;b;b=b.next)if(b.md==a&&b.qf.sr==p)return p;return l};
z.Mf=function(a){this.b.Mf(a);this.b.h.m(this.b.Rb);this.b.r=this.b.sd;X(this)};var qf=0;function Hf(){this.position=P(0,0);this.Jv=P(0,0);this.rk=this.pl=this.Gt=this.o=0;this.Ht=this.Ct=l;this.Ak=this.Dq=p;this.type=0;this.vg=l;this.vv=1}function If(){this.xk=[];for(var a=0;a<=Jf;a++)this.xk[a]=m;this.yk=[];for(a=0;a<=Jf;a++)this.yk[a]=m;this.Bh={};this.bq=0}z=If.prototype;z.na=function(a){return this.xk[a]};
z.ph=function(a){var b=a.vc;this.Bh[b]==m&&(this.ne(a,b,Jf),Ef(this,a),a.xl.push(this),this.bq++)};function Ef(a,b){var c=b.O,d=b.vc,e=b.ec,f=b.vh();2==c?a.ne(b,d,Kf):a.pe(d,Kf);0!=c?a.ne(b,d,Lf):a.pe(d,Lf);0!=c&&f&&e?a.ne(b,d,Mf):a.pe(d,Mf);e?a.ne(b,d,Nf):a.pe(d,Nf);f?a.ne(b,d,Of):a.pe(d,Of)}z.Ui=function(a){var b=a.vc;if(this.Bh[b]!=m){pa(a.xl,this);for(a=0;a<=Jf;a++)this.pe(b,a);delete this.Bh[b];this.bq--}};
z.pe=function(a,b){var c=this.Bh[a];if(c!=m){var d=c[b];d!=m&&(c[b]=m,c=d.Jd,d=d.next,c==m?this.xk[b]=d:c.Td(d),d==m?this.yk[b]=c:d.Ud(c))}};z.ne=function(a,b,c){var d=this.Bh[b];if(d==m){for(var d=[],e=0;e<=Jf;e++)d[e]=m;this.Bh[b]=d}d[c]==m&&(d[c]=new Pf(a),a=this.yk[c],a!=m?a.Td(d[c]):this.xk[c]=d[c],d[c].Ud(a),this.yk[c]=d[c])};var Kf=0,Lf=1,Of=2,Mf=3,Nf=4,Jf=5;function Pf(a){this.body=a;this.Jd=this.next=m}Pf.prototype.Td=ba("next");Pf.prototype.Ud=ba("Jd");Pf.prototype.wa=v("body");
function Qf(){}Qf.prototype.yh=function(a,b){var c=a.ur.Fb(),d=b.ur.Fb();return c.Hg==d.Hg&&0!=c.Hg?0<c.Hg:0!=(c.Lj&d.gj)&&0!=(c.gj&d.Lj)};var Rf=new Qf;function Sf(){this.hw=[];this.Kw=[]}function Tf(){}Tf.prototype.up=q();function Uf(a){this.gc=a;this.Qn=Rf;this.Dj=Vf;this.tr=new Wf;this.ei=new af}
function Af(a){for(var b=a.ei,c=[];0<b.Hj.length;){var d=b.Hj.pop();b.yf.nm(function(a){a!=d.wd&&c.push(new df(d.wd,a));return l},b.yf.Mi(d))}for(b=0;b<c.length;){var e=c[b],f=e.lj,g=e.mj;a:{var h=a,i=f.wa(),j=g.wa();if(i!=j&&j.yh(i)&&h.Qn.yh(f,g)){for(i=j.Sb.na(Xf);i;i=i.next)if(j=i.Hb.ub,j==f){if(j=i.Hb.jb,j==g)break a}else if(j==g&&(j=i.Hb.jb,j==f))break a;h.tr.me(f,g)}}for(b++;b<c.length;){f=c[b];if(!(f.lj==e.lj&&f.mj==e.mj)&&!(f.lj==e.mj&&f.mj==e.lj))break;b++}}}
Uf.prototype.mc=function(a){0<a.kd.kb&&(W(a.ub.wa(),l),W(a.jb.wa(),l));Yf(a.vk,a);Yf(a.wk,a);Yf(a.gm,a);this.tr.mc(a)};function Zf(){this.gj=1;this.Lj=65535;this.Hg=0}Zf.prototype.Fb=function(){var a=new Zf;a.gj=this.gj;a.Lj=this.Lj;a.Hg=this.Hg;return a};function vf(a,b,c){this.vc="Fixture"+$f++;this.ur=c.filter.Fb();this.Sg=Le();this.Pn=a;this.Cb=c.shape.Fb();this.Rn=c.Gh;this.vr=c.Jh;this.Al=c.ti;this.Vv=c.Bv}z=vf.prototype;z.wh=v("Vv");z.wa=v("Pn");
z.yp=function(a){a||(a=new Ce);this.Cb.Hi(a,this.Rn);return a};z.mc=function(){Ke.push(this.Sg)};z.Ii=function(a,b){this.Cb.sh(this.Sg,b);this.Wg=a.Ii(this.Sg,this)};z.Ji=function(a){this.Wg!=m&&(a.Ji(this.Wg),this.Wg=m)};function zf(a,b,c,d){if(a.Wg){var e=Le(),f=Le();a.Cb.sh(e,c);a.Cb.sh(f,d);Ne(a.Sg,e,f);Ke.push(e);Ke.push(f);c=S(d.position,c.position);b.lm(a.Wg,a.Sg,c);U(c)}}var $f=0;
function ag(){this.filter=new Zf;this.filter.gj=1;this.filter.Lj=65535;this.filter.Hg=0;this.shape=m;this.Jh=0.2;this.Gh=this.ti=0;this.Bv=p}function tf(){this.$m=this.Zm=m;this.Qk={};this.Eq=0}tf.prototype.na=v("Zm");function wf(a){this.wd=a;this.Jd=this.next=m}wf.prototype.Td=ba("next");wf.prototype.Ud=ba("Jd");function bg(a,b){this.Xv=a;this.ae=b;this.Ie=[];this.vl=[];this.Zf=[];this.sf=[];this.fc=[]}z=bg.prototype;z.hk=function(){this.Ie=[];this.vl=[];this.Zf=[];this.sf=[];this.fc=[]};
z.tg=function(a,b,c){for(var d=0;d<this.vl.length;d++){var e=this.vl[d];e.g.x+=a.ja*(b.x+e.n*e.tf.x);e.g.y+=a.ja*(b.y+e.n*e.tf.y);e.k+=a.ja*e.B*e.$g;e.g.Fc(T(1-a.ja*e.Wv,0,1));e.k*=T(1-a.ja*e.Lv,0,1)}this.ae.Gb(a,this.sf,this.sf.length);this.ae.rd(a);for(b=0;b<this.fc.length;b++)this.fc[b].rd(a);for(b=0;b<a.fk;b++){for(d=0;d<this.fc.length;d++)this.fc[d].$c(a);this.ae.$c()}for(b=0;b<this.fc.length;b++)this.fc[b].jm();this.ae.jm();for(b=0;b<this.Zf.length;++b){var d=this.Zf[b],e=a.ja*d.g.x,f=a.ja*
d.g.y;4<e*e+f*f&&(ye(d.g),d.g.x*=2*a.of,d.g.y*=2*a.of);e=a.ja*d.k;e*e>ee&&(d.k=0>d.k?-de*a.of:de*a.of);d.b.Rb.m(d.b.h);d.b.sd=d.b.r;d.b.h.x+=a.ja*d.g.x;d.b.h.y+=a.ja*d.g.y;d.b.r+=a.ja*d.k;X(d)}for(b=0;b<a.Tj;b++){d=this.ae.Zc(0.2);e=l;for(f=0;f<this.fc.length;f++)var g=this.fc[f].Zc(0.2),e=e&&g;if(d&&e)break}cg(this,this.ae.Je);if(c){c=Number.MAX_VALUE;for(b=0;b<this.Zf.length;b++)d=this.Zf[b],!d.On||Math.abs(d.k)>fe||1E-4<he(d.g,d.g)?c=d.Kj=0:(d.Kj+=a.ja,c=Math.min(c,d.Kj));if(0.5<=c)for(a=0;a<this.Ie.length;a++)W(this.Ie[a],
p)}};
z.qm=function(a){var b=0,c=0;this.ae.Gb(a,this.sf,this.sf.length);for(var d=this.ae,b=0;b<this.fc.length;++b)this.fc[b].rd(a);for(b=0;b<a.fk;++b){d.$c();for(c=0;c<this.fc.length;++c)this.fc[c].$c(a)}for(b=0;b<this.Zf.length;++b){var c=this.Zf[b],e=a.ja*c.g.x,f=a.ja*c.g.y;4<e*e+f*f&&(ye(c.g),c.g.x*=2*a.of,c.g.y*=2*a.of);e=a.ja*c.k;e*e>ee&&(c.k=0>c.k?-de*a.of:de*a.of);c.b.Rb.m(c.b.h);c.b.sd=c.b.r;c.b.h.x+=a.ja*c.g.x;c.b.h.y+=a.ja*c.g.y;c.b.r+=a.ja*c.k;X(c)}for(b=0;b<a.Tj;++b){e=d.Zc(0.75);f=l;for(c=
0;c<this.fc.length;++c)var g=this.fc[c].Zc(0.2),f=f&&g;if(e&&f)break}cg(this,d.Je)};function cg(a,b){if(a.Xv!=m)for(var c=0;c<a.sf.length;++c)for(var d=b[c],e=new Sf,f=0;f<d.Id;++f)e.hw[f]=d.mb[f].lb,e.Kw[f]=d.mb[f].Xe}z.ph=function(a){this.Ie.push(a);0!=a.O&&(this.Zf.push(a),2==a.O&&this.vl.push(a))};z.qh=function(a){this.sf.push(a)};function dg(a,b,c,d,e){this.ja=a;var f=0;0<a&&(f=1/a);this.of=f;this.Ab=b;this.Tj=c;this.fk=d;this.Kf=e}
function eg(a,b){this.zc=new Uf(this);this.ae=new fg;this.Yn=this.yr=p;this.qy=m;this.Qb=new If;this.Sb=new rf;this.Xa=m;this.Ag=new sf;this.wl=0;this.Nv=this.bw=l;this.On=b;this.wr=a;this.xr=0;this.Sv=gg(this,new Hf)}var hg=1-100*Number.MIN_VALUE;function gg(a,b){var c=new pf(b,a);a.Qb.ph(c);return c}
function ig(a,b){for(var c=b.Xa;c;){var d=c,c=c.next;jg(a,d.qf)}for(c=b.Ag.na();c;c=c.next)c.lq.Ui(b);for(c=b.Sb.na(Xf);c;c=c.next)a.zc.mc(c.Hb);for(c=b.Eg.na();c;c=c.next){var d=b,e=c.wd,f=d.Eg,g=e.vc,h=f.Qk[g];if(h!=m){var i=h.Jd,h=h.next;i==m?f.Zm=h:i.Td(h);h==m?f.$m=i:h.Ud(i);delete f.Qk[g];f.Eq--}for(f=d.Sb.na(Xf);f;f=f.next)(e==f.Hb.ub||e==f.Hb.jb)&&d.gc.zc.mc(f.Hb);d.Nn&&e.Ji(d.gc.zc.ei);e.mc();e.Pn=m;xf(d)}b.mc();a.Qb.Ui(b)}
function kg(a,b){var c=b.me();c.hi=m;if(c.Yf=a.Xa)a.Xa.hi=c;a.Xa=c;a.wl++;c.Ac.qf=c;c.Ac.md=c.F;c.Ac.prev=m;if(c.Ac.next=c.D.Xa)c.D.Xa.prev=c.Ac;c.D.Xa=c.Ac;c.Bc.qf=c;c.Bc.md=c.D;c.Bc.prev=m;if(c.Bc.next=c.F.Xa)c.F.Xa.prev=c.Bc;c.F.Xa=c.Bc;var d=b.v,e=b.w;if(!b.Em)for(var f=e.Sb.na(Xf);f;f=f.next)lg(f.Hb,e)==d&&(f.Hb.kj=l);return c}
function jg(a,b){var c=b.sr;b.hi&&(b.hi.Yf=b.Yf);b.Yf&&(b.Yf.hi=b.hi);b==a.Xa&&(a.Xa=b.Yf);var d=b.D,e=b.F;W(d,l);W(e,l);b.Ac.prev&&(b.Ac.prev.next=b.Ac.next);b.Ac.next&&(b.Ac.next.prev=b.Ac.prev);b.Ac==d.Xa&&(d.Xa=b.Ac.next);b.Ac.prev=m;b.Ac.next=m;b.Bc.prev&&(b.Bc.prev.next=b.Bc.next);b.Bc.next&&(b.Bc.next.prev=b.Bc.prev);b.Bc==e.Xa&&(e.Xa=b.Bc.next);b.Bc.prev=m;b.Bc.next=m;a.wl--;if(!c)for(c=e.Sb.na(Xf);c;c=c.next)lg(c.Hb,e)==d&&(c.Hb.kj=l)}
eg.prototype.Gi=function(a){if(a.gc!==m&&a.gc!=this)throw Error("Controller can only be a member of one world");this.Ag.Gi(a);a.gc=this;return a};eg.prototype.Vi=function(a){this.Ag.Vi(a);a.gc=m;a.hk()};
eg.prototype.Of=function(a,b,c){this.Yn&&(Af(this.zc),this.Yn=p);this.yr=l;a=new dg(a,this.xr*a,b,c,this.bw);b=this.zc;for(c=b.gc.Sb.na(Xf);c;c=c.next){var d=c.Hb,e=d.ub,f=d.jb,g=e.wa(),h=f.wa();if(!(g.ec==p&&h.ec==p)){if(d.kj){if(h.yh(g)==p){b.mc(d);continue}if(b.Qn.yh(e,f)==p){b.mc(d);continue}d.kj=p}b.ei.Wi(e.Wg,f.Wg)==p?b.mc(d):mg(d,b.Dj)}}0<a.ja&&(this.tg(a),this.Nv&&this.qm(a),this.xr=a.of);this.yr=p};var ng=[];
eg.prototype.tg=function(a){for(var b=this.Ag.na();b;b=b.next)b.lq.Of(a);for(var b=new bg(this.zc.Dj,this.ae),c=this.Qb.na(Jf);c;c=c.next)c.body.Pa=p;for(var d=this.Sb.na(Xf);d;d=d.next)d.Hb.Pa=p;for(c=this.Xa;c;c=c.Yf)c.Pa=p;for(c=this.Qb.na(Mf);c;c=c.next)if(d=c.body,!d.Pa){b.hk();ng.length=0;var e=ng;e.push(d);for(d.Pa=l;0<e.length;){var f=e.pop();b.ph(f);f.ec||W(f,l);if(0!=f.O){for(d=f.Sb.na(og);d;d=d.next){var g=d.Hb;g.Pa||(b.qh(g),g.Pa=l,g=lg(g,f),g.Pa||(e.push(g),g.Pa=l))}for(d=f.Xa;d;d=d.next)!d.qf.Pa&&
d.md.vh()&&(b.fc.push(d.qf),d.qf.Pa=l,d.md.Pa||(e.push(d.md),d.md.Pa=l))}}b.tg(a,this.wr,this.On)}for(c=this.Qb.na(Mf);c;c=c.next)Ff(c.body);Af(this.zc)};
eg.prototype.qm=function(a){var b,c,d=new bg(this.zc.Dj,this.ae);for(c=this.Qb.na(Jf);c;c=c.next){var e=c.body;e.Pa=p;e.b.uc=0}for(var f=this.Sb.na(Xf);f;f=f.next)f.Hb.Pa=p,f.Hb.li=m;for(c=this.Xa;c;c=c.Yf)c.Pa=p;for(;;){b=m;c=1;for(e=this.Sb.na(pg);e;e=e.next){var f=e.Hb,g=f.ub.wa(),h=f.jb.wa();if(2==g.O&&g.ec||2==h.O&&h.ec){h=1;if(f.li!=m)h=f.li;else{if(f.Bi)h=1;else{var i=f.ub.wa(),j=f.jb.wa(),g=i.b.uc;i.b.uc<j.b.uc?(g=j.b.uc,i.b.Mf(g)):j.b.uc<i.b.uc&&(g=i.b.uc,j.b.Mf(g));h=f;i=i.b;j=j.b;qg.Cf.q(h.ub.Cb);
qg.Df.q(h.jb.Cb);qg.ls=i;qg.ms=j;qg.Nw=0.005;var k=qg;rg++;var h=k.Cf,j=k.Df,i=k.ls,n=k.ms,r=h.va+j.va,k=k.Nw,s=0,t=0,u=0;sg.count=0;for(tg.As=p;;){i.Mc(ug,s);n.Mc(vg,s);tg.Cf=h;tg.Df=j;tg.Xl=ug;tg.Yl=vg;Re(wg,sg,tg);if(0>=wg.hf){s=1;break}xg.Gb(sg,h,ug,j,vg);var w=xg.oe(ug,vg);if(0>=w){s=1;break}0==t&&(u=w>r?Math.max(r-k,0.75*r):Math.max(w-k,0.02*r));if(w-u<0.5*k){if(0==t){s=1;break}break}var y=s,D=s,C=1;i.Mc(ug,C);n.Mc(vg,C);var A=xg.oe(ug,vg);if(A>=u){s=1;break}for(var E=0;;){var B=0,B=E&1?D+(u-
w)*(C-D)/(A-w):0.5*(D+C);i.Mc(ug,B);n.Mc(vg,B);var H=xg.oe(ug,vg);if(Math.abs(H-u)<0.025*k){y=B;break}H>u?(D=B,w=H):(C=B,A=H);E++;yg++;if(50==E)break}zg=Math.max(zg,E);if(y<(1+100*Number.MIN_VALUE)*s)break;s=y;t++;Ag++;if(1E3==t)break}Bg=Math.max(Bg,t);h=s;0<h&&1>h&&(h=(1-h)*g+h)}f.li=h}Number.MIN_VALUE<h&&h<c&&(b=f,c=h)}}if(b===m||hg<c)break;f=b.ub.wa();e=b.jb.wa();Cg.q(f.b);Dg.q(e.b);f.Mf(c);e.Mf(c);mg(b,this.zc.Dj);b.li=m;if(b.Nl||!b.enabled)f.b.q(Cg),e.b.q(Dg),X(f),X(e);else if(b.Bi){2!=f.O&&
(f=e);d.hk();ng.length=0;b=ng;b.push(f);for(f.Pa=l;0<b.length;)if(e=b.pop(),d.ph(e),e.ec||W(e,l),2==e.O){for(f=e.Sb.na(og);f&&32!=d.Mv;f=f.next)g=f.Hb,g.Pa||(d.qh(g),g.Pa=l,g=lg(g,e),g.Pa||(0!=g.O&&(g.Mf(c),W(g,l),b.push(g)),g.Pa=l));for(e=e.Xa;e;e=e.next)32!=d.wl&&(!e.qf.Pa&&e.md.vh())&&(d.fc.push(e.qf),e.qf.Pa=l,e.md.Pa||(0!=e.md.O&&(e.md.Mf(c),W(e.md,l),b.push(e.md)),e.md.Pa=l))}d.qm(new dg((1-c)*a.ja,0,a.fk,a.Tj,p));for(c=0;c<d.Ie.length;c++)if(d.Ie[c].Pa=p,d.Ie[c].ec&&2==d.Ie[c].O){Ff(d.Ie[c]);
for(f=d.Ie[c].Sb.na(Xf);f;f=f.next)f.Hb.li=m}for(c=0;c<d.Mv;c++)d.sf[c].Pa=p,d.sf[c].li=m;for(c=0;c<d.wl;c++)d.fc[c].Pa=p;Af(this.zc)}}};function Y(a,b){this.vc="Contact"+Eg++;this.kd=new ef;this.Ij=new ef;this.Bi=p;var c=a.wa(),d=b.wa();this.Fm=2!=c.O||c.fi||2!=d.O||d.fi;this.Nl=a.wh()||b.wh();this.kj=p;this.ub=a;this.jb=b;this.enabled=l;this.vk=c.Sb;this.wk=d.Sb;this.gm=d.gc.Sb;Fg(this)}
Y.prototype.Ob=function(a,b){this.kd.Ob();this.Ij.Ob();this.Bi=p;var c=a.wa(),d=b.wa();this.Fm=2!=c.O||c.fi||2!=d.O||d.fi;this.Nl=a.wh()||b.wh();this.kj=p;this.ub=a;this.jb=b;this.enabled=l;this.vk=c.Sb;this.wk=d.Sb;this.gm=d.gc.Sb;Fg(this)};function Fg(a){a.vk.qh(a);a.wk.qh(a);a.gm.qh(a);Gg(a)}function Gg(a){var b=p,c=p;!a.wh()&&a.enabled&&(a.Bi&&(b=l),a.Fm&&(c=l));Hg(a.vk,a,b,c);Hg(a.wk,a,b,c);Hg(a.gm,a,b,c)}Y.prototype.wh=v("Nl");function lg(a,b){var c=a.ub.wa();return c!=b?c:a.jb.wa()}
function mg(a,b){var c=a.Ij;a.Ij=a.kd;a.kd=c;a.enabled=l;var d=p,c=a.Bi,e=a.ub.wa(),f=a.jb.wa(),g=a.ub.Sg.Wi(a.jb.Sg);if(a.Nl){if(g){var d=a.ub.Cb,e=e.Mc(),g=a.jb.Cb,h=f.Mc(),f=new Ue;f.Cf=new We;f.Cf.q(d);f.Df=new We;f.Df.q(g);f.Xl=e;f.Yl=h;f.As=l;e=new mf;e.count=0;d=new Ve;Re(d,e,f);d=d.hf<10*Number.MIN_VALUE}a.kd.kb=0}else{a.Fm=2!=e.O||e.fi||2!=f.O||f.fi?l:p;if(g){a.oe();d=0<a.kd.kb;for(g=0;g<a.kd.kb;g++){h=a.kd.U[g];h.Vg=0;for(var i=h.Zg=0;i<a.Ij.kb;i++){var j=a.Ij.U[i];if(j.Fd.nb==h.Fd.nb){h.Vg=
j.Vg;h.Zg=j.Zg;break}}}}else a.kd.kb=0;d!=c&&(W(e,l),W(f,l))}a.Bi=d;d!=c&&Gg(a);!c&&d&&b.up(a)}Y.prototype.oe=q();var qg=new nf,Eg=0;function Ig(a,b){Y.call(this,a,b)}O(Ig,Y);Ig.prototype.Ob=function(a,b){Y.prototype.Ob.call(this,a,b)};
Ig.prototype.oe=function(){var a=this.kd,b=this.ub.Cb,c=this.ub.wa().j,d=this.jb.Cb,e=this.jb.wa().j;a.kb=0;var f=e.position.x+(e.f.c.x*d.Fa.x+e.f.d.x*d.Fa.y)-(c.position.x+(c.f.c.x*b.Fa.x+c.f.d.x*b.Fa.y)),c=e.position.y+(e.f.c.y*d.Fa.x+e.f.d.y*d.Fa.y)-(c.position.y+(c.f.c.y*b.Fa.x+c.f.d.y*b.Fa.y)),e=b.va+d.va;f*f+c*c>e*e||(a.O=1,a.fa.m(b.Fa),a.Ub.W(),a.kb=1,a.U[0].fa.m(d.Fa),He(a.U[0].Fd,0))};
function Jg(){this.He=P(0,0);this.ib=P(0,0);this.rc=P(0,0);this.Bf=new le;this.Nc=new le;this.mb=[];for(var a=0;2>a;a++)this.mb[a]=new Kg}function Kg(){this.ib=P(0,0);this.Za=P(0,0);this.$a=P(0,0)}Kg.prototype.Ob=function(){this.ib.q(0,0);this.Za.q(0,0);this.$a.q(0,0)};
function Wf(){this.ce={};this.uf={};Lg(this,Ig,"b2CircleShape","b2CircleShape");Lg(this,Mg,"b2PolygonShape","b2CircleShape");Lg(this,Ng,"b2PolygonShape","b2PolygonShape");Lg(this,Og,"b2EdgeShape","b2CircleShape");Lg(this,Pg,"b2PolygonShape","b2EdgeShape")}function Lg(a,b,c,d){a.uf[c]=a.uf[c]||{};a.uf[c][d]=a.uf[c][d]||[];a.ce[c]=a.ce[c]||{};a.ce[c][d]=new Qg;a.ce[c][d].qq=b;a.ce[c][d].Vr=l;c!=d&&(a.ce[d]=a.ce[d]||{},a.ce[d][c]=new Qg,a.ce[d][c].qq=b,a.ce[d][c].Vr=p)}
Wf.prototype.me=function(a,b){var c=a.Cb.sg(),d=b.Cb.sg(),e=this.ce[c][d],f=e.qq;return f!=m?e.Vr?0<this.uf[c][d].length?(c=this.uf[c][d].pop(),c.Ob(a,b),c):new f(a,b):0<this.uf[d][c].length?(c=this.uf[d][c].pop(),c.Ob(b,a),c):new f(b,a):m};Wf.prototype.mc=function(a){this.uf[a.ub.Cb.sg()][a.jb.Cb.sg()].push(a)};function rf(){this.Dk=[];for(var a=0;a<=Xf;a++)this.Dk[a]=m;this.Ek=[];for(a=0;a<=Xf;a++)this.Ek[a]=m;this.zg={};this.kq=0}rf.prototype.na=function(a){return this.Dk[a]};
rf.prototype.qh=function(a){var b=a.vc;if(this.zg[b]==m){this.zg[b]=[];for(var c=0;c<=Xf;c++)this.zg[b][c]=m;this.ne(a,b,Xf);this.kq++}};function Hg(a,b,c,d){c?a.ne(b,b.vc,og):a.pe(b.vc,og);d?a.ne(b,b.vc,pg):a.pe(b.vc,pg)}function Yf(a,b){var c=b.vc;if(a.zg[c]!=m){for(var d=0;d<=Xf;d++)a.pe(c,d);delete a.zg[c];a.kq--}}rf.prototype.pe=function(a,b){var c=this.zg[a];if(c!=m){var d=c[b];if(d!=m){c[b]=m;var c=d.Jd,e=d.next;c==m?this.Dk[b]=e:c.Td(e);e==m?this.Ek[b]=c:e.Ud(c);Rg.push(d)}}};
rf.prototype.ne=function(a,b,c){b=this.zg[b];if(b[c]==m){if(0<Rg.length){var d=Rg.pop();d.next=m;d.Jd=m;d.Hb=a;a=d}else a=new Sg(a);b[c]=a;a=this.Ek[c];a!=m?(a.Td(b[c]),b[c].Ud(a)):this.Dk[c]=b[c];this.Ek[c]=b[c]}};var og=0,pg=1,Xf=2;function Sg(a){this.Hb=a;this.Jd=this.next=m}var Rg=[];Sg.prototype.Td=ba("next");Sg.prototype.Ud=ba("Jd");function Qg(){this.yy=m;this.zy=0}function Tg(){this.ba=P(0,0);this.Bl=[];this.U=[];for(var a=0;2>a;a++)this.U[a]=P(0,0)}
Tg.prototype.Gb=function(a){switch(a.type){case 1:var b=a.v.j.f,c=a.ib,d=a.v.j.position.x+(b.c.x*c.x+b.d.x*c.y),e=a.v.j.position.y+(b.c.y*c.x+b.d.y*c.y),b=a.w.j.f,c=a.mb[0].ib,f=a.w.j.position.x+(b.c.x*c.x+b.d.x*c.y),b=a.w.j.position.y+(b.c.y*c.x+b.d.y*c.y),c=f-d,g=b-e,h=c*c+g*g;h>ge?(h=Math.sqrt(h),this.ba.x=c/h,this.ba.y=g/h):(this.ba.x=1,this.ba.y=0);this.U[0].x=0.5*(d+f);this.U[0].y=0.5*(e+b);this.Bl[0]=c*this.ba.x+g*this.ba.y-a.Bo;break;case 2:this.ba.x=a.v.j.f.c.x*a.He.x+a.v.j.f.d.x*a.He.y;
this.ba.y=a.v.j.f.c.y*a.He.x+a.v.j.f.d.y*a.He.y;d=a.v.j.position.x+(a.v.j.f.c.x*a.ib.x+a.v.j.f.d.x*a.ib.y);e=a.v.j.position.y+(a.v.j.f.c.y*a.ib.x+a.v.j.f.d.y*a.ib.y);for(f=0;f<a.Id;f++)b=a.w.j.position.x+(a.w.j.f.c.x*a.mb[f].ib.x+a.w.j.f.d.x*a.mb[f].ib.y),c=a.w.j.position.y+(a.w.j.f.c.y*a.mb[f].ib.x+a.w.j.f.d.y*a.mb[f].ib.y),this.Bl[f]=(b-d)*this.ba.x+(c-e)*this.ba.y-a.Bo,this.U[f].x=b,this.U[f].y=c;break;case 4:this.ba.x=a.w.j.f.c.x*a.He.x+a.w.j.f.d.x*a.He.y;this.ba.y=a.w.j.f.c.y*a.He.x+a.w.j.f.d.y*
a.He.y;d=a.w.j.position.x+(a.w.j.f.c.x*a.ib.x+a.w.j.f.d.x*a.ib.y);e=a.w.j.position.y+(a.w.j.f.c.y*a.ib.x+a.w.j.f.d.y*a.ib.y);for(f=0;f<a.Id;f++)b=a.v.j.position.x+(a.v.j.f.c.x*a.mb[f].ib.x+a.v.j.f.d.x*a.mb[f].ib.y),c=a.v.j.position.y+(a.v.j.f.c.y*a.mb[f].ib.x+a.v.j.f.d.y*a.mb[f].ib.y),this.Bl[f]=(b-d)*this.ba.x+(c-e)*this.ba.y-a.Bo,this.U[f].q(b,c);this.ba.x*=-1;this.ba.y*=-1}};function fg(){this.Je=[]}z=fg.prototype;
z.Gb=function(a,b,c){for(this.Cj=c;this.Je.length<this.Cj;)this.Je[this.Je.length]=new Jg;for(a=0;a<c;a++){var d=b[a],e=d.ub,f=d.jb,g=e.Cb.va,h=f.Cb.va,i=e.wa(),j=f.wa(),k=d.kd,n=Math.sqrt(e.vr*f.vr),r=e.Al>f.Al?e.Al:f.Al,s=i.g.x,t=i.g.y,u=j.g.x,w=j.g.y,y=i.k,D=j.k;Ug.Gb(k,i.j,g,j.j,h);f=Ug.ba.x;d=Ug.ba.y;e=this.Je[a];e.v=i;e.w=j;e.cw=k;e.rc.x=f;e.rc.y=d;e.Id=k.kb;e.Jh=n;e.ti=r;e.He.x=k.Ub.x;e.He.y=k.Ub.y;e.ib.x=k.fa.x;e.ib.y=k.fa.y;e.Bo=g+h;e.type=k.O;for(g=0;g<e.Id;++g){n=k.U[g];h=e.mb[g];h.lb=
n.Vg;h.Xe=n.Zg;h.ib.m(n.fa);var n=h.Za.x=Ug.U[g].x-i.b.h.x,r=h.Za.y=Ug.U[g].y-i.b.h.y,C=h.$a.x=Ug.U[g].x-j.b.h.x,A=h.$a.y=Ug.U[g].y-j.b.h.y,E=n*d-r*f,B=C*d-A*f,E=E*E,B=B*B;h.Bf=1/(i.n+j.n+i.B*E+j.B*B);var H=i.A*i.n+j.A*j.n,H=H+(i.A*i.B*E+j.A*j.B*B);h.mu=1/H;B=d;H=-f;E=n*H-r*B;B=C*H-A*B;E*=E;B*=B;h.Lw=1/(i.n+j.n+i.B*E+j.B*B);h.ek=0;n=e.rc.x*(u+-D*A-s- -y*r)+e.rc.y*(w+D*C-t-y*n);-1>n&&(h.ek+=-e.ti*n)}2==e.Id&&(w=e.mb[0],u=e.mb[1],k=i.n,i=i.B,s=j.n,j=j.B,t=w.Za.x*d-w.Za.y*f,w=w.$a.x*d-w.$a.y*f,y=u.Za.x*
d-u.Za.y*f,u=u.$a.x*d-u.$a.y*f,f=k+s+i*t*t+j*w*w,d=k+s+i*y*y+j*u*u,j=k+s+i*t*y+j*w*u,f*f<100*(f*d-j*j)?(e.Nc.c.q(f,j),e.Nc.d.q(j,d),ne(e.Nc,e.Bf)):e.Id=1)}};
z.rd=function(a){for(var b=0;b<this.Cj;++b){var c=this.Je[b],d=c.v,e=c.w,f=d.n,g=d.B,h=e.n,i=e.B,j=c.rc.x,k=c.rc.y,n=k,r=-j,s=0,t=0;if(a.Kf){t=c.Id;for(s=0;s<t;++s){var u=c.mb[s];u.lb*=a.Ab;u.Xe*=a.Ab;var w=u.lb*j+u.Xe*n,y=u.lb*k+u.Xe*r;d.k-=g*(u.Za.x*y-u.Za.y*w);d.g.x-=f*w;d.g.y-=f*y;e.k+=i*(u.$a.x*y-u.$a.y*w);e.g.x+=h*w;e.g.y+=h*y}}else{t=c.Id;for(s=0;s<t;++s)d=c.mb[s],d.lb=0,d.Xe=0}}};
z.$c=function(){for(var a=0;a<this.Cj;a++){for(var b=this.Je[a],c=b.rc.x,d=b.rc.y,e=0;e<b.Id;e++){var f=b,g=b.mb[e],h=f.rc.y,i=-f.rc.x,j=f.Jh*g.lb,j=T(g.Xe-g.Lw*((f.w.g.x-f.w.k*g.$a.y-f.v.g.x+f.v.k*g.Za.y)*h+(f.w.g.y+f.w.k*g.$a.x-f.v.g.y-f.v.k*g.Za.x)*i),-j,j),k=j-g.Xe,h=k*h,i=k*i;f.v.g.x-=f.v.n*h;f.v.g.y-=f.v.n*i;f.v.k-=f.v.B*(g.Za.x*i-g.Za.y*h);f.w.g.x+=f.w.n*h;f.w.g.y+=f.w.n*i;f.w.k+=f.w.B*(g.$a.x*i-g.$a.y*h);g.Xe=j}if(1==b.Id)e=b.mb[0],f=e.lb-e.Bf*((b.w.g.x-b.w.k*e.$a.y-b.v.g.x+b.v.k*e.Za.y)*
c+(b.w.g.y+b.w.k*e.$a.x-b.v.g.y-b.v.k*e.Za.x)*d-e.ek),f=0<f?f:0,g=f-e.lb,c*=g,d*=g,b.v.g.x-=b.v.n*c,b.v.g.y-=b.v.n*d,b.v.k-=b.v.B*(e.Za.x*d-e.Za.y*c),b.w.g.x+=b.w.n*c,b.w.g.y+=b.w.n*d,b.w.k+=b.w.B*(e.$a.x*d-e.$a.y*c),e.lb=f;else{e=b.mb[0];f=b.mb[1];g=e.lb;i=f.lb;j=(b.w.g.x-b.w.k*e.$a.y-b.v.g.x+b.v.k*e.Za.y)*c+(b.w.g.y+b.w.k*e.$a.x-b.v.g.y-b.v.k*e.Za.x)*d-e.ek;d=(b.w.g.x-b.w.k*f.$a.y-b.v.g.x+b.v.k*f.Za.y)*c+(b.w.g.y+b.w.k*f.$a.x-b.v.g.y-b.v.k*f.Za.x)*d-f.ek;j-=b.Nc.c.x*g+b.Nc.d.x*i;for(d-=b.Nc.c.y*
g+b.Nc.d.y*i;;){c=-(b.Bf.c.x*j+b.Bf.d.x*d);if(0<=c&&(h=-(b.Bf.c.y*j+b.Bf.d.y*d),0<=h)){Vg(b,e,f,c-g,h-i);e.lb=c;f.lb=h;break}c=-e.Bf*j;if(0<=c&&0<=b.Nc.c.y*c+d){Vg(b,e,f,c-g,-i);e.lb=c;f.lb=0;break}c=-f.Bf*d;if(0<=c&&0<=b.Nc.d.x*c+j){Vg(b,e,f,-g,c-i);e.lb=0;f.lb=c;break}if(0<=j&&0<=d){Vg(b,e,f,-g,-i);e.lb=0;f.lb=0;break}break}}}};
function Vg(a,b,c,d,e){var f=d*a.rc.x,d=d*a.rc.y,g=e*a.rc.x,e=e*a.rc.y;a.v.g.x-=a.v.n*(f+g);a.v.g.y-=a.v.n*(d+e);a.v.k-=a.v.B*(b.Za.x*d-b.Za.y*f+c.Za.x*e-c.Za.y*g);a.w.g.x+=a.w.n*(f+g);a.w.g.y+=a.w.n*(d+e);a.w.k+=a.w.B*(b.$a.x*d-b.$a.y*f+c.$a.x*e-c.$a.y*g);b.lb=0;c.lb=0}z.jm=function(){for(var a=0;a<this.Cj;++a)for(var b=this.Je[a],c=b.cw,d=0;d<b.Id;++d){var e=c.U[d],f=b.mb[d];e.Vg=f.lb;e.Zg=f.Xe}};
z.Zc=function(a){a===aa&&(a=0);for(var b=0,c=0;c<this.Cj;c++){var d=this.Je[c],e=d.v,f=d.w,g=e.A*e.n,h=e.A*e.B,i=f.A*f.n,j=f.A*f.B;Wg.Gb(d);for(var k=Wg.ba,n=0;n<d.Id;n++){var r=d.mb[n],s=Wg.U[n],t=Wg.Bl[n],u=s.x-e.b.h.x,w=s.y-e.b.h.y,y=s.x-f.b.h.x,s=s.y-f.b.h.y,b=b<t?b:t,t=-r.mu*T(a*(t+0.005),-0.2,0),r=t*k.x,t=t*k.y;e.b.h.x-=g*r;e.b.h.y-=g*t;e.b.r-=h*(u*t-w*r);X(e);f.b.h.x+=i*r;f.b.h.y+=i*t;f.b.r+=j*(y*t-s*r);X(f)}}return-0.0075<b};function Og(a,b){Y.call(this,a,b)}O(Og,Y);
Og.prototype.Ob=function(a,b){Y.prototype.Ob.call(this,a,b)};Og.prototype.oe=q();function Mg(a,b){Y.call(this,a,b)}O(Mg,Y);Mg.prototype.Ob=function(a,b){Y.prototype.Ob.call(this,a,b)};
Mg.prototype.oe=function(){a:{var a=this.kd,b=this.ub.Cb,c=this.ub.wa().j,d=this.jb.Cb,e=this.jb.wa().j;a.kb=0;for(var f=e.position.x+(e.f.c.x*d.Fa.x+e.f.d.x*d.Fa.y)-c.position.x,g=e.position.y+(e.f.c.y*d.Fa.x+e.f.d.y*d.Fa.y)-c.position.y,e=f*c.f.c.x+g*c.f.c.y,c=f*c.f.d.x+g*c.f.d.y,f=0,g=-Number.MAX_VALUE,h=b.va+d.va,i=0;i<b.za;++i){var j=b.Ma[i].x*(e-b.u[i].x)+b.Ma[i].y*(c-b.u[i].y);if(j>h)break a;j>g&&(g=j,f=i)}j=f+1;j>=b.za&&(j=0);var i=b.u[f],k=b.u[j];g<Number.MIN_VALUE?(a.kb=1,a.O=2,a.Ub.m(b.Ma[f]),
a.fa.x=0.5*(i.x+k.x),a.fa.y=0.5*(i.y+k.y),a.U[0].fa.m(d.Fa),He(a.U[0].Fd,0)):0>=(e-i.x)*(k.x-i.x)+(c-i.y)*(k.y-i.y)?(e-i.x)*(e-i.x)+(c-i.y)*(c-i.y)>h*h||(a.kb=1,a.O=2,a.Ub.x=e-i.x,a.Ub.y=c-i.y,ye(a.Ub),a.fa.m(i),a.U[0].fa.m(d.Fa),He(a.U[0].Fd,0)):0>=(e-k.x)*(i.x-k.x)+(c-k.y)*(i.y-k.y)?(e-k.x)*(e-k.x)+(c-k.y)*(c-k.y)>h*h||(a.kb=1,a.O=2,a.Ub.x=e-k.x,a.Ub.y=c-k.y,ye(a.Ub),a.fa.m(k),a.U[0].fa.m(d.Fa),He(a.U[0].Fd,0)):(j=0.5*(i.x+k.x),i=0.5*(i.y+k.y),g=(e-j)*b.Ma[f].x+(c-i)*b.Ma[f].y,g>h||(a.kb=1,a.O=
2,a.Ub.x=b.Ma[f].x,a.Ub.y=b.Ma[f].y,ye(a.Ub),a.fa.q(j,i),a.U[0].fa.m(d.Fa),He(a.U[0].Fd,0)))}};function Pg(a,b){Y.call(this,a,b)}O(Pg,Y);Pg.prototype.Ob=function(a,b){Y.prototype.Ob.call(this,a,b)};Pg.prototype.oe=q();function Ng(a,b){Y.call(this,a,b)}O(Ng,Y);Ng.prototype.Ob=function(a,b){Y.prototype.Ob.call(this,a,b)};
Ng.prototype.oe=function(){var a=this.kd,b=this.ub.Cb,c=this.ub.wa().j,d=this.jb.Cb,e=this.jb.wa().j;a.kb=0;var f=b.va+d.va,g=Qe(b,c,d,e),h=g.aq;if(!(g.Ol>f)){var i=Qe(d,e,b,c);if(!(i.Ol>f)){var j=b,k=d,n=c,r=e,s=0;a.O=2;i.Ol>0.98*g.Ol+0.001&&(j=d,k=b,n=e,r=c,h=i.aq,a.O=4,s=1);b=h;c=k;d=r;k=Xg;b===aa&&(b=0);for(var g=n.f.c.x*j.Ma[b].x+n.f.d.x*j.Ma[b].y,i=n.f.c.y*j.Ma[b].x+n.f.d.y*j.Ma[b].y,e=d.f.c.x*g+d.f.c.y*i,i=d.f.d.x*g+d.f.d.y*i,g=e,e=0,t=Number.MAX_VALUE,u=0;u<c.za;u++){var w=g*c.Ma[u].x+i*c.Ma[u].y;
w<t&&(t=w,e=u)}g=e+1;g>=c.za&&(g=0);k[0].od.x=d.position.x+(d.f.c.x*c.u[e].x+d.f.d.x*c.u[e].y);k[0].od.y=d.position.y+(d.f.c.y*c.u[e].x+d.f.d.y*c.u[e].y);i=k[0].id;i.Zi=b;i.nb=i.nb&4294967040|i.Zi&255;i=k[0].id;i.Xi=e;i.nb=i.nb&4294902015|i.Xi<<8&65280;e=k[0].id;e.Yi=0;e.nb=e.nb&4278255615|e.Yi<<16&16711680;k[1].od.x=d.position.x+(d.f.c.x*c.u[g].x+d.f.d.x*c.u[g].y);k[1].od.y=d.position.y+(d.f.c.y*c.u[g].x+d.f.d.y*c.u[g].y);c=k[1].id;c.Zi=b;c.nb=c.nb&4294967040|c.Zi&255;b=k[1].id;b.Xi=g;b.nb=b.nb&
4294902015|b.Xi<<8&65280;b=k[1].id;b.Yi=1;b.nb=b.nb&4278255615|b.Yi<<16&16711680;b=j.u[h];h=h+1<j.za?j.u[h+1]:j.u[0];Yg.q(h.x-b.x,h.y-b.y);ye(Yg);Zg.x=Yg.y;Zg.y=-Yg.x;$g.q(0.5*(b.x+h.x),0.5*(b.y+h.y));ah.x=n.f.c.x*Yg.x+n.f.d.x*Yg.y;ah.y=n.f.c.y*Yg.x+n.f.d.y*Yg.y;bh.x=-ah.x;bh.y=-ah.y;ch.x=ah.y;ch.y=-ah.x;dh.x=n.position.x+(n.f.c.x*b.x+n.f.d.x*b.y);dh.y=n.position.y+(n.f.c.y*b.x+n.f.d.y*b.y);eh.x=n.position.x+(n.f.c.x*h.x+n.f.d.x*h.y);eh.y=n.position.y+(n.f.c.y*h.x+n.f.d.y*h.y);if(!(2>Oe(fh,Xg,bh,
-ah.x*dh.x-ah.y*dh.y+f))&&!(2>Oe(gh,fh,ah,ah.x*eh.x+ah.y*eh.y+f))){a.Ub.m(Zg);a.fa.m($g);n=ch.x*dh.x+ch.y*dh.y;for(j=h=0;2>j;++j)ch.x*gh[j].od.x+ch.y*gh[j].od.y-n<=f&&(b=gh[j].od.x-r.position.x,k=gh[j].od.y-r.position.y,a.U[h].fa.x=b*r.f.c.x+k*r.f.c.y,a.U[h].fa.y=b*r.f.d.x+k*r.f.d.y,a.U[h].Fd.q(gh[j].id),b=a.U[h].Fd,b.Pp=s,b.nb=b.nb&16777215|b.Pp<<24&4278190080,h++);a.kb=h}}}};function hh(){this.vc="Controller"+ih++;this.gc=m;this.Qb=new If}hh.prototype.Of=q();
hh.prototype.ph=function(a){this.Qb.ph(a);a.Gi(this)};hh.prototype.Ui=function(a){this.Qb.Ui(a);a.Vi(this)};hh.prototype.hk=function(){for(var a=this.Qb.na(Jf);a;a=a.next)this.Ui(a.body)};var ih=0;function jh(){hh.call(this);this.rc=P(0,-1);this.Gh=this.offset=0;this.Ds=P(0,0);this.Iv=2;this.Ft=1;this.Gy=p;this.Tw=l;this.Nq=m}O(jh,hh);
jh.prototype.Of=function(){this.Tw&&(this.Nq=this.gc.wr.Fb());for(var a=this.Qb.na(Nf);a;a=a.next){for(var b=a.body,c=P(0,0),d=P(0,0),e=0,f=0,g=b.Eg.na();g;g=g.next){var h=P(0,0),i=g.wd.Cb.jk(this.rc,this.offset,b.Mc(),h),e=e+i;c.x+=i*h.x;c.y+=i*h.y;var j=0,j=1,f=f+i*j;d.x+=i*h.x*j;d.y+=i*h.y*j}e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=f,d.y/=f,f=this.Nq.Nf(),f.Fc(this.Gh*e),b.$e(f,d),f=P(b.g.x-b.k*(c.y-b.b.h.y),b.g.y+b.k*(c.x-b.b.h.x)),f.Op(this.Ds),f.Fc(-this.Iv*e),b.$e(f,c),b.im(-b.Cd/b.A*e*b.k*
this.Ft),U(c),U(d))}};function kh(){hh.call(this);this.sp=P(0,0)}O(kh,hh);kh.prototype.Of=function(a){for(var a=P(this.sp.x*a.ja,this.sp.y*a.ja),b=this.Qb.na(Nf);b;b=b.next){var c=b.body,d=c.g;Bf(c,P(d.x+a.x,d.y+a.y))}U(a)};function lh(){hh.call(this);this.Js=P(0,0)}O(lh,hh);lh.prototype.Of=function(){for(var a=this.Qb.na(Nf);a;a=a.next){var b=a.body;b.$e(this.Js,b.b.h)}};function sf(){this.Hm=this.Gm=m;this.Fk={};this.mq=0}sf.prototype.na=v("Gm");
sf.prototype.Gi=function(a){var b=a.vc;if(this.Fk[b]==m){var a=new mh(a),c=this.Hm;c!=m?c.Td(a):this.Gm=a;a.Ud(c);this.Hm=a;this.Fk[b]=a;this.mq++}};sf.prototype.Vi=function(a){var a=a.vc,b=this.Fk[a];if(b!=m){var c=b.Jd,b=b.next;c==m?this.Gm=b:c.Td(b);b==m?this.Hm=c:b.Ud(c);delete this.Fk[a];this.mq--}};function mh(a){this.lq=a;this.Jd=this.next=m}mh.prototype.Td=ba("next");mh.prototype.Ud=ba("Jd");function nh(){hh.call(this);this.xp=1;this.yv=l}O(nh,hh);
nh.prototype.Of=function(){var a=m,b=m,c=0,d=m,e=m,f=0,g=0,h=0,f=m;if(this.yv)for(var i=this.Qb.na(Jf);i;i=i.next)for(var a=i.body,b=a.b.h,c=a.A,j=this.Qb.na(Jf);j;j=j.next){if(d=j.body,a.ec||d.ec)e=d.b.h,f=e.x-b.x,g=e.y-b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=P(f,g),f.Fc(this.xp/h/Math.sqrt(h)*c*d.A),a.ec&&a.$e(f,b),f.Fc(-1),d.ec&&d.$e(f,e),U(f))}else for(i=this.Qb.na(Jf);i;i=i.next){a=bodyNode.body;b=a.b.h;c=a.A;for(j=this.Qb.na(Jf);j;j=j.next)if(d=bodyNode.body,a.ec||d.ec)e=d.b.h,f=e.x-b.x,g=e.y-
b.y,h=f*f+g*g,h<Number.MIN_VALUE||(f=P(f,g),f.Fc(this.xp/h*c*d.A),a.ec&&a.$e(f,b),f.Fc(-1),d.ec&&d.$e(f,e),U(f))}};function oh(){hh.call(this);this.rt=new le;this.co=0}O(oh,hh);oh.prototype.Of=function(a){a=a.ja;if(!(a<=Number.MIN_VALUE)){a>this.co&&0<this.co&&(a=this.co);for(var b=this.Qb.na(Nf);b;b=b.next){var c=b.body,d;d=Q(this.rt,ke(c.j.f,c.g));d=Q(c.j.f,d);Bf(c,P(c.g.x+d.x*a,c.g.y+d.y*a))}}};
function Z(a){this.Ac=new ph;this.Bc=new ph;this.Me=P(0,0);this.Ne=P(0,0);this.O=a.type;this.Yf=this.hi=m;this.D=a.v;this.F=a.w;this.sr=a.Em}z=Z.prototype;z.vh=function(){return this.D.vh()&&this.F.vh()};z.rd=q();z.$c=q();z.jm=q();z.Zc=x(p);function qh(){this.type=0;this.w=this.v=m;this.Em=p}function ph(){}function rh(a){Z.call(this,a);this.M=P(0,0);this.N=P(0,0);this.Db=P(0,0);this.M.m(a.sb);this.N.m(a.tb);this.Tn=a.length;this.Sn=a.cn;this.Ov=a.Qm;this.rr=this.Ug=this.i=0}O(rh,Z);
rh.prototype.rd=function(a){var b,c=0,d=this.D,e=this.F;b=d.j.f;var f=this.M.x-d.b.s.x,g=this.M.y-d.b.s.y,c=b.c.x*f+b.d.x*g,g=b.c.y*f+b.d.y*g,f=c;b=e.j.f;var h=this.N.x-e.b.s.x,i=this.N.y-e.b.s.y,c=b.c.x*h+b.d.x*i,i=b.c.y*h+b.d.y*i,h=c;this.Db.x=e.b.h.x+h-d.b.h.x-f;this.Db.y=e.b.h.y+i-d.b.h.y-g;c=Math.sqrt(this.Db.x*this.Db.x+this.Db.y*this.Db.y);0.005<c?this.Db.Fc(1/c):this.Db.W();b=f*this.Db.y-g*this.Db.x;var j=h*this.Db.y-i*this.Db.x;b=d.n+d.B*b*b+e.n+e.B*j*j;this.A=0!=b?1/b:0;if(0<this.Sn){var c=
c-this.Tn,j=2*Math.PI*this.Sn,k=this.A*j*j;this.Ug=a.ja*(2*this.A*this.Ov*j+a.ja*k);this.Ug=0!=this.Ug?1/this.Ug:0;this.rr=c*a.ja*k*this.Ug;this.A=b+this.Ug;this.A=0!=this.A?1/this.A:0}a.Kf?(this.i*=a.Ab,a=this.i*this.Db.x,b=this.i*this.Db.y,d.g.x-=d.n*a,d.g.y-=d.n*b,d.k-=d.B*(f*b-g*a),e.g.x+=e.n*a,e.g.y+=e.n*b,e.k+=e.B*(h*b-i*a)):this.i=0};
rh.prototype.$c=function(){var a=this.M.x-this.D.b.s.x,b=this.M.y-this.D.b.s.y,c=this.D.j.f.c.x*a+this.D.j.f.d.x*b,b=this.D.j.f.c.y*a+this.D.j.f.d.y*b,a=c,d=this.N.x-this.F.b.s.x,e=this.N.y-this.F.b.s.y,c=this.F.j.f.c.x*d+this.F.j.f.d.x*e,e=this.F.j.f.c.y*d+this.F.j.f.d.y*e,d=c,f=-this.A*(this.Db.x*(this.F.g.x-this.F.k*e-(this.D.g.x-this.D.k*b))+this.Db.y*(this.F.g.y+this.F.k*d-(this.D.g.y+this.D.k*a))+this.rr+this.Ug*this.i);this.i+=f;c=f*this.Db.x;f*=this.Db.y;this.D.g.x-=this.D.n*c;this.D.g.y-=
this.D.n*f;this.D.k-=this.D.B*(a*f-b*c);this.F.g.x+=this.F.n*c;this.F.g.y+=this.F.n*f;this.F.k+=this.F.B*(d*f-e*c)};
rh.prototype.Zc=function(){if(0<this.Sn)return l;var a=this.M.x-this.D.b.s.x,b=this.M.y-this.D.b.s.y,c=this.D.j.f.c.x*a+this.D.j.f.d.x*b,b=this.D.j.f.c.y*a+this.D.j.f.d.y*b,a=c,d=this.N.x-this.F.b.s.x,e=this.N.y-this.F.b.s.y,c=this.F.j.f.c.x*d+this.F.j.f.d.x*e,e=this.F.j.f.c.y*d+this.F.j.f.d.y*e,d=c,f=this.F.b.h.x+d-this.D.b.h.x-a,g=this.F.b.h.y+e-this.D.b.h.y-b,h=Math.sqrt(f*f+g*g),c=T(h-this.Tn,-0.2,0.2),i=-this.A*c;this.Db.q(f/h,g/h);f=i*this.Db.x;i*=this.Db.y;this.D.b.h.x-=this.D.n*f;this.D.b.h.y-=
this.D.n*i;this.D.b.r-=this.D.B*(a*i-b*f);this.F.b.h.x+=this.F.n*f;this.F.b.h.y+=this.F.n*i;this.F.b.r+=this.F.B*(d*i-e*f);X(this.D);X(this.F);return 0.005>Math.abs(c)};function sh(){qh.call(this);this.sb=P(0,0);this.tb=P(0,0);this.type=3;this.length=1;this.Qm=this.cn=0}O(sh,qh);sh.prototype.Gb=function(a,b,c,d){this.v=a;this.w=b;this.sb.m(Df(this.v,c));this.tb.m(Df(this.w,d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Qm=this.cn=0};sh.prototype.me=function(){return new rh(this)};
function th(a){Z.call(this,a);this.gd=P(0,0);this.hd=P(0,0);this.Wn=new le;this.fd=P(0,0);this.gd.m(a.sb);this.hd.m(a.tb);this.Wn.W();this.Bj=0;this.fd.W();this.rf=0;this.Yv=a.dw;this.$v=a.fw}O(th,Z);
th.prototype.rd=function(a){var b,c=0,d=this.D,e=this.F;b=d.j.f;var f=this.gd.x-d.b.s.x,g=this.gd.y-d.b.s.y,c=b.c.x*f+b.d.x*g,g=b.c.y*f+b.d.y*g,f=c;b=e.j.f;var h=this.hd.x-e.b.s.x,i=this.hd.y-e.b.s.y,c=b.c.x*h+b.d.x*i,i=b.c.y*h+b.d.y*i,h=c;b=d.n;var c=e.n,j=d.B,k=e.B,n=new le;n.c.x=b+c;n.d.x=0;n.c.y=0;n.d.y=b+c;n.c.x+=j*g*g;n.d.x+=-j*f*g;n.c.y+=-j*f*g;n.d.y+=j*f*f;n.c.x+=k*i*i;n.d.x+=-k*h*i;n.c.y+=-k*h*i;n.d.y+=k*h*h;ne(n,this.Wn);this.Bj=j+k;0<this.Bj&&(this.Bj=1/this.Bj);a.Kf?(this.fd.x*=a.Ab,this.fd.y*=
a.Ab,this.rf*=a.Ab,a=this.fd,d.g.x-=b*a.x,d.g.y-=b*a.y,d.k-=j*(f*a.y-g*a.x+this.rf),e.g.x+=c*a.x,e.g.y+=c*a.y,e.k+=k*(h*a.y-i*a.x+this.rf)):(this.fd.W(),this.rf=0)};
th.prototype.$c=function(a){var b,c=0,d=this.D,e=this.F,f=d.g,g=d.k,h=e.g,i=e.k,j=d.n,k=e.n,n=d.B,r=e.B;b=d.j.f;var s=this.gd.x-d.b.s.x,t=this.gd.y-d.b.s.y,c=b.c.x*s+b.d.x*t,t=b.c.y*s+b.d.y*t,s=c;b=e.j.f;var u=this.hd.x-e.b.s.x,w=this.hd.y-e.b.s.y,c=b.c.x*u+b.d.x*w,w=b.c.y*u+b.d.y*w,u=c;b=0;var c=-this.Bj*(i-g),y=this.rf;b=a.ja*this.$v;this.rf=T(this.rf+c,-b,b);c=this.rf-y;g-=n*c;i+=r*c;b=Q(this.Wn,P(-(h.x-i*w-f.x+g*t),-(h.y+i*u-f.y-g*s)));c=this.fd.Fb();this.fd.Lf(b);b=a.ja*this.Yv;xe(this.fd)>b*
b&&(ye(this.fd),this.fd.Fc(b));b=S(this.fd,c);f.x-=j*b.x;f.y-=j*b.y;g-=n*(s*b.y-t*b.x);h.x+=k*b.x;h.y+=k*b.y;i+=r*(u*b.y-w*b.x);d.k=g;e.k=i};th.prototype.Zc=x(l);function uh(){qh.call(this);this.sb=P(0,0);this.tb=P(0,0);this.type=9;this.fw=this.dw=0}O(uh,qh);uh.prototype.Gb=function(a,b,c){this.v=a;this.w=b;this.sb.m(Df(this.v,c));this.tb.m(Df(this.w,c))};uh.prototype.me=function(){return new th(this)};
function vh(a){Z.call(this,a);this.vf=P(0,0);this.wf=P(0,0);this.M=P(0,0);this.N=P(0,0);this.Ua=new wh;var b=a.Rh.O,c=a.Sh.O;this.ji=this.Yg=this.ii=this.Xg=m;var d=0,e=0;this.Qv=a.Rh.D;this.D=a.Rh.F;1==b?(this.Xg=a.Rh,this.vf.m(this.Xg.M),this.M.m(this.Xg.N),d=xh(this.Xg)):(this.ii=a.Rh,this.vf.m(this.ii.M),this.M.m(this.ii.N),d=this.ii.Ni());this.Rv=a.Sh.D;this.F=a.Sh.F;1==c?(this.Yg=a.Sh,this.wf.m(this.Yg.M),this.N.m(this.Yg.N),e=xh(this.Yg)):(this.ji=a.Sh,this.wf.m(this.ji.M),this.N.m(this.ji.N),
e=this.ji.Ni());this.Ya=a.fg;this.gi=d+this.Ya*e;this.i=0}O(vh,Z);
vh.prototype.rd=function(a){var b=this.Qv,c=this.Rv,d=this.D,e=this.F,f=0,g=0,h=0,i=0,j=h=0,k=0;this.Ua.W();this.Xg?(this.Ua.wg=-1,k+=d.B):(b=b.j.f,g=this.ii.Jc,f=b.c.x*g.x+b.d.x*g.y,g=b.c.y*g.x+b.d.y*g.y,b=d.j.f,h=this.M.x-d.b.s.x,i=this.M.y-d.b.s.y,j=b.c.x*h+b.d.x*i,i=b.c.y*h+b.d.y*i,h=j*g-i*f,this.Ua.Zd.q(-f,-g),this.Ua.wg=-h,k+=d.n+d.B*h*h);this.Yg?(this.Ua.xg=-this.Ya,k+=this.Ya*this.Ya*e.B):(b=c.j.f,g=this.ji.Jc,f=b.c.x*g.x+b.d.x*g.y,g=b.c.y*g.x+b.d.y*g.y,b=e.j.f,h=this.N.x-e.b.s.x,i=this.N.y-
e.b.s.y,j=b.c.x*h+b.d.x*i,i=b.c.y*h+b.d.y*i,h=j*g-i*f,this.Ua.$d.q(-this.Ya*f,-this.Ya*g),this.Ua.xg=-this.Ya*h,k+=this.Ya*this.Ya*(e.n+e.B*h*h));this.A=0<k?1/k:0;a.Kf?(d.g.x+=d.n*this.i*this.Ua.Zd.x,d.g.y+=d.n*this.i*this.Ua.Zd.y,d.k+=d.B*this.i*this.Ua.wg,e.g.x+=e.n*this.i*this.Ua.$d.x,e.g.y+=e.n*this.i*this.Ua.$d.y,e.k+=e.B*this.i*this.Ua.xg):this.i=0};
vh.prototype.$c=function(){var a=this.D,b=this.F,c=this.Ua,d=a.g,e=a.k,f=b.g,g=b.k;e===aa&&(e=0);g===aa&&(g=0);c=-this.A*(c.Zd.x*d.x+c.Zd.y*d.y+c.wg*e+(c.$d.x*f.x+c.$d.y*f.y)+c.xg*g);this.i+=c;a.g.x+=a.n*c*this.Ua.Zd.x;a.g.y+=a.n*c*this.Ua.Zd.y;a.k+=a.B*c*this.Ua.wg;b.g.x+=b.n*c*this.Ua.$d.x;b.g.y+=b.n*c*this.Ua.$d.y;b.k+=b.B*c*this.Ua.xg};
vh.prototype.Zc=function(){var a=this.D,b=this.F,c=0,d=0,c=this.Xg?xh(this.Xg):this.ii.Ni(),d=this.Yg?xh(this.Yg):this.ji.Ni(),c=-this.A*(this.gi-(c+this.Ya*d));a.b.h.x+=a.n*c*this.Ua.Zd.x;a.b.h.y+=a.n*c*this.Ua.Zd.y;a.b.r+=a.B*c*this.Ua.wg;b.b.h.x+=b.n*c*this.Ua.$d.x;b.b.h.y+=b.n*c*this.Ua.$d.y;b.b.r+=b.B*c*this.Ua.xg;X(a);X(b);return l};function yh(){qh.call(this);this.type=6;this.Sh=this.Rh=m;this.fg=1}O(yh,qh);yh.prototype.Gb=function(a,b,c){this.Rh=a;this.v=a.D;this.Sh=b;this.w=b.D;this.fg=c};
yh.prototype.me=function(){return new vh(this)};function wh(){this.Zd=P(0,0);this.$d=P(0,0)}wh.prototype.W=function(){this.Zd.W();this.wg=0;this.$d.W();this.xg=0};wh.prototype.q=function(a,b,c,d){b===aa&&(b=0);d===aa&&(d=0);this.Zd.m(a);this.wg=b;this.$d.m(c);this.xg=d};
function zh(a){Z.call(this,a);this.M=P(0,0);this.N=P(0,0);this.Jc=P(0,0);this.xf=P(0,0);this.C=P(0,0);this.Q=P(0,0);this.K=new le;this.i=P(0,0);this.M.m(a.sb);this.N.m(a.tb);this.Jc.m(a.Qg);this.xf.x=-this.Jc.y;this.xf.y=this.Jc.x;this.i.W();this.qa=this.Cc=0;this.jd=a.Mn;this.ld=a.jp;this.Xn=a.bo;this.Gj=a.Nj;this.be=a.Hh;this.Xf=a.ij;this.ia=0;this.C.W();this.Q.W()}O(zh,Z);
zh.prototype.Ni=function(){var a=this.D,b=this.F,c=Cf(a,this.M),d=Cf(b,this.N),b=d.x-c.x,c=d.y-c.y,a=Q(a.j.f,this.Jc);return a.x*b+a.y*c};
zh.prototype.rd=function(a){var b=this.D,c=this.F,d,e=0;this.Me.m(b.b.s);this.Ne.m(c.b.s);var f=b.Mc();c.Mc();d=b.j.f;var g=this.M.x-this.Me.x,h=this.M.y-this.Me.y,e=d.c.x*g+d.d.x*h,h=d.c.y*g+d.d.y*h,g=e;d=c.j.f;var i=this.N.x-this.Ne.x,j=this.N.y-this.Ne.y,e=d.c.x*i+d.d.x*j,j=d.c.y*i+d.d.y*j,i=e;d=c.b.h.x+i-b.b.h.x-g;e=c.b.h.y+j-b.b.h.y-h;this.Va=b.n;this.Wa=c.n;this.pc=b.B;this.qc=c.B;this.C.m(Q(f.f,this.Jc));this.xa=(d+g)*this.C.y-(e+h)*this.C.x;this.ya=i*this.C.y-j*this.C.x;this.Cc=this.Va+this.Wa+
this.pc*this.xa*this.xa+this.qc*this.ya*this.ya;this.Cc=this.Cc>Number.MIN_VALUE?1/this.Cc:0;this.Q.m(Q(f.f,this.xf));this.Aa=(d+g)*this.Q.y-(e+h)*this.Q.x;this.Ba=i*this.Q.y-j*this.Q.x;f=this.Va;g=this.Wa;h=this.pc;i=this.qc;this.K.c.x=f+g+h*this.Aa*this.Aa+i*this.Ba*this.Ba;this.K.c.y=h*this.Aa*this.xa+i*this.Ba*this.ya;this.K.d.x=this.K.c.y;this.K.d.y=f+g+h*this.xa*this.xa+i*this.ya*this.ya;this.be?(d=this.C.x*d+this.C.y*e,0.01>Math.abs(this.ld-this.jd)?this.ia=3:d<=this.jd?1!=this.ia&&(this.ia=
1,this.i.y=0):d>=this.ld?2!=this.ia&&(this.ia=2,this.i.y=0):(this.ia=0,this.i.y=0)):this.ia=0;this.Xf==p&&(this.qa=0);a.Kf?(this.i.x*=a.Ab,this.i.y*=a.Ab,this.qa*=a.Ab,a=this.i.x*this.Q.x+(this.qa+this.i.y)*this.C.x,d=this.i.x*this.Q.y+(this.qa+this.i.y)*this.C.y,e=this.i.x*this.Aa+(this.qa+this.i.y)*this.xa,f=this.i.x*this.Ba+(this.qa+this.i.y)*this.ya,b.g.x-=this.Va*a,b.g.y-=this.Va*d,b.k-=this.pc*e,c.g.x+=this.Wa*a,c.g.y+=this.Wa*d,c.k+=this.qc*f):(this.i.W(),this.qa=0)};
zh.prototype.$c=function(a){var b=this.D,c=this.F,d=b.g,e=b.k,f=c.g,g=c.k,h=0,i=0,j=0,k=0;this.Xf&&3!=this.ia&&(k=this.Cc*(this.Gj-(this.C.x*(f.x-d.x)+this.C.y*(f.y-d.y)+this.ya*g-this.xa*e)),h=this.qa,i=a.ja*this.Xn,this.qa=T(this.qa+k,-i,i),k=this.qa-h,h=k*this.C.x,i=k*this.C.y,j=k*this.xa,k*=this.ya,d.x-=this.Va*h,d.y-=this.Va*i,e-=this.pc*j,f.x+=this.Wa*h,f.y+=this.Wa*i,g+=this.qc*k);i=this.Q.x*(f.x-d.x)+this.Q.y*(f.y-d.y)+this.Ba*g-this.Aa*e;this.be&&0!=this.ia?(j=this.C.x*(f.x-d.x)+this.C.y*
(f.y-d.y)+this.ya*g-this.xa*e,h=this.i.Fb(),a=this.K.tg(P(0,0),-i,-j),this.i.Lf(a),1==this.ia?this.i.y=Math.max(this.i.y,0):2==this.ia&&(this.i.y=Math.min(this.i.y,0)),i=-i-(this.i.y-h.y)*this.K.d.x,j=0,j=0!=this.K.c.x?i/this.K.c.x+h.x:h.x,this.i.x=j,a.x=this.i.x-h.x,a.y=this.i.y-h.y,h=a.x*this.Q.x+a.y*this.C.x,i=a.x*this.Q.y+a.y*this.C.y,j=a.x*this.Aa+a.y*this.xa,k=a.x*this.Ba+a.y*this.ya):(a=0,a=0!=this.K.c.x?-i/this.K.c.x:0,this.i.x+=a,h=a*this.Q.x,i=a*this.Q.y,j=a*this.Aa,k=a*this.Ba);d.x-=this.Va*
h;d.y-=this.Va*i;e-=this.pc*j;f.x+=this.Wa*h;f.y+=this.Wa*i;g+=this.qc*k;b.g.m(d);b.k=e;c.g.m(f);c.k=g};
zh.prototype.Zc=function(){var a=this.D,b=this.F,c=a.b.h,d=a.b.r,e=b.b.h,f=b.b.r,g,h=0,i=0,j=0,k=0,n=g=0,r=0,i=p,s=0,t=me(d),j=me(f);g=t;var r=this.M.x-this.Me.x,u=this.M.y-this.Me.y,h=g.c.x*r+g.d.x*u,u=g.c.y*r+g.d.y*u,r=h;g=j;j=this.N.x-this.Ne.x;k=this.N.y-this.Ne.y;h=g.c.x*j+g.d.x*k;k=g.c.y*j+g.d.y*k;j=h;g=e.x+j-c.x-r;h=e.y+k-c.y-u;if(this.be){this.C=Q(t,this.Jc);this.xa=(g+r)*this.C.y-(h+u)*this.C.x;this.ya=j*this.C.y-k*this.C.x;var w=this.C.x*g+this.C.y*h;0.01>Math.abs(this.ld-this.jd)?(s=T(w,
-0.2,0.2),n=Math.abs(w),i=l):w<=this.jd?(s=T(w-this.jd+0.005,-0.2,0),n=this.jd-w,i=l):w>=this.ld&&(s=T(w-this.ld+0.005,0,0.2),n=w-this.ld,i=l)}this.Q=Q(t,this.xf);this.Aa=(g+r)*this.Q.y-(h+u)*this.Q.x;this.Ba=j*this.Q.y-k*this.Q.x;t=P(0,0);u=this.Q.x*g+this.Q.y*h;n=Math.max(n,Math.abs(u));r=0;i?(i=this.Va,j=this.Wa,k=this.pc,g=this.qc,this.K.c.x=i+j+k*this.Aa*this.Aa+g*this.Ba*this.Ba,this.K.c.y=k*this.Aa*this.xa+g*this.Ba*this.ya,this.K.d.x=this.K.c.y,this.K.d.y=i+j+k*this.xa*this.xa+g*this.ya*this.ya,
this.K.tg(t,-u,-s)):(i=this.Va,j=this.Wa,k=this.pc,g=this.qc,s=i+j+k*this.Aa*this.Aa+g*this.Ba*this.Ba,t.x=0!=s?-u/s:0,t.y=0);s=t.x*this.Q.x+t.y*this.C.x;i=t.x*this.Q.y+t.y*this.C.y;u=t.x*this.Aa+t.y*this.xa;t=t.x*this.Ba+t.y*this.ya;c.x-=this.Va*s;c.y-=this.Va*i;d-=this.pc*u;e.x+=this.Wa*s;e.y+=this.Wa*i;f+=this.qc*t;a.b.r=d;b.b.r=f;X(a);X(b);return 0.005>=n&&r<=be};
function Ah(){qh.call(this);this.sb=P(0,0);this.tb=P(0,0);this.Qg=P(0,0);this.type=7;this.Qg.q(1,0);this.Hh=p;this.jp=this.Mn=0;this.ij=p;this.Nj=this.bo=0}O(Ah,qh);Ah.prototype.Gb=function(a,b,c,d){this.v=a;this.w=b;this.sb=Df(this.v,c);this.tb=Df(this.w,c);this.Qg=ke(this.v.j.f,d)};Ah.prototype.me=function(){return new zh(this)};
function Bh(a){Z.call(this,a);this.M=P(0,0);this.N=P(0,0);this.Jc=P(0,0);this.xf=P(0,0);this.C=P(0,0);this.Q=P(0,0);this.K=new oe;this.i=new pe(0,0,0);this.M.m(a.sb);this.N.m(a.tb);this.Jc.m(a.Qg);this.xf.x=-this.Jc.y;this.xf.y=this.Jc.x;this.aw=a.gg;this.i.W();this.qa=this.Cc=0;this.jd=a.Mn;this.ld=a.jp;this.Xn=a.bo;this.Gj=a.Nj;this.be=a.Hh;this.Xf=a.ij;this.ia=0;this.C.W();this.Q.W()}O(Bh,Z);
Bh.prototype.Ni=function(){var a=this.D,b=this.F,c=Cf(a,this.M),d=Cf(b,this.N),b=d.x-c.x,c=d.y-c.y,a=Q(a.j.f,this.Jc);return a.x*b+a.y*c};
Bh.prototype.rd=function(a){var b=this.D,c=this.F,d,e=0;this.Me.m(b.b.s);this.Ne.m(c.b.s);var f=b.Mc();c.Mc();d=b.j.f;var g=this.M.x-this.Me.x,h=this.M.y-this.Me.y,e=d.c.x*g+d.d.x*h,h=d.c.y*g+d.d.y*h,g=e;d=c.j.f;var i=this.N.x-this.Ne.x,j=this.N.y-this.Ne.y,e=d.c.x*i+d.d.x*j,j=d.c.y*i+d.d.y*j,i=e;d=c.b.h.x+i-b.b.h.x-g;e=c.b.h.y+j-b.b.h.y-h;this.Va=b.n;this.Wa=c.n;this.pc=b.B;this.qc=c.B;this.C.m(Q(f.f,this.Jc));this.xa=(d+g)*this.C.y-(e+h)*this.C.x;this.ya=i*this.C.y-j*this.C.x;this.Cc=this.Va+this.Wa+
this.pc*this.xa*this.xa+this.qc*this.ya*this.ya;this.Cc>Number.MIN_VALUE&&(this.Cc=1/this.Cc);this.Q.m(Q(f.f,this.xf));this.Aa=(d+g)*this.Q.y-(e+h)*this.Q.x;this.Ba=i*this.Q.y-j*this.Q.x;f=this.Va;g=this.Wa;h=this.pc;i=this.qc;this.K.c.x=f+g+h*this.Aa*this.Aa+i*this.Ba*this.Ba;this.K.c.y=h*this.Aa+i*this.Ba;this.K.c.p=h*this.Aa*this.xa+i*this.Ba*this.ya;this.K.d.x=this.K.c.y;this.K.d.y=h+i;this.K.d.p=h*this.xa+i*this.ya;this.K.da.x=this.K.c.p;this.K.da.y=this.K.d.p;this.K.da.p=f+g+h*this.xa*this.xa+
i*this.ya*this.ya;this.be?(d=this.C.x*d+this.C.y*e,0.01>Math.abs(this.ld-this.jd)?this.ia=3:d<=this.jd?1!=this.ia&&(this.ia=1,this.i.p=0):d>=this.ld?2!=this.ia&&(this.ia=2,this.i.p=0):(this.ia=0,this.i.p=0)):this.ia=0;this.Xf==p&&(this.qa=0);a.Kf?(this.i.x*=a.Ab,this.i.y*=a.Ab,this.qa*=a.Ab,a=this.i.x*this.Q.x+(this.qa+this.i.p)*this.C.x,d=this.i.x*this.Q.y+(this.qa+this.i.p)*this.C.y,e=this.i.x*this.Aa+this.i.y+(this.qa+this.i.p)*this.xa,f=this.i.x*this.Ba+this.i.y+(this.qa+this.i.p)*this.ya,b.g.x-=
this.Va*a,b.g.y-=this.Va*d,b.k-=this.pc*e,c.g.x+=this.Wa*a,c.g.y+=this.Wa*d,c.k+=this.qc*f):(this.i.W(),this.qa=0)};
Bh.prototype.$c=function(a){var b=this.D,c=this.F,d=b.g,e=b.k,f=c.g,g=c.k,h=0,i=0,j=0,k=0;this.Xf&&3!=this.ia&&(k=this.Cc*(this.Gj-(this.C.x*(f.x-d.x)+this.C.y*(f.y-d.y)+this.ya*g-this.xa*e)),h=this.qa,a=a.ja*this.Xn,this.qa=T(this.qa+k,-a,a),k=this.qa-h,h=k*this.C.x,i=k*this.C.y,j=k*this.xa,k*=this.ya,d.x-=this.Va*h,d.y-=this.Va*i,e-=this.pc*j,f.x+=this.Wa*h,f.y+=this.Wa*i,g+=this.qc*k);j=this.Q.x*(f.x-d.x)+this.Q.y*(f.y-d.y)+this.Ba*g-this.Aa*e;i=g-e;this.be&&0!=this.ia?(a=this.C.x*(f.x-d.x)+this.C.y*
(f.y-d.y)+this.ya*g-this.xa*e,h=this.i.Fb(),a=re(this.K,new pe(0,0,0),-j,-i,-a),this.i.Lf(a),1==this.ia?this.i.p=Math.max(this.i.p,0):2==this.ia&&(this.i.p=Math.min(this.i.p,0)),j=-j-(this.i.p-h.p)*this.K.da.x,i=-i-(this.i.p-h.p)*this.K.da.y,i=qe(this.K,P(0,0),j,i),i.x+=h.x,i.y+=h.y,this.i.x=i.x,this.i.y=i.y,a.x=this.i.x-h.x,a.y=this.i.y-h.y,a.p=this.i.p-h.p,h=a.x*this.Q.x+a.p*this.C.x,i=a.x*this.Q.y+a.p*this.C.y,j=a.x*this.Aa+a.y+a.p*this.xa,k=a.x*this.Ba+a.y+a.p*this.ya):(a=qe(this.K,P(0,0),-j,
-i),this.i.x+=a.x,this.i.y+=a.y,h=a.x*this.Q.x,i=a.x*this.Q.y,j=a.x*this.Aa+a.y,k=a.x*this.Ba+a.y);d.x-=this.Va*h;d.y-=this.Va*i;e-=this.pc*j;f.x+=this.Wa*h;f.y+=this.Wa*i;g+=this.qc*k;b.g.m(d);b.k=e;c.g.m(f);c.k=g};
Bh.prototype.Zc=function(){var a=this.D,b=this.F,c=a.b.h,d=a.b.r,e=b.b.h,f=b.b.r,g,h=0,i=0,j=0,k=h=g=0,n=0,i=p,r=0,s=me(d),t=me(f);g=s;var n=this.M.x-this.Me.x,u=this.M.y-this.Me.y,h=g.c.x*n+g.d.x*u,u=g.c.y*n+g.d.y*u,n=h;g=t;t=this.N.x-this.Ne.x;j=this.N.y-this.Ne.y;h=g.c.x*t+g.d.x*j;j=g.c.y*t+g.d.y*j;t=h;g=e.x+t-c.x-n;h=e.y+j-c.y-u;if(this.be){this.C=Q(s,this.Jc);this.xa=(g+n)*this.C.y-(h+u)*this.C.x;this.ya=t*this.C.y-j*this.C.x;var w=this.C.x*g+this.C.y*h;0.01>Math.abs(this.ld-this.jd)?(r=T(w,
-0.2,0.2),k=Math.abs(w),i=l):w<=this.jd?(r=T(w-this.jd+0.005,-0.2,0),k=this.jd-w,i=l):w>=this.ld&&(r=T(w-this.ld+0.005,0,0.2),k=w-this.ld,i=l)}this.Q=Q(s,this.xf);this.Aa=(g+n)*this.Q.y-(h+u)*this.Q.x;this.Ba=t*this.Q.y-j*this.Q.x;s=new pe(0,0,0);u=this.Q.x*g+this.Q.y*h;t=f-d-this.aw;k=Math.max(k,Math.abs(u));n=Math.abs(t);i?(i=this.Va,j=this.Wa,g=this.pc,h=this.qc,this.K.c.x=i+j+g*this.Aa*this.Aa+h*this.Ba*this.Ba,this.K.c.y=g*this.Aa+h*this.Ba,this.K.c.p=g*this.Aa*this.xa+h*this.Ba*this.ya,this.K.d.x=
this.K.c.y,this.K.d.y=g+h,this.K.d.p=g*this.xa+h*this.ya,this.K.da.x=this.K.c.p,this.K.da.y=this.K.d.p,this.K.da.p=i+j+g*this.xa*this.xa+h*this.ya*this.ya,re(this.K,s,-u,-t,-r)):(i=this.Va,j=this.Wa,g=this.pc,h=this.qc,r=g*this.Aa+h*this.Ba,w=g+h,this.K.c.q(i+j+g*this.Aa*this.Aa+h*this.Ba*this.Ba,r,0),this.K.d.q(r,w,0),r=qe(this.K,P(0,0),-u,-t),s.x=r.x,s.y=r.y,s.p=0);r=s.x*this.Q.x+s.p*this.C.x;i=s.x*this.Q.y+s.p*this.C.y;u=s.x*this.Aa+s.y+s.p*this.xa;s=s.x*this.Ba+s.y+s.p*this.ya;c.x-=this.Va*r;
c.y-=this.Va*i;d-=this.pc*u;e.x+=this.Wa*r;e.y+=this.Wa*i;f+=this.qc*s;a.b.r=d;b.b.r=f;X(a);X(b);return 0.005>=k&&n<=be};function Ch(){qh.call(this);this.sb=P(0,0);this.tb=P(0,0);this.Qg=P(0,0);this.type=2;this.Qg.q(1,0);this.gg=0;this.Hh=p;this.jp=this.Mn=0;this.ij=p;this.Nj=this.bo=0}O(Ch,qh);Ch.prototype.Gb=function(a,b,c,d){this.v=a;this.w=b;this.sb=Df(this.v,c);this.tb=Df(this.w,c);this.Qg=ke(this.v.j.f,d);this.gg=this.w.Sd()-this.v.Sd()};Ch.prototype.me=function(){return new Bh(this)};
function Dh(a){Z.call(this,a);this.vf=P(0,0);this.wf=P(0,0);this.M=P(0,0);this.N=P(0,0);this.Ga=P(0,0);this.Ha=P(0,0);this.Ed=this.D.gc.Sv;this.vf.x=a.Yk.x-this.Ed.j.position.x;this.vf.y=a.Yk.y-this.Ed.j.position.y;this.wf.x=a.Zk.x-this.Ed.j.position.x;this.wf.y=a.Zk.y-this.Ed.j.position.y;this.M.m(a.sb);this.N.m(a.tb);this.Ya=a.fg;this.gi=a.En+this.Ya*a.Fn;this.zr=Math.min(a.Cr,this.gi-this.Ya*Eh);this.Ar=Math.min(a.Dr,(this.gi-Eh)/this.Ya);this.Le=this.Ke=this.i=0}O(Dh,Z);
Dh.prototype.rd=function(a){var b=this.D,c=this.F,d;d=b.j.f;var e=this.M.x-b.b.s.x,f=this.M.y-b.b.s.y,g=d.c.x*e+d.d.x*f,f=d.c.y*e+d.d.y*f,e=g;d=c.j.f;var h=this.N.x-c.b.s.x,i=this.N.y-c.b.s.y,g=d.c.x*h+d.d.x*i,i=d.c.y*h+d.d.y*i,h=g;d=c.b.h.x+h;var g=c.b.h.y+i,j=this.Ed.j.position.x+this.wf.x,k=this.Ed.j.position.y+this.wf.y;this.Ga.q(b.b.h.x+e-(this.Ed.j.position.x+this.vf.x),b.b.h.y+f-(this.Ed.j.position.y+this.vf.y));this.Ha.q(d-j,g-k);d=we(this.Ga);g=we(this.Ha);0.005<d?this.Ga.Fc(1/d):this.Ga.W();
0.005<g?this.Ha.Fc(1/g):this.Ha.W();0<this.gi-d-this.Ya*g?this.i=this.Zn=0:this.Zn=2;d<this.zr?this.Ke=this.Un=0:this.Un=2;g<this.Ar?this.Le=this.Vn=0:this.Vn=2;d=e*this.Ga.y-f*this.Ga.x;g=h*this.Ha.y-i*this.Ha.x;this.Ej=b.n+b.B*d*d;this.Fj=c.n+c.B*g*g;this.zl=this.Ej+this.Ya*this.Ya*this.Fj;this.Ej=1/this.Ej;this.Fj=1/this.Fj;this.zl=1/this.zl;a.Kf?(this.i*=a.Ab,this.Ke*=a.Ab,this.Le*=a.Ab,a=(-this.i-this.Ke)*this.Ga.x,d=(-this.i-this.Ke)*this.Ga.y,g=(-this.Ya*this.i-this.Le)*this.Ha.x,j=(-this.Ya*
this.i-this.Le)*this.Ha.y,b.g.x+=b.n*a,b.g.y+=b.n*d,b.k+=b.B*(e*d-f*a),c.g.x+=c.n*g,c.g.y+=c.n*j,c.k+=c.B*(h*j-i*g)):this.Le=this.Ke=this.i=0};
Dh.prototype.$c=function(){var a=this.D,b=this.F,c;c=a.j.f;var d=this.M.x-a.b.s.x,e=this.M.y-a.b.s.y,f=c.c.x*d+c.d.x*e,e=c.c.y*d+c.d.y*e,d=f;c=b.j.f;var g=this.N.x-b.b.s.x,h=this.N.y-b.b.s.y,f=c.c.x*g+c.d.x*h,h=c.c.y*g+c.d.y*h,g=f,i=f=c=0,j=0;c=j=c=j=i=f=c=0;2==this.Zn&&(c=a.g.x+-a.k*e,f=a.g.y+a.k*d,i=b.g.x+-b.k*h,j=b.g.y+b.k*g,c=-(this.Ga.x*c+this.Ga.y*f)-this.Ya*(this.Ha.x*i+this.Ha.y*j),j=this.zl*-c,c=this.i,this.i=Math.max(0,this.i+j),j=this.i-c,c=-j*this.Ga.x,f=-j*this.Ga.y,i=-this.Ya*j*this.Ha.x,
j=-this.Ya*j*this.Ha.y,a.g.x+=a.n*c,a.g.y+=a.n*f,a.k+=a.B*(d*f-e*c),b.g.x+=b.n*i,b.g.y+=b.n*j,b.k+=b.B*(g*j-h*i));2==this.Un&&(c=a.g.x+-a.k*e,f=a.g.y+a.k*d,c=-(this.Ga.x*c+this.Ga.y*f),j=-this.Ej*c,c=this.Ke,this.Ke=Math.max(0,this.Ke+j),j=this.Ke-c,c=-j*this.Ga.x,f=-j*this.Ga.y,a.g.x+=a.n*c,a.g.y+=a.n*f,a.k+=a.B*(d*f-e*c));2==this.Vn&&(i=b.g.x+-b.k*h,j=b.g.y+b.k*g,c=-(this.Ha.x*i+this.Ha.y*j),j=-this.Fj*c,c=this.Le,this.Le=Math.max(0,this.Le+j),j=this.Le-c,i=-j*this.Ha.x,j=-j*this.Ha.y,b.g.x+=b.n*
i,b.g.y+=b.n*j,b.k+=b.B*(g*j-h*i))};
Dh.prototype.Zc=function(){var a=this.D,b=this.F,c,d=this.Ed.j.position.x+this.vf.x,e=this.Ed.j.position.y+this.vf.y,f=this.Ed.j.position.x+this.wf.x,g=this.Ed.j.position.y+this.wf.y,h=0,i=0,j=0,k=0,n=c=0,r=0,s=0,t=n=s=c=n=c=0;2==this.Zn&&(c=a.j.f,h=this.M.x-a.b.s.x,i=this.M.y-a.b.s.y,n=c.c.x*h+c.d.x*i,i=c.c.y*h+c.d.y*i,h=n,c=b.j.f,j=this.N.x-b.b.s.x,k=this.N.y-b.b.s.y,n=c.c.x*j+c.d.x*k,k=c.c.y*j+c.d.y*k,j=n,c=a.b.h.x+h,n=a.b.h.y+i,r=b.b.h.x+j,s=b.b.h.y+k,this.Ga.q(c-d,n-e),this.Ha.q(r-f,s-g),c=we(this.Ga),
n=we(this.Ha),0.005<c?this.Ga.Fc(1/c):this.Ga.W(),0.005<n?this.Ha.Fc(1/n):this.Ha.W(),c=this.gi-c-this.Ya*n,t=Math.max(t,-c),c=T(c+0.005,-0.2,0),s=-this.zl*c,c=-s*this.Ga.x,n=-s*this.Ga.y,r=-this.Ya*s*this.Ha.x,s=-this.Ya*s*this.Ha.y,a.b.h.x+=a.n*c,a.b.h.y+=a.n*n,a.b.r+=a.B*(h*n-i*c),b.b.h.x+=b.n*r,b.b.h.y+=b.n*s,b.b.r+=b.B*(j*s-k*r),X(a),X(b));2==this.Un&&(c=a.j.f,h=this.M.x-a.b.s.x,i=this.M.y-a.b.s.y,n=c.c.x*h+c.d.x*i,i=c.c.y*h+c.d.y*i,h=n,c=a.b.h.x+h,n=a.b.h.y+i,this.Ga.q(c-d,n-e),c=we(this.Ga),
0.005<c?(this.Ga.x*=1/c,this.Ga.y*=1/c):this.Ga.W(),c=this.zr-c,t=Math.max(t,-c),c=T(c+0.005,-0.2,0),s=-this.Ej*c,c=-s*this.Ga.x,n=-s*this.Ga.y,a.b.h.x+=a.n*c,a.b.h.y+=a.n*n,a.b.r+=a.B*(h*n-i*c),X(a));2==this.Vn&&(c=b.j.f,j=this.N.x-b.b.s.x,k=this.N.y-b.b.s.y,n=c.c.x*j+c.d.x*k,k=c.c.y*j+c.d.y*k,j=n,r=b.b.h.x+j,s=b.b.h.y+k,this.Ha.q(r-f,s-g),n=we(this.Ha),0.005<n?(this.Ha.x*=1/n,this.Ha.y*=1/n):this.Ha.W(),c=this.Ar-n,t=Math.max(t,-c),c=T(c+0.005,-0.2,0),s=-this.Fj*c,r=-s*this.Ha.x,s=-s*this.Ha.y,
b.b.h.x+=b.n*r,b.b.h.y+=b.n*s,b.b.r+=b.B*(j*s-k*r),X(b));return 0.005>t};var Eh=1;function Fh(){qh.call(this);this.Yk=P(0,0);this.Zk=P(0,0);this.sb=P(0,0);this.tb=P(0,0);this.type=4;this.Yk.q(-1,1);this.Zk.q(1,1);this.sb.q(-1,0);this.tb.q(1,0);this.Dr=this.Fn=this.Cr=this.En=0;this.fg=1;this.Em=l}O(Fh,qh);
Fh.prototype.Gb=function(a,b,c,d,e,f,g){g===aa&&(g=0);this.v=a;this.w=b;this.Yk.m(c);this.Zk.m(d);this.sb=Df(this.v,e);this.tb=Df(this.w,f);a=e.x-c.x;c=e.y-c.y;this.En=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.Fn=Math.sqrt(c*c+d*d);this.fg=g;g=this.En+this.fg*this.Fn;this.Cr=g-this.fg*Eh;this.Dr=(g-Eh)/this.fg};Fh.prototype.me=function(){return new Dh(this)};
function Gh(a){Z.call(this,a);this.Nc=new le;this.Qi=new le;this.Ri=new le;this.Si=new le;this.Kb=new pe(0,0,0);this.Vd=P(0,0);this.Ue=P(0,0);this.M=P(0,0);this.N=P(0,0);this.i=new pe(0,0,0);this.A=new oe;this.M.m(a.sb);this.N.m(a.tb);this.Jj=a.gg;this.i.W();this.qa=0;this.yl=a.qr;this.$n=a.zs;this.Zv=a.ew;this.Gj=a.Nj;this.be=a.Hh;this.Xf=a.ij;this.ia=0}O(Gh,Z);function xh(a){return a.F.b.r-a.D.b.r-a.Jj}
Gh.prototype.rd=function(a){var b=this.D,c=this.F,d,e=0;d=b.j.f;var f=this.M.x-b.b.s.x,g=this.M.y-b.b.s.y,e=d.c.x*f+d.d.x*g,g=d.c.y*f+d.d.y*g,f=e;d=c.j.f;var h=this.N.x-c.b.s.x,i=this.N.y-c.b.s.y,e=d.c.x*h+d.d.x*i,i=d.c.y*h+d.d.y*i,h=e;d=b.n;var e=c.n,j=b.B,k=c.B;this.A.c.x=d+e+g*g*j+i*i*k;this.A.d.x=-g*f*j-i*h*k;this.A.da.x=-g*j-i*k;this.A.c.y=this.A.d.x;this.A.d.y=d+e+f*f*j+h*h*k;this.A.da.y=f*j+h*k;this.A.c.p=this.A.da.x;this.A.d.p=this.A.da.y;this.A.da.p=j+k;this.Cc=1/(j+k);this.Xf||(this.qa=
0);if(this.be){var n=c.b.r-b.b.r-this.Jj;Math.abs(this.$n-this.yl)<2*be?this.ia=3:n<=this.yl?(1!=this.ia&&(this.i.p=0),this.ia=1):n>=this.$n?(2!=this.ia&&(this.i.p=0),this.ia=2):(this.ia=0,this.i.p=0)}else this.ia=0;a.Kf?(this.i.x*=a.Ab,this.i.y*=a.Ab,this.qa*=a.Ab,a=this.i.x,n=this.i.y,b.g.x-=d*a,b.g.y-=d*n,b.k-=j*(f*n-g*a+this.qa+this.i.p),c.g.x+=e*a,c.g.y+=e*n,c.k+=k*(h*n-i*a+this.qa+this.i.p)):(this.i.W(),this.qa=0)};
Gh.prototype.$c=function(a){var b=this.D,c=this.F,d=0,e=d=0,f=0,g=0,h=0,i=b.g,j=b.k,k=c.g,n=c.k,r=b.n,s=c.n,t=b.B,u=c.B;this.Xf&&3!=this.ia&&(e=this.Cc*-(n-j-this.Gj),f=this.qa,g=a.ja*this.Zv,this.qa=T(this.qa+e,-g,g),e=this.qa-f,j-=t*e,n+=u*e);if(this.be&&0!=this.ia){var a=b.j.f,e=this.M.x-b.b.s.x,f=this.M.y-b.b.s.y,d=a.c.x*e+a.d.x*f,f=a.c.y*e+a.d.y*f,e=d,a=c.j.f,g=this.N.x-c.b.s.x,h=this.N.y-c.b.s.y,d=a.c.x*g+a.d.x*h,h=a.c.y*g+a.d.y*h,g=d,a=k.x+-n*h-i.x- -j*f,w=k.y+n*g-i.y-j*e;re(this.A,this.Kb,
-a,-w,-(n-j));3==this.ia?this.i.Lf(this.Kb):1==this.ia?(d=this.i.p+this.Kb.p,0>d&&(qe(this.A,this.Ue,-a,-w),this.Kb.x=this.Ue.x,this.Kb.y=this.Ue.y,this.Kb.p=-this.i.p,this.i.x+=this.Ue.x,this.i.y+=this.Ue.y,this.i.p=0)):2==this.ia&&(d=this.i.p+this.Kb.p,0<d&&(qe(this.A,this.Ue,-a,-w),this.Kb.x=this.Ue.x,this.Kb.y=this.Ue.y,this.Kb.p=-this.i.p,this.i.x+=this.Ue.x,this.i.y+=this.Ue.y,this.i.p=0));i.x-=r*this.Kb.x;i.y-=r*this.Kb.y;j-=t*(e*this.Kb.y-f*this.Kb.x+this.Kb.p);k.x+=s*this.Kb.x;k.y+=s*this.Kb.y;
n+=u*(g*this.Kb.y-h*this.Kb.x+this.Kb.p)}else a=b.j.f,e=this.M.x-b.b.s.x,f=this.M.y-b.b.s.y,d=a.c.x*e+a.d.x*f,f=a.c.y*e+a.d.y*f,e=d,a=c.j.f,g=this.N.x-c.b.s.x,h=this.N.y-c.b.s.y,d=a.c.x*g+a.d.x*h,h=a.c.y*g+a.d.y*h,g=d,qe(this.A,this.Vd,-(k.x+-n*h-i.x- -j*f),-(k.y+n*g-i.y-j*e)),this.i.x+=this.Vd.x,this.i.y+=this.Vd.y,i.x-=r*this.Vd.x,i.y-=r*this.Vd.y,j-=t*(e*this.Vd.y-f*this.Vd.x),k.x+=s*this.Vd.x,k.y+=s*this.Vd.y,n+=u*(g*this.Vd.y-h*this.Vd.x);b.g.m(i);b.k=j;c.g.m(k);c.k=n};
Gh.prototype.Zc=function(){var a=0,b,c=this.D,d=this.F,e=0,f=b=0,g=0,h=0;if(this.be&&0!=this.ia){var a=d.b.r-c.b.r-this.Jj,i=0;3==this.ia?(a=T(a-this.yl,-ce,ce),i=-this.Cc*a,e=Math.abs(a)):1==this.ia?(a-=this.yl,e=-a,a=T(a+be,-ce,0),i=-this.Cc*a):2==this.ia&&(e=a-=this.$n,a=T(a-be,0,ce),i=-this.Cc*a);c.b.r-=c.B*i;d.b.r+=d.B*i;X(c);X(d)}b=c.j.f;i=this.M.x-c.b.s.x;a=this.M.y-c.b.s.y;f=b.c.x*i+b.d.x*a;a=b.c.y*i+b.d.y*a;i=f;b=d.j.f;var j=this.N.x-d.b.s.x,k=this.N.y-d.b.s.y,f=b.c.x*j+b.d.x*k,k=b.c.y*j+
b.d.y*k,j=f,g=d.b.h.x+j-c.b.h.x-i,h=d.b.h.y+k-c.b.h.y-a,n=g*g+h*h;b=Math.sqrt(n);var f=c.n,r=d.n,s=c.B,t=d.B;n>0.05*0.05&&(n=1/(f+r),g=n*-g,h=n*-h,c.b.h.x-=0.5*f*g,c.b.h.y-=0.5*f*h,d.b.h.x+=0.5*r*g,d.b.h.y+=0.5*r*h,g=d.b.h.x+j-c.b.h.x-i,h=d.b.h.y+k-c.b.h.y-a);this.Qi.c.x=f+r;this.Qi.d.x=0;this.Qi.c.y=0;this.Qi.d.y=f+r;this.Ri.c.x=s*a*a;this.Ri.d.x=-s*i*a;this.Ri.c.y=-s*i*a;this.Ri.d.y=s*i*i;this.Si.c.x=t*k*k;this.Si.d.x=-t*j*k;this.Si.c.y=-t*j*k;this.Si.d.y=t*j*j;this.Nc.xh(this.Qi);this.Nc.hm(this.Ri);
this.Nc.hm(this.Si);this.Nc.tg(Hh,-g,-h);g=Hh.x;h=Hh.y;c.b.h.x-=c.n*g;c.b.h.y-=c.n*h;c.b.r-=c.B*(i*h-a*g);d.b.h.x+=d.n*g;d.b.h.y+=d.n*h;d.b.r+=d.B*(j*h-k*g);X(c);X(d);return 0.005>=b&&e<=be};var Hh=P(0,0);function Ih(){qh.call(this);this.sb=P(0,0);this.tb=P(0,0);this.type=1;this.sb.W();this.tb.W();this.Nj=this.ew=this.zs=this.qr=this.gg=0;this.ij=this.Hh=p}O(Ih,qh);Ih.prototype.Gb=function(a,b,c){this.v=a;this.w=b;this.sb=Df(this.v,c);this.tb=Df(this.w,c);this.gg=this.w.Sd()-this.v.Sd()};
Ih.prototype.me=function(){return new Gh(this)};function Jh(a){Z.call(this,a);this.gd=P(0,0);this.hd=P(0,0);this.i=new pe(0,0,0);this.A=new oe;this.gd.m(a.sb);this.hd.m(a.tb);this.Jj=a.gg}O(Jh,Z);
Jh.prototype.rd=function(a){var b,c=0,d=this.D,e=this.F;b=d.j.f;var f=this.gd.x-d.b.s.x,g=this.gd.y-d.b.s.y,c=b.c.x*f+b.d.x*g,g=b.c.y*f+b.d.y*g,f=c;b=e.j.f;var h=this.hd.x-e.b.s.x,i=this.hd.y-e.b.s.y,c=b.c.x*h+b.d.x*i,i=b.c.y*h+b.d.y*i,h=c;b=d.n;var c=e.n,j=d.B,k=e.B;this.A.c.x=b+c+g*g*j+i*i*k;this.A.d.x=-g*f*j-i*h*k;this.A.da.x=-g*j-i*k;this.A.c.y=this.A.d.x;this.A.d.y=b+c+f*f*j+h*h*k;this.A.da.y=f*j+h*k;this.A.c.p=this.A.da.x;this.A.d.p=this.A.da.y;this.A.da.p=j+k;a.Kf?(this.i.x*=a.Ab,this.i.y*=
a.Ab,this.i.p*=a.Ab,d.g.x-=b*this.i.x,d.g.y-=b*this.i.y,d.k-=j*(f*this.i.y-g*this.i.x+this.i.p),e.g.x+=c*this.i.x,e.g.y+=c*this.i.y,e.k+=k*(h*this.i.y-i*this.i.x+this.i.p)):this.i.W()};
Jh.prototype.$c=function(){var a,b=0,c=this.D,d=this.F,e=c.g,f=c.k,g=d.g,h=d.k,i=c.n,j=d.n,k=c.B,n=d.B;a=c.j.f;var r=this.gd.x-c.b.s.x,s=this.gd.y-c.b.s.y,b=a.c.x*r+a.d.x*s,s=a.c.y*r+a.d.y*s,r=b;a=d.j.f;var t=this.hd.x-d.b.s.x,u=this.hd.y-d.b.s.y,b=a.c.x*t+a.d.x*u,u=a.c.y*t+a.d.y*u,t=b;a=new pe(0,0,0);re(this.A,a,-(g.x-h*u-e.x+f*s),-(g.y+h*t-e.y-f*r),-(h-f));this.i.Lf(a);e.x-=i*a.x;e.y-=i*a.y;f-=k*(r*a.y-s*a.x+a.p);g.x+=j*a.x;g.y+=j*a.y;h+=n*(t*a.y-u*a.x+a.p);c.k=f;d.k=h};
Jh.prototype.Zc=function(){var a,b=0,c=this.D,d=this.F;a=c.j.f;var e=this.gd.x-c.b.s.x,f=this.gd.y-c.b.s.y,b=a.c.x*e+a.d.x*f,f=a.c.y*e+a.d.y*f,e=b;a=d.j.f;var g=this.hd.x-d.b.s.x,h=this.hd.y-d.b.s.y,b=a.c.x*g+a.d.x*h,h=a.c.y*g+a.d.y*h,g=b;a=c.n;var b=d.n,i=c.B,j=d.B,k=d.b.h.x+g-c.b.h.x-e,n=d.b.h.y+h-c.b.h.y-f,r=d.b.r-c.b.r-this.Jj,s=Math.sqrt(k*k+n*n),t=Math.abs(r);0.05<s&&(i*=1,j*=1);this.A.c.x=a+b+f*f*i+h*h*j;this.A.d.x=-f*e*i-h*g*j;this.A.da.x=-f*i-h*j;this.A.c.y=this.A.d.x;this.A.d.y=a+b+e*e*
i+g*g*j;this.A.da.y=e*i+g*j;this.A.c.p=this.A.da.x;this.A.d.p=this.A.da.y;this.A.da.p=i+j;var u=new pe(0,0,0);re(this.A,u,-k,-n,-r);c.b.h.x-=a*u.x;c.b.h.y-=a*u.y;c.b.r-=i*(e*u.y-f*u.x+u.p);d.b.h.x+=b*u.x;d.b.h.y+=b*u.y;d.b.r+=j*(g*u.y-h*u.x+u.p);X(c);X(d);return 0.005>=s&&t<=be};function Kh(){qh.call(this);this.sb=P(0,0);this.tb=P(0,0);this.type=8;this.gg=0}O(Kh,qh);Kh.prototype.Gb=function(a,b,c){this.v=a;this.w=b;this.sb.m(Df(this.v,c));this.tb.m(Df(this.w,c));this.gg=this.w.Sd()-this.v.Sd()};
Kh.prototype.me=function(){return new Jh(this)};var Xg=[new Ie,new Ie],fh=[new Ie,new Ie],gh=[new Ie,new Ie],Yg=P(0,0),Zg=P(0,0),$g=P(0,0),ch=P(0,0),ah=P(0,0),bh=P(0,0),dh=P(0,0),eh=P(0,0),rg=0,Ag=0,Bg=0,yg=0,zg=0,sg=new mf,tg=new Ue,ug=new te,vg=new te,xg=new gf,wg=new Ve,Gf=new te,Vf=new Tf;new function(){this.position=P(0,0);this.Ds=P(0,0);this.rc=P(0,0);this.id=new Ge};new te;var Cg=new se,Dg=new se,qg=new nf,Ug=new of,Wg=new Tg;
function Lh(a,b,c,d,e,f){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=f-0.1||d-0.1<=b&&b<=f+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((f-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}
function Mh(a){var b=[],c=0,d=0,e=0,f=0,g=0,h=g=0,i=0,j=0,k=0,f=0,n,r,s,t,u,w=f=c=0,y=0,e=[],i=[],D=p,C=[],A=[];for(A.push(a);A.length;){b=A[0];d=b.length;D=l;for(c=0;c<d;c++)if(j=c,k=c<d-1?c+1:c+1-d,f=c<d-2?c+2:c+2-d,a=b[j],n=b[k],f=b[f],f=a.x*n.y+n.x*f.y+f.x*a.y-a.y*n.x-n.y*f.x-f.y*a.x,0>f){D=p;i=1E9;for(e=0;e<d;e++)if(e!==j&&e!==k){c=e;f=e<d-1?e+1:0;r=b[c];s=b[f];h=a.x;t=a.y;var E=n.x,B=n.y,g=r.x;r=r.y;var H=s.x;s=s.y;var I=E-h,ca=B-t,G=H-g,Ba=s-r,G=(G*(r-t)-Ba*(g-h))/(ca*G-I*Ba),I=h+G*I,ca=t+
G*ca,h=Lh(E,B,h,t,I,ca),g=Lh(I,ca,g,r,H,s);if(t=h&&g?P(I,ca):m)g=n.x-t.x,h=n.y-t.y,g=g*g+h*h,g<i&&(y=c,w=f,u=t,i=g)}if(1E9===i)return[];e=[];i=[];c=y;f=w;r=b[c];s=b[f];0.1>Math.abs(s.x-u.x)&&0.1>Math.abs(s.y-u.y)||e.push(u);0.1>Math.abs(r.x-u.x)&&0.1>Math.abs(r.y-u.y)||i.push(u);y=-1;for(w=j;;){if(w!==f)e.push(b[w]);else{if(0>y||y>=d)return[];Lh(s.x,s.y,b[y].x,b[y].y,a.x,a.y)||e.push(b[w]);break}y=w;0>w-1?w=d-1:w--}e.reverse();y=-1;for(w=k;;){if(w!==c)i.push(b[w]);else{if(0>y||y>=d)return[];w===c&&
!Lh(r.x,r.y,b[y].x,b[y].y,n.x,n.y)&&i.push(b[w]);break}y=w;w+1>d-1?w=0:w++}A.push(e,i);A.shift();break}D&&C.push(A.shift())}return C}
function Nh(a){for(var b=0;4E3>b;b++)ve.push(new ue(0,0));this.a=a;this.Xc=new eg(P(0,10),l);this.Iy=10;this.hr=-1;a=new Tf;a.sa=this;a.up=function(a){this.sa.a.gh(a.ub.wa().cj.e,a.jb.wa().cj.e)};this.Xc.zc.Dj=a;a=new Qf;a.sa=this;a.yh=function(a,b){if(this.sa.Bt)return l;var e=a.wa().cj.e.type,f=b.wa().cj.e.type,g=e.pb.gt;return g&&g.contains(f)?p:(g=f.pb.gt)&&g.contains(e)?p:l};this.Xc.zc.Qn=a;this.Iw=0;this.fk=8;this.Tj=3;this.Bt=l}function Oh(){}var Ph=Nh.prototype;
Ph.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};Ph.Da.prototype.ga=q();Ph.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a;this.Xc=this.sa.Xc};var Qh=Ph.ua.prototype;
Qh.ga=function(){this.sv=0!==this.P[0];this.iq=this.P[1];this.uw=0!==this.P[2];this.Gh=this.P[3];this.Jh=this.P[4];this.ti=this.P[5];this.pl=this.P[6];this.rk=this.P[7];this.Ak=0!==this.P[8];this.body=m;this.e.xb();this.yn=this.e.x;this.zn=this.e.y;this.zd=this.e.o;this.dr=this.ir=0;this.Zr=this.An=p;this.wn=m;this.xn=-1;this.Hd?(this.Hd.length=0,this.zf.length=0,this.jl.clear()):(this.Hd=[],this.zf=[],this.jl=new Za);var a=this;this.dg=function(b){a.Pj(b)};this.a.um(this.dg)};
Qh.Ur=function(){this.e.xb();this.oq();this.wn=this.e.Ib;this.xn=this.e.X};Qh.eg=function(){this.Sm();this.zf.length=0;this.jl.clear();this.body&&(ig(this.Xc,this.body),this.body=m);this.a.Eo(this.dg)};Qh.Pj=function(a){var b,c,d;d=b=0;for(c=this.zf.length;b<c;b++)this.zf[d]=this.zf[b],this.Hd[d]=this.Hd[b],this.zf[b].ie[1]==a?jg(this.Xc,this.Hd[b]):d++;this.zf.length=d;this.Hd.length=d;this.jl.remove(a)};
Qh.Sm=function(){var a,b;a=0;for(b=this.Hd.length;a<b;a++)jg(this.Xc,this.Hd[a]);this.Hd.length=0};Qh.$r=function(){var a,b,c;a=0;for(b=this.zf.length;a<b;a++)switch(c=this.zf[a],c.type){case 0:this.Yt(c.ie[0],c.ie[1],c.ie[2],c.ie[3],c.ie[4]);break;case 1:this.$t(c.ie[0],c.ie[1]);break;case 2:this.Zt(c.ie[0],c.ie[1],c.ie[2],c.ie[3])}};
Qh.oq=function(){var a=this.e,b=p,c=m,d=m,e,f,g,h,i,j;this.body&&(b=l,c=P(0,0),c.m(this.body.g),d=this.body.k,this.Sm(),ig(this.Xc,this.body),this.body=m);var k=new ag;k.Gh=this.Gh;k.Jh=this.Jh;k.ti=this.ti;j=new Hf;j.type=this.sv?0:2;a.xb();j.position.x=0.02*a.Na.ah();j.position.y=0.02*a.Na.bh();j.o=a.o;j.Dq=this.uw;j.pl=this.pl;j.rk=this.rk;j.Ak=this.Ak;var n=this.e.Ja&&!this.e.Ja.Oh();this.body=gg(this.Xc,j);this.body.cj=this;j=this.iq;!n&&0===this.iq&&(j=1);f=Math.max(Math.abs(a.width),1);g=Math.max(Math.abs(a.height),
1);n=0>a.width;i=0>a.height;if(0===j){j=a.o;a.o=0;a.G();a.xb();var r=a.Na.ah()-a.x,s=a.Na.bh()-a.y;a.o=j;a.G();a.Ja.Ch(n?-f:f,i?-g:g,0);var t=a.Ja.hc;h=a.Ja.Re;j=[];j.length=h;for(e=0;e<h;e++)j[e]=P(t[2*e]-r,t[2*e+1]-s);n!==i&&j.reverse();e=f*g;i=Mh(j);var n=[],u,w,y,D,C,A;w=0;for(y=i.length;w<y;w++){s=i[w];r=[];r.length=s.length;D=A=0;for(C=s.length;D<C;D++)t=s[D],u=s[(D+1)%C],A+=t.x*u.y-t.y*u.x,r[D]=P(t.x,t.y);A=Math.abs(A/2);A>=0.001*e&&n.push(r)}for(e=0;e<h;e++)U(j[e]);if(n.length){e=0;for(f=
n.length;e<f;e++){j=n[e];g=0;for(h=j.length;g<h;g++)i=j[g],i.x*=0.02,i.y*=0.02;k.shape=new De;i=k.shape;g=j;h=g.length;i.za=h;Ee(i,h);for(h=h=0;h<i.za;h++)i.u[h].m(g[h]);for(h=0;h<i.za;++h)g=S(i.u[h+1<i.za?h+1:0],i.u[h]),i.Ma[h].m(je(g)),ye(i.Ma[h]);g=i;h=i.u;i=i.za;r=P(0,0);s=0;t=1/3;for(u=0;u<i;++u)w=h[u],y=u+1<i?h[u+1]:h[0],D=0.5*((w.x-0)*(y.y-0)-(w.y-0)*(y.x-0)),s+=D,r.x+=D*t*(0+w.x+y.x),r.y+=D*t*(0+w.y+y.y);r.x*=1/s;r.y*=1/s;g.Dd=r;uf(this.body,k);g=0;for(h=j.length;g<h;g++)U(j[g])}}else k.shape=
new De,Fe(k.shape,0.01*f,0.01*g),uf(this.body,k)}else 1===j?(k.shape=new De,Fe(k.shape,0.01*f,0.01*g)):k.shape=new Ae(0.01*Math.min(f,g)),uf(this.body,k);a.pb.zk=this.body;this.ir=a.width;this.dr=a.height;if(b){Bf(this.body,c);this.body.om(d);U(c);this.$r();j=this.jl.qg();e=0;for(f=j.length;e<f;e++)a=j[e].pb.zk.cj,a.Sm(),a.$r()}};
Qh.Vc=function(){var a=this.e,b;b=0===this.sa.Iw?this.a.oh/60:this.a.nj(this.e);if(this.a.Ai>this.sa.hr&&0<this.a.oh){this.Xc.Of(b,this.sa.fk,this.sa.Tj);for(b=this.Xc.Qb.na(Kf);b;b=b.next)b.body.tf.W(),b.body.$g=0;this.sa.hr=this.a.Ai}if(this.Zr||a.width!==this.ir||a.height!==this.dr||a.Ib!==this.wn||a.X!==this.xn)this.oq(),this.Zr=p,this.wn=a.Ib,this.xn=a.X;b=a.o!==this.zd;if(a.x!==this.yn||a.y!==this.zn){a.xb();var c=a.Na.ah(),d=a.Na.bh(),e=c-this.yn,f=d-this.zn,g=this.body,c=P(0.02*c,0.02*d);
yf(g,c,g.Sd());Bf(this.body,P(e,f));this.An=l;W(this.body,l)}else this.An&&(this.An=p,Bf(this.body,P(0,0)),e=this.body,f=P(0.02*a.Na.ah(),0.02*a.Na.bh()),yf(e,f,e.Sd()));b&&(this.body.Lp(a.o),W(this.body,l));e=this.body.j.position;b=e.x/0.02;e=e.y/0.02;f=this.body.Sd();if(b!==a.x||e!==a.y||f!==a.o)if(a.x=b,a.y=e,a.o=f,a.G(),a.xb(),b=a.Na.ah()-a.x,e=a.Na.bh()-a.y,0!==b||0!==e)a.x-=b,a.y-=e,a.G();this.yn=a.x;this.zn=a.y;this.zd=a.o};
Qh.Uk=function(a){return-1===a||!this.e.xd?this.e.x:0===a?(this.body.j.position.x+this.body.b.s.x)/0.02:this.e.xd(a,l)};Qh.Vk=function(a){return-1===a||!this.e.xd?this.e.y:0===a?(this.body.j.position.y+this.body.b.s.y)/0.02:this.e.xd(a,p)};Ph.t=new (q());Oh.prototype.$e=function(a,b,c){var d=this.Uk(c),c=this.Vk(c);this.body.$e(P(a,b),P(0.02*d,0.02*c))};Oh.prototype.im=function(a){this.body.im(K(a))};Oh.prototype.om=function(a){this.body.om(K(a));W(this.body,l)};
Qh.Yt=function(a,b,c,d,e){var f=this.Uk(a),a=this.Vk(a),g;b.xd?(g=b.xd(c,l),c=b.xd(c,p)):(g=b.x,c=b.y);var h=f-g,i=a-c,j=new sh;j.Gb(this.body,b.pb.zk,P(0.02*f,0.02*a),P(0.02*g,0.02*c));j.length=0.02*Math.sqrt(h*h+i*i);j.Qm=d;j.cn=e;this.Hd.push(kg(this.Xc,j))};Qh.$t=function(a,b){var c=this.Uk(a),d=this.Vk(a),e=new Ih;e.Gb(this.body,b.pb.zk,P(0.02*c,0.02*d));this.Hd.push(kg(this.Xc,e))};
Qh.Zt=function(a,b,c,d){var e=this.Uk(a),a=this.Vk(a),f=new Ih;f.Gb(this.body,b.pb.zk,P(0.02*e,0.02*a));f.Hh=l;f.qr=K(c);f.zs=K(d);this.Hd.push(kg(this.Xc,f))};Ph.I=new Oh;Ph.L=new (q());function Rh(a){this.a=a}function Sh(){}var Th=Rh.prototype;Th.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};Th.Da.prototype.ga=q();Th.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a};var Uh=Th.ua.prototype;
Uh.ga=function(){this.Dc=m;this.mode=this.zd=this.ps=this.El=this.dh=this.ro=0;var a=this;this.dg=function(b){a.Pj(b)};this.a.um(this.dg)};Uh.Pj=function(a){this.Dc==a&&(this.Dc=m)};Uh.eg=function(){this.Dc=m;this.a.Eo(this.dg)};Uh.Vc=q();
Uh.Vl=function(){if(this.Dc){this.zd!==this.e.o&&(this.El=L(this.El+(this.e.o-this.zd)));var a=this.e.x,b=this.e.y;if(3===this.mode||4===this.mode){var c=ya(this.e.x,this.e.y,this.Dc.x,this.Dc.y);if(c>this.dh||4===this.mode&&c<this.dh)b=ua(this.Dc.x,this.Dc.y,this.e.x,this.e.y),a=this.Dc.x+Math.cos(b)*this.dh,b=this.Dc.y+Math.sin(b)*this.dh}else a=this.Dc.x+Math.cos(this.Dc.o+this.ro)*this.dh,b=this.Dc.y+Math.sin(this.Dc.o+this.ro)*this.dh;this.zd=c=L(this.El+(this.Dc.o-this.ps));if((0===this.mode||
1===this.mode||3===this.mode||4===this.mode)&&(this.e.x!==a||this.e.y!==b))this.e.x=a,this.e.y=b,this.e.G();if((0===this.mode||2===this.mode)&&this.e.o!==c)this.e.o=c,this.e.G()}};Th.t=new (q());Sh.prototype.ht=function(a,b){if(a){var c=a.Uu();c&&(this.Dc=c,this.ro=ua(c.x,c.y,this.e.x,this.e.y)-c.o,this.dh=ya(c.x,c.y,this.e.x,this.e.y),this.zd=this.El=this.e.o,this.ps=c.o,this.mode=b)}};Th.I=new Sh;Th.L=new (q());function Vh(a){this.a=a}function Wh(){}function Xh(){}var Yh=Vh.prototype;
Yh.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};Yh.Da.prototype.ga=q();Yh.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a;this.Rl=this.Vo=this.Uo=this.rv=this.vj=this.kl=this.Ho=this.Dn=p;this.Ge=m;this.af=this.xj=this.wj=0;this.enabled=l;this.Nk=0;this.Bq=l;this.ea=this.J=0};var Zh=Yh.ua.prototype;
Zh.Ow=function(){this.xc=Math.cos(this.Sk);this.yc=Math.sin(this.Sk);this.hh=Math.cos(this.Sk-Math.PI/2);this.ih=Math.sin(this.Sk-Math.PI/2);this.xc=Ha(this.xc);this.yc=Ha(this.yc);this.hh=Ha(this.hh);this.ih=Ha(this.ih);this.Ou=this.Be;0>this.Be&&(this.xc*=-1,this.yc*=-1,this.Be=Math.abs(this.Be))};
Zh.ga=function(){this.Cl=this.P[0];this.ug=this.P[1];this.Hk=this.P[2];this.Fv=this.P[3];this.Ou=this.Be=this.P[4];this.Br=this.P[5];this.St=1===this.P[6];this.fm=p;this.Fs=this.a.ng(this.e);this.Sk=K(90);this.Ow();this.St&&!this.a.cc&&(jQuery(document).keydown(function(a){return function(c){a.io(c)}}(this)),jQuery(document).keyup(function(a){return function(c){a.jo(c)}}(this)));var a=this;this.dg=function(b){a.Pj(b)};this.a.um(this.dg)};Zh.Pj=function(a){this.Ge==a&&(this.Ge=m)};
Zh.eg=function(){this.Ge=m;this.a.Eo(this.dg)};Zh.io=function(a){switch(a.which){case 38:a.preventDefault();this.kl=l;break;case 37:a.preventDefault();this.Dn=l;break;case 39:a.preventDefault(),this.Ho=l}};Zh.jo=function(a){switch(a.which){case 38:a.preventDefault();this.vj=this.kl=p;break;case 37:a.preventDefault();this.Dn=p;break;case 39:a.preventDefault(),this.Ho=p}};Zh.fy=function(){return 0>this.Be?-1:1};
Zh.Yq=function(){var a=m,b=m,c,d;c=this.e.x;d=this.e.y;this.e.x+=this.xc;this.e.y+=this.yc;this.e.G();if(this.Ge&&this.a.Uc(this.e,this.Ge))return this.e.x=c,this.e.y=d,this.e.G(),this.Ge;a=this.a.Ec(this.e);!a&&0===this.Nk&&(b=this.a.ng(this.e,l));this.e.x=c;this.e.y=d;this.e.G();if(a)return this.a.Uc(this.e,a)?m:a;if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.a.Uc(this.e,b[a])||d++;if(1<=d)return b[0]}return m};
Zh.Vc=function(){var a=this.a.nj(this.e),b,c,d,e,f,g,h,i,j;!this.kl&&!this.Rl&&(this.vj=p);var k=this.Dn||this.Uo;d=this.Ho||this.Vo;var n=(this.kl||this.Rl)&&!this.vj;this.Rl=this.Vo=this.Uo=p;if(this.enabled){this.rv&&(n=d=k=p);i=this.Ge;j=p;this.Bq&&((this.a.Ec(this.e)||this.a.ng(this.e))&&this.a.Se(this.e,-this.xc,-this.yc,4,l),this.Bq=p);if(i&&0===this.ea&&(i.y!==this.xj||i.x!==this.wj))b=i.x-this.wj,c=i.y-this.xj,this.e.x+=b,this.e.y+=c,this.e.G(),this.wj=i.x,this.xj=i.y,j=l,this.a.Ec(this.e)&&
this.a.Se(this.e,-b,-c,2.5*Math.sqrt(b*b+c*c));var r=this.Yq();if(c=this.a.Ec(this.e))if(this.a.Yr(this.e,Math.max(this.e.width,this.e.height)/2))this.a.gh(this.e,c);else return;if(r){0<this.ea&&(this.fm||(this.a.Ao(this.e,-this.xc,-this.yc,r),this.fm=l),this.ea=0);if(i!=r)this.Ge=r,this.wj=r.x,this.xj=r.y,this.a.gh(this.e,r);else if(j&&(c=this.a.Ec(this.e)))this.a.gh(this.e,c),0!==b&&(0<b?this.a.Se(this.e,-this.hh,-this.ih):this.a.Se(this.e,this.hh,this.ih)),this.a.Se(this.e,-this.xc,-this.yc);n&&
(i=this.e.x,j=this.e.y,this.e.x-=this.xc,this.e.y-=this.yc,this.e.G(),this.a.Ec(this.e)?n=p:(this.ea=-this.Fv,this.a.trigger(Vh.prototype.t.Vs,this.e),this.af=2,this.vj=l),this.e.x=i,this.e.y=j,this.e.G())}else this.Ge=m,this.ea+=this.Be*a,this.ea>this.Br&&(this.ea=this.Br),n&&(this.vj=l);this.fm=!!r;k==d&&(0>this.J?(this.J+=this.Hk*a,0<this.J&&(this.J=0)):0<this.J&&(this.J-=this.Hk*a,0>this.J&&(this.J=0)));k&&!d&&(this.J=0<this.J?this.J-(this.ug+this.Hk)*a:this.J-this.ug*a);d&&!k&&(this.J=0>this.J?
this.J+(this.ug+this.Hk)*a:this.J+this.ug*a);this.J>this.Cl?this.J=this.Cl:this.J<-this.Cl&&(this.J=-this.Cl);if(0!==this.J){i=this.e.x;j=this.e.y;b=this.J*a*this.hh;c=this.J*a*this.ih;this.e.x+=this.hh*(1<this.J?1:-1)-this.xc;this.e.y+=this.ih*(1<this.J?1:-1)-this.yc;this.e.G();e=p;f=this.a.Ec(this.e);this.e.x=i+b;this.e.y=j+c;this.e.G();d=this.a.Ec(this.e);if(!d&&r&&(d=this.a.ng(this.e)))this.e.x=i,this.e.y=j,this.e.G(),this.a.Uc(this.e,d)?(d=m,e=p):e=l,this.e.x=i+b,this.e.y=j+c,this.e.G();if(d){if(k=
Math.abs(this.J*a)+2,f||!this.a.Se(this.e,-this.xc,-this.yc,k,e,d)){this.a.gh(this.e,d);k=Math.max(Math.abs(2.5*this.J*a),30);if(!this.a.Se(this.e,this.hh*(0>this.J?1:-1),this.ih*(0>this.J?1:-1),k,p))this.e.x=i,this.e.y=j,this.e.G();e||(this.J=0)}}else i=this.Yq(),r&&!i?(c=Math.ceil(Math.abs(this.J*a))+2,i=this.e.x,j=this.e.y,this.e.x+=this.xc*c,this.e.y+=this.yc*c,this.e.G(),this.a.Ec(this.e)||this.a.ng(this.e)?this.a.Se(this.e,-this.xc,-this.yc,c+2,l):(this.e.x=i,this.e.y=j,this.e.G())):i&&0===
this.ea&&this.a.Ao(this.e,-this.xc,-this.yc,i)}b=p;if(0!==this.ea){i=this.e.x;j=this.e.y;this.e.x+=this.ea*a*this.xc;this.e.y+=this.ea*a*this.yc;k=this.e.x;d=this.e.y;this.e.G();c=this.a.Ec(this.e);e=p;if(!c&&0<this.ea&&!r){if((e=0<this.Nk?m:this.a.ng(this.e,l))&&e.length){if(this.Fs){this.e.x=i;this.e.y=j;this.e.G();h=f=0;for(g=e.length;f<g;f++)e[h]=e[f],this.a.Uc(this.e,e[f])||h++;e.length=h;this.e.x=k;this.e.y=d;this.e.G()}1<=e.length&&(c=e[0])}e=!!c}c&&(this.a.gh(this.e,c),k=Math.max(Math.abs(2.5*
this.ea*a+10),30),this.a.Se(this.e,this.xc*(0>this.ea?1:-1),this.yc*(0>this.ea?1:-1),k,e,c)?(this.Ge=c,this.wj=c.x,this.xj=c.y,e&&(b=l)):(this.e.x=i,this.e.y=j,this.e.G(),this.fm=l),this.ea=0)}3!==this.af&&(0<this.ea&&!r)&&(this.a.trigger(Vh.prototype.t.Us,this.e),this.af=3);if(r||b)if(3===this.af||b||n&&0===this.ea)this.a.trigger(Vh.prototype.t.$s,this.e),this.af=0===this.J&&0===this.ea?0:1;else if(0!==this.af&&(0===this.J&&0===this.ea)&&(this.a.trigger(Vh.prototype.t.et,this.e),this.af=0),1!==this.af&&
(0!==this.J||0!==this.ea)&&!n)this.a.trigger(Vh.prototype.t.bt,this.e),this.af=1;0<this.Nk&&this.Nk--;this.Fs=this.a.ng(this.e)}};z=Wh.prototype;z.Vs=x(l);z.Us=x(l);z.et=x(l);z.bt=x(l);z.$s=x(l);Yh.t=new Wh;Xh.prototype.pk=function(a){switch(a){case 0:this.Uo=l;break;case 1:this.Vo=l;break;case 2:this.Rl=l}};Yh.I=new Xh;Yh.L=new (q());function Rb(a){this.a=a}var $h=Rb.prototype;$h.Da=function(a,b){this.sa=a;this.pi=b;this.a=a.a};$h.Da.prototype.ga=q();
$h.ua=function(a,b){this.type=a;this.sa=a.sa;this.e=b;this.a=a.a;this.e.pb.Gv=l};var ai=$h.ua.prototype;ai.ga=q();ai.Vc=q();$h.I=new (q());
function sb(){return[m,m,[[Vc,l,p,p,p,p,p,p,p,p],[rd,p,l,l,l,l,l,l,l,l],[vd,l,p,p,p,p,p,p,p,p],[ld,p,l,l,l,l,l,l,l,p],[N,p,l,l,l,l,l,l,l,p],[Jd,l,p,p,p,p,p,p,p,p],[tc,l,p,p,p,p,p,p,p,p],[Rc,l,p,p,p,p,p,p,p,p]],[["t0",N,p,0,3,0,m,[["Default",5,p,1,0,p,[["images/dummy-sheet0.png",1657,0,0,94,68,1,0.659574,0.514706,[],[],0]]]],[["Physics",Nh],["Platform",Vh],["Bullet",Td]],p,p,[]],["t1",N,p,0,1,0,m,[["Default",5,p,1,0,p,[["images/platform-sheet0.png",1089,0,0,64,32,1,0.515625,1,[],[-0.515625,-0.5625,
0.484375,-0.5625,0.484375,0,-0.515625,0],0]]]],[["Fade",Xd]],p,p,[]],["t2",vd,p,0,0,0,m,m,[],p,p,[],[1]],["t3",Rc,p,0,0,0,m,m,[],p,p,[],[]],["t4",Vc,p,0,0,0,m,m,[],p,p,[],[]],["t5",N,p,0,1,0,m,[["Default",5,p,1,0,p,[["images/dummysprite-sheet0.png",1657,0,0,94,68,1,0.659574,0.514706,[],[-0.446808,-0.514706,-0.446808,0.485294,-0.659574,0.485294,-0.659574,-0.514706],0]]]],[["Pin",Rh]],p,p,[]],["t6",ld,p,0,1,0,m,m,[["Anchor",Qd]],p,p,[]],["t7",Jd,p,0,0,0,m,m,[],p,p,[],[]],["t8",ld,p,0,1,0,m,m,[["Anchor",
Qd]],p,p,[]],["t9",rd,p,0,1,0,["images/tiledbackground.png",98,1],m,[["Anchor",Qd]],p,p,[]],["t10",tc,p,0,0,0,m,m,[],p,p,[],[0]],["t11",N,p,0,2,0,m,[["Default",5,p,1,0,p,[["images/platform2-sheet0.png",107,0,0,64,32,1,0.515625,1,[],[-0.515625,-0.5625,0.484375,-0.5625,0.484375,0,-0.515625,0],3]]]],[["Jumpthru",Rb],["Fade",Xd]],p,p,[]]],[],[["Layout 1",320,480,l,"Event sheet 1",[["BG",0,l,[255,255,255],l,1,1,1,p,1,0,0,[[[-96,-80,0,512,640,0,0,1,0,0,0,0,[]],9,[],[[0,0,1,1]],[0,0]]],[]],["Game",1,l,[255,
255,255],l,1,1,1,p,1,0,0,[[[160,336,0,63.9765,46.2809,0,-1.5708,0.2,0.659574,0.514706,0,0,[]],0,[],[[0,0,1,1,0.5,0.2,0,0.01,1],[290,1E4,1E4,800,1350,1250,0],[750,0,0,0,1]],[0,0,1]],[[160,336,0,63.9768,46.2812,0,-1.5708,1,0.659574,0.514706,0,0,[]],5,[],[[]],[0,0,1]],[[88,464,0,144,32,0,0,1,0.5,0.5,0,0,[]],6,[],[[0,0,1,1]],["Score",0,"12pt Arial","rgb(255,255,255)",0,0,1,0,0]],[[160,416,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[232,464,0,144,32,0,0,1,0.5,0.5,0,0,[]],8,[],[[0,
0,0,0]],["Record",0,"12pt Arial","rgb(255,255,255)",2,0,1,0,0]],[[144,320,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[144,48,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[144,160,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[176,240,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[160,112,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[176,-16,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,
0,1]],[[160,-80,0,64,32,0,0,1,0.515625,1,0,0,[]],1,[],[[0,0,0,0.15,1]],[0,0,1]],[[416,-80,0,64,32,0,0,1,0.515625,1,0,0,[]],11,[],[[],[1,0,0,0.75,1]],[0,0,1]]],[]],["UI",2,l,[255,255,255],l,0,0,1,p,1,0,0,[],[]]],[],[]]],[["Event sheet 1",[[1,"size",0,0.9,p,p],[1,"gravity",0,200,p,p],[1,"highScore",0,0,p,p],[1,"Score",0,0,p,p],[1,"Gap",0,0.3,p,p],[1,"Difficulty",0,0.005,p,p],[1,"PlatformX",0,0,p,p],[1,"MinScroll",0,999,p,p],[1,"NextPlatform",0,0,p,p],[0,m,p,[[-1,M.prototype.t.Dp,m,1,p,p,p]],[[0,Td.prototype.I.lt,
"Bullet",[[0,[0,270]]]],[5,Rh.prototype.I.ht,"Pin",[[4,0],[3,1]]],[-1,M.prototype.I.qe,m,[[11,"PlatformX"],[7,[19,M.prototype.L.random,[[6,[1,0.2],[19,M.prototype.L.Ad]],[6,[1,0.8],[19,M.prototype.L.Ad]]]]]]],[10,tc.prototype.I.Play,m,[[2,["caketown 1",l]],[3,1],[0,[0,-1]],[1,[2,"bgm"]]]]]],[0,m,p,[[7,Jd.prototype.t.Ls,m,0,p,p,p,[[1,[2,"record"]]]],[-1,M.prototype.t.tt,m,0,p,p,p]],[[-1,M.prototype.I.qe,m,[[11,"highScore"],[7,[19,M.prototype.L["int"],[[20,7,Jd.prototype.L.Ap,l,m,[[2,"record"]]]]]]]],
[8,ld.prototype.I.ok,m,[[7,[10,[10,[2,"Record: "],[23,"highScore"]],[20,7,Jd.prototype.L.Ap,l,m,[[23,"highScore"]]]]]]]]],[0,m,p,[[-1,M.prototype.t.Ki,m,0,p,p,p]],[[8,ld.prototype.I.ok,m,[[7,[10,[2,"Record: "],[23,"highScore"]]]]]]],[0,m,p,[[0,N.prototype.t.ik,m,0,p,p,p,[[8,2],[0,[23,"MinScroll"]]]]],[[-1,M.prototype.I.qe,m,[[11,"MinScroll"],[7,[20,0,N.prototype.L.tm,p,m]]]]],[[0,m,p,[[-1,M.prototype.t.Gs,m,0,p,p,p,[[7,[23,"NextPlatform"]],[8,5],[7,[19,M.prototype.L.op,[[2,"Game"]]]]]]],[[-1,M.prototype.I.Hs,
m,[[4,1],[5,[2,"Game"]],[0,[23,"PlatformX"]],[0,[19,M.prototype.L.op,[[2,"Game"]]]]]],[-1,M.prototype.I.qe,m,[[11,"NextPlatform"],[7,[5,[19,M.prototype.L.op,[[2,"Game"]]],[19,M.prototype.L.random,[[4,[0,50],[6,[0,5],[23,"Difficulty"]]],[4,[0,100],[6,[0,10],[23,"Difficulty"]]]]]]]]]],[[0,m,p,[[-1,M.prototype.t.rh,m,0,p,p,p,[[11,"Gap"],[8,4],[7,[1,0.4]]]]],[[-1,M.prototype.I.qe,m,[[11,"PlatformX"],[7,[19,M.prototype.L.random,[[6,[1,0.09],[19,M.prototype.L.Ad]],[6,[1,0.91],[19,M.prototype.L.Ad]]]]]]],
[1,N.prototype.I.nk,m,[[0,[19,M.prototype.L.random,[[23,"size"],[0,1]]]]]]]],[0,m,p,[[-1,M.prototype.t.Ki,m,0,p,p,p]],[[-1,M.prototype.I.qe,m,[[11,"Gap"],[7,[4,[1,0.3],[6,[1,0.175],[23,"Difficulty"]]]]]]],[[0,m,p,[[-1,M.prototype.t.rh,m,0,p,p,p,[[11,"PlatformX"],[8,3],[7,[6,[23,"Gap"],[19,M.prototype.L.Ad]]]]]],[[-1,M.prototype.I.qe,m,[[11,"PlatformX"],[7,[19,M.prototype.L.random,[[6,[1,0.1],[19,M.prototype.L.Ad]],[6,[4,[1,0.1],[23,"Gap"]],[19,M.prototype.L.Ad]]]]]]],[1,N.prototype.I.nk,m,[[0,[19,
M.prototype.L.random,[[23,"size"],[0,1]]]]]]]],[0,m,p,[[-1,M.prototype.t.Ki,m,0,p,p,p],[-1,M.prototype.t.rh,m,0,p,p,p,[[11,"PlatformX"],[8,5],[7,[6,[5,[0,1],[23,"Gap"]],[19,M.prototype.L.Ad]]]]]],[[-1,M.prototype.I.qe,m,[[11,"PlatformX"],[7,[19,M.prototype.L.random,[[6,[5,[1,0.9],[23,"Gap"]],[19,M.prototype.L.Ad]],[6,[1,0.9],[19,M.prototype.L.Ad]]]]]]],[1,N.prototype.I.nk,m,[[0,[19,M.prototype.L.random,[[23,"size"],[0,1]]]]]]]],[0,m,p,[[-1,M.prototype.t.Ki,m,0,p,p,p]],[[-1,M.prototype.I.qe,m,[[11,
"PlatformX"],[7,[19,M.prototype.L.random,[[5,[23,"PlatformX"],[6,[19,M.prototype.L.Ad],[7,[23,"Gap"],[0,2]]]],[4,[23,"PlatformX"],[6,[19,M.prototype.L.Ad],[7,[23,"Gap"],[0,2]]]]]]]]],[1,N.prototype.I.nk,m,[[0,[19,M.prototype.L.random,[[23,"size"],[0,1]]]]]]]]]]]]]],[0,m,p,[[-1,M.prototype.t.Is,m,0,p,p,p]],[[-1,M.prototype.I.kt,m,[[0,[0,160]],[0,[5,[23,"MinScroll"],[0,25]]]]]],[[0,m,p,[[-1,M.prototype.t.rh,m,0,p,p,p,[[11,"Difficulty"],[8,2],[7,[0,10]]]]],[[-1,M.prototype.I.tp,m,[[11,"Difficulty"],
[7,[1,0.002]]]]]],[0,m,p,[[-1,M.prototype.t.rh,m,0,p,p,p,[[11,"size"],[8,4],[7,[1,0.3]]]]],[[-1,M.prototype.I.qt,m,[[11,"size"],[7,[1,1E-4]]]]]]]],[0,m,l,[[5,N.prototype.t.Ks,m,0,p,p,p,[[4,1]]]],[[1,Xd.prototype.I.Np,"Fade"],[-1,M.prototype.I.tp,m,[[11,"Score"],[7,[0,100]]]],[6,ld.prototype.I.ok,m,[[7,[10,[2,"Score: "],[23,"Score"]]]]],[1,N.prototype.I.mt,m,[[3,0]]],[8,ld.prototype.I.ok,m,[[7,[10,[2,"Record: "],[23,"highScore"]]]]],[0,N.prototype.I.ot,m,[[4,11],[5,[0,0]],[7,[0,0]]]],[11,Xd.prototype.I.Np,
"Fade"]]],[0,m,l,[[3,Rc.prototype.t.zp,m,0,p,p,p,[[9,37]]],[0,N.prototype.t.wp,m,0,p,p,p,[[8,4],[0,[4,[20,4,Vc.prototype.L.qk,p,m],[0,2]]]]]],[[0,Vh.prototype.I.pk,"Platform",[[3,0]]]]],[0,m,l,[[3,Rc.prototype.t.zp,m,0,p,p,p,[[9,39]]],[0,N.prototype.t.wp,m,0,p,p,p,[[8,2],[0,[5,[20,4,Vc.prototype.L.qk,p,m],[0,2]]]]]],[[0,Vh.prototype.I.pk,"Platform",[[3,1]]]]],[0,m,p,[[2,vd.prototype.t.vp,m,0,p,p,p,[[3,2],[8,2],[0,[0,-8]]]]],[[0,Vh.prototype.I.pk,"Platform",[[3,0]]]]],[0,m,p,[[2,vd.prototype.t.vp,
m,0,p,p,p,[[3,2],[8,4],[0,[0,8]]]]],[[0,Vh.prototype.I.pk,"Platform",[[3,1]]]]],[0,m,p,[[1,N.prototype.t.km,m,0,p,l,p],[1,N.prototype.t.ik,m,0,p,p,p,[[8,4],[0,[19,M.prototype.L.np,[[2,"Game"]]]]]]],[[1,N.prototype.I.mc,m]]],[0,m,p,[[11,N.prototype.t.km,m,0,p,l,p],[11,N.prototype.t.ik,m,0,p,p,p,[[8,4],[0,[19,M.prototype.L.np,[[2,"Game"]]]]]]],[[11,N.prototype.I.mc,m]]],[0,m,p,[[0,N.prototype.t.km,m,0,p,l,p],[0,N.prototype.t.ik,m,0,p,p,p,[[8,4],[0,[19,M.prototype.L.np,[[2,"Game"]]]]]]],[[-1,M.prototype.I.it,
m],[-1,M.prototype.I.jt,m]]],[0,m,p,[[-1,M.prototype.t.rh,m,0,p,p,p,[[11,"Score"],[8,4],[7,[23,"highScore"]]]]],[[7,Jd.prototype.I.pt,m,[[1,[2,"record"]],[7,[23,"Score"]]]],[-1,M.prototype.I.qe,m,[[11,"highScore"],[7,[23,"Score"]]]]]]]]],"media/",p,320,480,3,l,l,l,"1.0",2,p,0,p,[]]};
