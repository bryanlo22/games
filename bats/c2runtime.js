// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa=void 0,h=!0,k=null,m=!1;function n(){return function(){}}function ba(a){return function(){return this[a]}}function u(a){return function(){return a}}var w,ca,da,z,B,ea,ga,G,ha,ia,I,ja,ka,la,ma,na,J,oa,pa,K,qa,ra,sa,ta,ua,va,L,wa,xa,M,Aa,Ba,Ca,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,N,Pa,Qa,Ra,O;"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
function Sa(a,b,c,d){this.set(a,b,c,d)}function Ta(){this.qa=this.pa=this.sa=this.ra=this.wa=this.va=this.V=this.U=0}function Ua(){this.cc={};this.Be=0;this.Ye=[];this.le=h}function Va(){this.Qa=this.og=this.y=this.Qg=0}function Wa(a){this.Da=[];this.oi(a)}ca=function(a){console&&console.log&&console.log(a)};da=function(a){return"undefined"===typeof a};z=function(a){return"number"===typeof a};B=function(a){return"string"===typeof a};ea=function(a){return 0<a&&0===(a-1&a)};
ga=function(a){return 0>a?-a:a};G=function(a,b){return a>b?a:b};ha=function(a,b){return a<b?a:b};ia=Math.PI;I=function(a){return a|0};ja=function(a,b,c,d,e,f,g,i){if(G(a,c)<ha(e,g)||ha(a,c)>G(e,g)||G(b,d)<ha(f,i)||ha(b,d)>G(f,i))return m;var j=e-a+g-c,l=f-b+i-d,a=c-a,b=d-b,e=g-e,f=i-f,i=ga(b*e-f*a);return ga(e*l-f*j)<=i&&ga(a*l-b*j)<=i};w=Sa.prototype;w.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};w.width=function(){return this.right-this.left};
w.height=function(){return this.bottom-this.top};w.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};w.In=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};w.Ya=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};w=Ta.prototype;w.ni=function(a){this.U=a.left;this.V=a.top;this.va=a.right;this.wa=a.top;this.ra=a.right;this.sa=a.bottom;this.pa=a.left;this.qa=a.bottom};
w.al=function(a,b){if(0===b)this.ni(a);else{var c=Math.sin(b),d=Math.cos(b),e=a.left*c,f=a.top*c,g=a.right*c,c=a.bottom*c,i=a.left*d,j=a.top*d,l=a.right*d,d=a.bottom*d;this.U=i-f;this.V=j+e;this.va=l-f;this.wa=j+g;this.ra=l-c;this.sa=d+g;this.pa=i-c;this.qa=d+e}};w.offset=function(a,b){this.U+=a;this.V+=b;this.va+=a;this.wa+=b;this.ra+=a;this.sa+=b;this.pa+=a;this.qa+=b;return this};
w.vj=function(a){a.left=ha(ha(this.U,this.va),ha(this.ra,this.pa));a.top=ha(ha(this.V,this.wa),ha(this.sa,this.qa));a.right=G(G(this.U,this.va),G(this.ra,this.pa));a.bottom=G(G(this.V,this.wa),G(this.sa,this.qa))};
w.Ya=function(a,b){var c=this.va-this.U,d=this.wa-this.V,e=this.ra-this.U,f=this.sa-this.V,g=a-this.U,i=b-this.V,j=c*c+d*d,l=c*e+d*f,d=c*g+d*i,p=e*e+f*f,r=e*g+f*i,q=1/(j*p-l*l),c=(p*d-l*r)*q,j=(j*r-l*d)*q;if(0<=c&&0<j&&1>c+j)return h;c=this.pa-this.U;d=this.qa-this.V;j=c*c+d*d;l=c*e+d*f;d=c*g+d*i;q=1/(j*p-l*l);c=(p*d-l*r)*q;j=(j*r-l*d)*q;return 0<=c&&0<j&&1>c+j};
w.rc=function(a,b){switch(a){case 0:return b?this.U:this.V;case 1:return b?this.va:this.wa;case 2:return b?this.ra:this.sa;case 3:return b?this.pa:this.qa;case 4:return b?this.U:this.V;default:return b?this.U:this.V}};w.Ek=function(){return(this.U+this.va+this.ra+this.pa)/4};w.Fk=function(){return(this.V+this.wa+this.sa+this.qa)/4};
w.Hn=function(a){var b=a.Ek(),c=a.Fk();if(this.Ya(b,c))return h;b=this.Ek();c=this.Fk();if(a.Ya(b,c))return h;var d,e,f,g,i,j,l,p;for(l=0;4>l;l++)for(p=0;4>p;p++)if(b=this.rc(l,h),c=this.rc(l,m),d=this.rc(l+1,h),e=this.rc(l+1,m),f=a.rc(p,h),g=a.rc(p,m),i=a.rc(p+1,h),j=a.rc(p+1,m),ja(b,c,d,e,f,g,i,j))return h;return m};ka=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};
la=function(a,b){var c,d,b=I(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};ma=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};na=function(a,b){var c=a.indexOf(b);-1!==c&&la(a,c)};J=function(a){return a/(180/ia)};oa=function(a){return a*(180/ia)};pa=function(a){a%=360;0>a&&(a+=360);return a};K=function(a){a%=2*ia;0>a&&(a+=2*ia);return a};qa=function(a){return pa(oa(a))};ra=function(a){return K(J(a))};
sa=function(a,b,c,d){return Math.atan2(d-b,c-a)};ta=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b),c=c*e+d*f;return 1<=c?0:-1>=c?ia:Math.acos(c)};ua=function(a,b,c){var d=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(d*f+e*g)>c?0<e*f-d*g?K(a+c):K(a-c):K(b)};va=function(a,b){var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b);return 0>=d*e-c*f};L=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};
wa=function(a,b){return!a!==!b};xa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};M=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};w=Ua.prototype;w.contains=function(a){return this.cc.hasOwnProperty(a.toString())};
w.add=function(a){var b=a.toString();this.cc.hasOwnProperty(b)||(this.cc[b]=a,this.Be++,this.le=m);return this};w.remove=function(a){a=a.toString();this.cc.hasOwnProperty(a)&&(delete this.cc[a],this.Be--,this.le=m);return this};w.clear=function(){xa(this.cc);this.Be=0;this.Ye.length=0;this.le=h;return this};w.xe=function(){return 0===this.Be};w.Ao=function(){if(!this.le){this.Ye.length=this.Be;var a,b=0;for(a in this.cc)this.cc.hasOwnProperty(a)&&(this.Ye[b++]=this.cc[a]);this.le=h}};
w.qd=function(){this.Ao();return this.Ye};Va.prototype.add=function(a){this.y=a-this.Qg;this.og=this.Qa+this.y;this.Qg=this.og-this.Qa-this.y;this.Qa=this.og};Va.prototype.reset=function(){this.Qa=this.og=this.y=this.Qg=0};Aa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};w=Wa.prototype;w.oi=function(a){this.Uk=a;this.gc=a.length/2;this.Da.length=a.length;this.hf=this.me=-1;this.wj=0};w.ze=function(){return!this.Uk.length};
w.lg=function(a,b,c,d,e){this.Da.length=8;this.gc=4;var f=this.Da;f[0]=a.U-b;f[1]=a.V-c;f[2]=a.va-b;f[3]=a.wa-c;f[4]=a.ra-b;f[5]=a.sa-c;f[6]=a.pa-b;f[7]=a.qa-c;this.me=d;this.hf=e};w.$k=function(a){this.gc=a.gc;ma(this.Da,a.Da)};w.ke=function(a,b,c){if(!(this.me===a&&this.hf===b&&this.wj===c)){this.me=a;this.hf=b;this.wj=c;var d,e,f,g=0,i=1,j=this.Uk,l=this.Da;0!==c&&(g=Math.sin(c),i=Math.cos(c));c=0;for(d=this.gc;c<d;c++)e=j[2*c]*a,f=j[2*c+1]*b,l[2*c]=e*i-f*g,l[2*c+1]=f*i+e*g}};
w.Ya=function(a,b){var c=this.Da;if(a===c[0]&&b===c[1])return h;var d=5*-this.me-1,e=5*-this.hf-1,f=5*this.me+1,g,i,j,l,p,r,q=0,t=0;p=0;for(r=this.gc;p<r;p++)g=c[2*p],i=c[2*p+1],j=c[2*((p+1)%r)],l=c[2*((p+1)%r)+1],ja(d,e,a,b,g,i,j,l)&&q++,ja(f,-1,a,b,g,i,j,l)&&t++;return 1===q%2||1===t%2};
w.hk=function(a,b,c){var d=a.Da,e=this.Da;if(this.Ya(d[0]+b,d[1]+c)||a.Ya(e[0]-b,e[1]-c))return h;var f,g,i,j,l,p,r,q,t,s,v,y;f=0;for(g=this.gc;f<g;f++){l=e[2*f];p=e[2*f+1];r=e[2*((f+1)%g)];q=e[2*((f+1)%g)+1];i=0;for(j=a.gc;i<j;i++)if(t=d[2*i]+b,s=d[2*i+1]+c,v=d[2*((i+1)%j)]+b,y=d[2*((i+1)%j)+1]+c,ja(l,p,r,q,t,s,v,y))return h}return m};var Xa="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Ba=function(a){return 0>=a||11<=a?"source-over":Xa[a-1]};
Ca=function(a,b,c){if(c)switch(a.Ea=c.ONE,a.ya=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Ea=c.ONE;a.ya=c.ONE;break;case 3:a.Ea=c.ONE;a.ya=c.ZERO;break;case 4:a.Ea=c.ONE_MINUS_DST_ALPHA;a.ya=c.ONE;break;case 5:a.Ea=c.DST_ALPHA;a.ya=c.ZERO;break;case 6:a.Ea=c.ZERO;a.ya=c.SRC_ALPHA;break;case 7:a.Ea=c.ONE_MINUS_DST_ALPHA;a.ya=c.ZERO;break;case 8:a.Ea=c.ZERO;a.ya=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ea=c.DST_ALPHA;a.ya=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ea=c.ONE_MINUS_DST_ALPHA,a.ya=c.SRC_ALPHA}};
Fa=function(a){return Math.round(1E6*a)/1E6};var Ya="undefined"!==typeof Float32Array?Float32Array:Array;function Za(a){var b=new Ya(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function $a(a){var b=new Ya(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function ab(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function bb(a,b){var c=b[0],d=b[1],b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function cb(a,b,c,d){d||(d=$a());var e,f,g,i,j,l,p,r,q=a[0],t=a[1],a=a[2];f=c[0];g=c[1];e=c[2];c=b[1];l=b[2];q===b[0]&&t===c&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=q-b[0],l=t-b[1],p=a-b[2],r=1/Math.sqrt(c*c+l*l+p*p),c*=r,l*=r,p*=r,b=g*p-e*l,e=e*c-f*p,f=f*l-g*c,(r=Math.sqrt(b*b+e*e+f*f))?(r=1/r,b*=r,e*=r,f*=r):f=e=b=0,g=l*f-p*e,i=p*b-c*f,j=c*e-l*b,(r=Math.sqrt(g*g+i*i+j*j))?(r=1/r,g*=r,i*=r,j*=r):j=i=g=0,
d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=i,d[6]=l,d[7]=0,d[8]=f,d[9]=j,d[10]=p,d[11]=0,d[12]=-(b*q+e*t+f*a),d[13]=-(g*q+i*t+j*a),d[14]=-(c*q+l*t+p*a),d[15]=1)}function db(a){this.height=this.width=0;this.xj=Za([0,0,100]);this.Ak=Za([0,0,0]);this.ml=Za([0,1,0]);this.Ni=Za([1,1,1]);this.Jh=$a();this.bb=$a();this.qk=$a();this.Xg=$a();this.o=a;this.ek()}
function eb(a,b,c){this.o=a;this.Se=b;this.name=c;this.ab=a.getAttribLocation(b,"aPos");this.zc=a.getAttribLocation(b,"aTex");this.yk=a.getUniformLocation(b,"matP");this.Md=a.getUniformLocation(b,"matMV");this.Nd=a.getUniformLocation(b,"opacity");this.zk=a.getUniformLocation(b,"samplerFront");this.Tf=a.getUniformLocation(b,"samplerBack");this.Ld=a.getUniformLocation(b,"destStart");this.Kd=a.getUniformLocation(b,"destEnd");this.Gh=a.getUniformLocation(b,"seconds");this.Fh=a.getUniformLocation(b,"pixelWidth");
this.Eh=a.getUniformLocation(b,"pixelHeight");this.Dh=a.getUniformLocation(b,"layerScale");this.Nd&&a.uniform1f(this.Nd,1);this.zk&&a.uniform1i(this.zk,0);this.Tf&&a.uniform1i(this.Tf,1);this.Ld&&a.uniform2f(this.Ld,0,0);this.Kd&&a.uniform2f(this.Kd,1,1);this.Vc=m}function fb(a,b){this.type=a;this.m=b;this.o=b.o;this.Jb=this.ib=this.Ok=0;this.r=this.pd=k;this.pi=[]}function gb(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1}w=db.prototype;
w.ek=function(){var a=this.o,b;this.rk=1;this.$c=k;this.Fj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Mp=a.getParameter(a.MAX_TEXTURE_SIZE);this.sk=a.ONE;this.pk=a.ONE_MINUS_SRC_ALPHA;this.Vh=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Vh);this.af=Array(4);this.Ve=Array(4);for(b=0;4>b;b++)this.af[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.af[b]),this.Ve[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Ve[b]);this.Xb=0;this.Gn=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Gn);this.Li=new Float32Array(16E3);this.zi=new Float32Array(16E3);this.ao=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Wh=this.Rb=0;this.ka=[];b=this.Tg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.ka.push(b);b=this.Tg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.ka.push(b);for(var e in hb)hb.hasOwnProperty(e)&&this.ka.push(this.Tg(hb[e],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,k);this.sc=[];this.Ub=0;this.$a=this.Oa=m;this.Gj=this.Fe=-1;this.oe=k;this.Zm=a.createFramebuffer();this.Xk=
k;this.Jc=Za([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.Np=a[0];this.Lp=a[1];this.Pb(0)};
w.Tg=function(a,b,c){var d=this.o,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),k;var f=d.createShader(d.VERTEX_SHADER);d.shaderSource(f,b);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(f),k;b=d.createProgram();d.attachShader(b,e);d.attachShader(b,f);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(f),
d.deleteProgram(b),k;d.useProgram(b);d.validateProgram(b);d.deleteShader(e);d.deleteShader(f);c=new eb(d,b,c);c.dh=a.dh||0;c.eh=a.eh||0;c.Ej=!!a.Ej;c.tj=!!a.tj;c.n=a.n||[];a=0;for(e=c.n.length;a<e;a++)c.n[a][1]=d.getUniformLocation(b,c.n[a][0]),d.uniform1f(c.n[a][1],0);return c};w.oh=function(a){var b,c;b=0;for(c=this.ka.length;b<c;b++)if(this.ka[b].name===a)return b;return-1};
w.Tk=function(a,b,c){var d=[0,0,this.width,this.height],e=this.bb,f=this.Jh,g=[0,0,0,0,0,0,0,0];g[0]=e[0]*a+e[4]*b+e[12];g[1]=e[1]*a+e[5]*b+e[13];g[2]=e[2]*a+e[6]*b+e[14];g[3]=e[3]*a+e[7]*b+e[15];g[4]=f[0]*g[0]+f[4]*g[1]+f[8]*g[2]+f[12]*g[3];g[5]=f[1]*g[0]+f[5]*g[1]+f[9]*g[2]+f[13]*g[3];g[6]=f[2]*g[0]+f[6]*g[1]+f[10]*g[2]+f[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],c[0]=(0.5*g[4]+0.5)*d[2]+d[0],c[1]=(0.5*g[5]+0.5)*d[3]+d[1])};
w.li=function(a,b,c){if(!(this.width===a&&this.height===b&&!c)){this.uc();this.width=a;this.height=b;this.o.viewport(0,0,a,b);var b=a/b,d=this.Jh,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=$a());var f=b-a,g=e-c;d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/g;d[6]=0;d[7]=0;d[8]=(b+a)/f;d[9]=(e+c)/g;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;cb(this.xj,this.Ak,this.ml,this.bb);a=[0,0];b=[0,0];this.Tk(0,0,a);this.Tk(1,1,b);this.Ni[0]=1/(b[0]-a[0]);this.Ni[1]=-1/(b[1]-a[1]);
a=0;for(b=this.ka.length;a<b;a++)c=this.ka[a],c.Vc=m,c.yk&&(this.o.useProgram(c.Se),this.o.uniformMatrix4fv(c.yk,m,this.Jh));this.o.useProgram(this.ka[this.Fe].Se);this.o.bindTexture(this.o.TEXTURE_2D,k);this.$c=k}};w.Ob=function(){cb(this.xj,this.Ak,this.ml,this.bb);bb(this.bb,this.Ni)};
w.translate=function(a,b){if(!(0===a&&0===b)){this.Jc[0]=a;this.Jc[1]=b;this.Jc[2]=0;var c=this.bb,d=this.Jc,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12];c[13]=c[1]*e+c[5]*f+c[9]*d+c[13];c[14]=c[2]*e+c[6]*f+c[10]*d+c[14];c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}};w.scale=function(a,b){1===a&&1===b||(this.Jc[0]=a,this.Jc[1]=b,this.Jc[2]=1,bb(this.bb,this.Jc))};
w.hi=function(a){if(0!==a){var b=this.bb,c,d=Math.sin(a),a=Math.cos(a),e=b[0],f=b[1],g=b[2],i=b[3],j=b[4],l=b[5],p=b[6],r=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+j*d;c[1]=f*a+l*d;c[2]=g*a+p*d;c[3]=i*a+r*d;c[4]=e*-d+j*a;c[5]=f*-d+l*a;c[6]=g*-d+p*a;c[7]=i*-d+r*a}};
w.Qb=function(){for(var a=m,b=0;16>b;b++)if(this.qk[b]!==this.bb[b]){a=h;break}a&&(a=this.sb(),a.type=5,a.r?ab(this.bb,a.r):a.r=$a(this.bb),ab(this.bb,this.qk),this.$a=this.Oa=m)};w=fb.prototype;w.xm=function(){this.o.bindTexture(this.o.TEXTURE_2D,this.pd)};w.um=function(){var a=this.Ok,b=this.m;b.Fj=a;b=b.oe;b.Nd&&this.o.uniform1f(b.Nd,a)};w.rm=function(){this.o.drawElements(this.o.TRIANGLES,this.Jb,this.o.UNSIGNED_SHORT,2*this.ib)};w.tm=function(){this.o.blendFunc(this.ib,this.Jb)};
w.zm=function(){var a,b,c,d=this.m.ka,e=this.m.Gj;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Md?(this.o.uniformMatrix4fv(c.Md,m,this.r),c.Vc=h):c.Vc=m;ab(this.r,this.m.Xg)};w.sm=function(){var a=this.o,b=this.m;this.pd?(a.bindFramebuffer(a.FRAMEBUFFER,b.Zm),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.pd,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,k,0),a.bindFramebuffer(a.FRAMEBUFFER,k))};
w.pm=function(){var a=this.o;0===this.ib?(a.clearColor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.r[0],this.r[1],this.r[2],this.r[3]),a.clearColor(0,0,0,0),a.clear(this.o.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};
w.qm=function(){var a=this.o,b=this.m,c=b.ka[1];a.useProgram(c.Se);!c.Vc&&c.Md&&(a.uniformMatrix4fv(c.Md,m,b.Xg),c.Vc=h);a.enableVertexAttribArray(c.ab);a.bindBuffer(a.ARRAY_BUFFER,b.Vh);a.vertexAttribPointer(c.ab,4,a.FLOAT,m,0,0);a.drawArrays(a.POINTS,this.ib/4,this.Jb);c=b.oe;a.useProgram(c.Se);0<=c.ab&&(a.enableVertexAttribArray(c.ab),a.bindBuffer(a.ARRAY_BUFFER,b.af[b.Xb]),a.vertexAttribPointer(c.ab,2,a.FLOAT,m,0,0));0<=c.zc&&(a.enableVertexAttribArray(c.zc),a.bindBuffer(a.ARRAY_BUFFER,b.Ve[b.Xb]),
a.vertexAttribPointer(c.zc,2,a.FLOAT,m,0,0))};w.vm=function(){var a=this.o,b=this.m,c=b.ka[this.ib];b.Gj=this.ib;b.oe=c;a.useProgram(c.Se);!c.Vc&&c.Md&&(a.uniformMatrix4fv(c.Md,m,b.Xg),c.Vc=h);c.Nd&&a.uniform1f(c.Nd,b.Fj);0<=c.ab&&(a.enableVertexAttribArray(c.ab),a.bindBuffer(a.ARRAY_BUFFER,b.af[b.Xb]),a.vertexAttribPointer(c.ab,2,a.FLOAT,m,0,0));0<=c.zc&&(a.enableVertexAttribArray(c.zc),a.bindBuffer(a.ARRAY_BUFFER,b.Ve[b.Xb]),a.vertexAttribPointer(c.zc,2,a.FLOAT,m,0,0))};
w.wm=function(){var a,b,c=this.m.oe,d=this.o;c.Tf&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.pd),d.activeTexture(d.TEXTURE0));c.Fh&&d.uniform1f(c.Fh,this.r[0]);c.Eh&&d.uniform1f(c.Eh,this.r[1]);c.Ld&&d.uniform2f(c.Ld,this.r[2],this.r[3]);c.Kd&&d.uniform2f(c.Kd,this.r[4],this.r[5]);c.Dh&&d.uniform1f(c.Dh,this.r[6]);c.Gh&&d.uniform1f(c.Gh,M()/1E3);if(c.n.length){a=0;for(b=c.n.length;a<b;a++)d.uniform1f(c.n[a][1],this.pi[a])}};w=db.prototype;
w.sb=function(){this.Ub===this.sc.length&&this.sc.push(new fb(0,this));return this.sc[this.Ub++]};
w.uc=function(){if(0!==this.Ub&&!this.o.isContextLost()){var a=this.o;0<this.Wh&&(a.bindBuffer(a.ARRAY_BUFFER,this.Vh),a.bufferData(a.ARRAY_BUFFER,this.ao.subarray(0,this.Wh),a.STREAM_DRAW),b&&(0<=b.ab&&"<point>"===b.name)&&a.vertexAttribPointer(b.ab,4,a.FLOAT,m,0,0));if(0<this.Rb){var b=this.oe;a.bindBuffer(a.ARRAY_BUFFER,this.af[this.Xb]);a.bufferData(a.ARRAY_BUFFER,this.Li.subarray(0,this.Rb),a.STREAM_DRAW);b&&(0<=b.ab&&"<point>"!==b.name)&&a.vertexAttribPointer(b.ab,2,a.FLOAT,m,0,0);a.bindBuffer(a.ARRAY_BUFFER,
this.Ve[this.Xb]);a.bufferData(a.ARRAY_BUFFER,this.zi.subarray(0,this.Rb),a.STREAM_DRAW);b&&(0<=b.zc&&"<point>"!==b.name)&&a.vertexAttribPointer(b.zc,2,a.FLOAT,m,0,0)}for(var c,a=0,b=this.Ub;a<b;a++)switch(c=this.sc[a],c.type){case 1:c.rm();break;case 2:c.xm();break;case 3:c.um();break;case 4:c.tm();break;case 5:c.zm();break;case 6:c.sm();break;case 7:c.pm();break;case 8:c.qm();break;case 9:c.vm();break;case 10:c.wm()}this.Wh=this.Rb=this.Ub=0;this.$a=this.Oa=m;this.Xb++;4<=this.Xb&&(this.Xb=0)}};
w.ld=function(a){if(a!==this.rk){var b=this.sb();b.type=3;this.rk=b.Ok=a;this.$a=this.Oa=m}};w.Ua=function(a){if(a!==this.$c){var b=this.sb();b.type=2;this.$c=b.pd=a;this.$a=this.Oa=m}};w.Dc=function(a,b){if(!(a===this.sk&&b===this.pk)){var c=this.sb();c.type=4;c.ib=a;c.Jb=b;this.sk=a;this.pk=b;this.$a=this.Oa=m}};w.Zk=function(){this.Dc(this.o.ONE,this.o.ONE_MINUS_SRC_ALPHA)};
w.gg=function(a,b,c,d,e,f,g,i){15992<=this.Rb&&this.uc();var j=this.Rb,l=this.Li,p=this.zi;if(this.Oa)this.sc[this.Ub-1].Jb+=6;else{var r=this.sb();r.type=1;r.ib=3*(j/4);r.Jb=6;this.Oa=h;this.$a=m}l[j]=a;p[j++]=0;l[j]=b;p[j++]=0;l[j]=c;p[j++]=1;l[j]=d;p[j++]=0;l[j]=e;p[j++]=1;l[j]=f;p[j++]=1;l[j]=g;p[j++]=0;l[j]=i;p[j++]=1;this.Rb=j};
w.Nb=function(a,b,c,d,e,f,g,i,j){15992<=this.Rb&&this.uc();var l=this.Rb,p=this.Li,r=this.zi;if(this.Oa)this.sc[this.Ub-1].Jb+=6;else{var q=this.sb();q.type=1;q.ib=3*(l/4);q.Jb=6;this.Oa=h;this.$a=m}p[l]=a;r[l++]=j.left;p[l]=b;r[l++]=j.top;p[l]=c;r[l++]=j.right;p[l]=d;r[l++]=j.top;p[l]=e;r[l++]=j.right;p[l]=f;r[l++]=j.bottom;p[l]=g;r[l++]=j.left;p[l]=i;r[l++]=j.bottom;this.Rb=l};
w.Pb=function(a){if(this.Fe!==a){if(!this.ka[a]){if(0===this.Fe)return;a=0}var b=this.sb();b.type=9;this.Fe=b.ib=a;this.$a=this.Oa=m}};w.Pe=function(a){a=this.ka[a];return!(!a.Ld&&!a.Kd)};w.Zh=function(a){return this.ka[a].Ej};w.fo=function(a){a=this.ka[a];return 0!==a.dh||0!==a.eh};w.ln=function(a){return this.ka[a].dh};w.mn=function(a){return this.ka[a].eh};w.nn=function(a,b){return this.ka[a].n[b][2]};w.dg=function(a){return this.ka[a].tj};
w.Ud=function(a,b,c,d,e,f,g,i,j){var l=this.ka[this.Fe];if(l.Fh||l.Eh||l.Gh||l.Tf||l.Ld||l.Kd||l.Dh||j.length){l=this.sb();l.type=10;l.r?ab(this.bb,l.r):l.r=$a();l.r[0]=b;l.r[1]=c;l.r[2]=d;l.r[3]=e;l.r[4]=f;l.r[5]=g;l.r[6]=i;l.pd=a;if(j.length){l.pi.length=j.length;a=0;for(b=j.length;a<b;a++)l.pi[a]=j[a]}this.$a=this.Oa=m}};w.clear=function(a,b,c,d){var e=this.sb();e.type=7;e.ib=0;e.r||(e.r=$a());e.r[0]=a;e.r[1]=b;e.r[2]=c;e.r[3]=d;this.$a=this.Oa=m};
w.clearRect=function(a,b,c,d){var e=this.sb();e.type=7;e.ib=1;e.r||(e.r=$a());e.r[0]=a;e.r[1]=b;e.r[2]=c;e.r[3]=d;this.$a=this.Oa=m};w.eo=function(){this.uc();this.o.flush()};var ib=[];w=db.prototype;
w.Rf=function(a,b,c,d){this.uc();var e=this.o,f=ea(a.width)&&ea(a.height),g=e.createTexture();e.bindTexture(e.TEXTURE_2D,g);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h);var i=e.RGBA,j=e.RGBA,l=e.UNSIGNED_BYTE;if(d)switch(d){case 1:j=i=e.RGB;break;case 2:l=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=e.UNSIGNED_SHORT_5_5_5_1;break;case 4:j=i=e.RGB,l=e.UNSIGNED_SHORT_5_6_5}!f&&b?(d=document.createElement("canvas"),d.width=gb(a.width),d.height=gb(a.height),d.getContext("2d").drawImage(a,0,0,a.width,
a.height,0,0,d.width,d.height),e.texImage2D(e.TEXTURE_2D,0,i,j,l,d)):e.texImage2D(e.TEXTURE_2D,0,i,j,l,a);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,b?e.REPEAT:e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,b?e.REPEAT:e.CLAMP_TO_EDGE);c?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),f?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,k);this.$c=k;g.je=a.width;g.ie=a.height;ib.push(g);return g};
w.Wb=function(a,b,c,d){this.uc();var e=this.o,f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,k);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,k);this.$c=k;f.je=
a;f.ie=b;ib.push(f);return f};w.Do=function(a,b,c){this.uc();var d=this.o;d.bindTexture(d.TEXTURE_2D,b);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,k);this.$c=k};w.deleteTexture=function(a){a&&(this.uc(),this.o.bindTexture(this.o.TEXTURE_2D,k),this.$c=k,this.o.deleteTexture(a),na(ib,a))};w.ic=function(a){if(a!==this.Xk){var b=this.sb();b.type=6;this.Xk=b.pd=a;this.$a=this.Oa=m}};
function P(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Yc="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.nb=!!a.dc;this.Ad="undefined"!==typeof window.AppMobi||this.nb;if(this.Xc=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.mi(h)}),CocoonJS.App.onActivated.addEventListener(function(){b.mi(m)});this.Ia=this.nb||this.Xc;this.uh=/android/i.test(navigator.userAgent);
this.Ip=/msie/i.test(navigator.userAgent);this.Lf=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.mk=/ipad/i.test(navigator.userAgent);this.Zc=this.Lf||this.mk;this.ik=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Kn=!this.ik&&/safari/i.test(navigator.userAgent);this.kk=/windows/i.test(navigator.userAgent);this.wh="undefined"!==typeof window.c2nodewebkit;this.Jn="undefined"!==typeof window.is_scirra_arcade;this.devicePixelRatio=1;this.Bd=
this.Yc||this.Ad||this.Xc||this.uh||this.Zc;this.Bd||(this.Bd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));this.canvas=a;this.yj=document.getElementById("c2canvasdiv");this.F=this.m=this.o=k;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return m};this.canvas.Nk=function(a){a.preventDefault&&a.preventDefault();return m};this.nb&&(window.c2runtime=this);this.width=a.width;this.height=a.height;this.Fd=this.width;
this.Ed=this.height;this.C=h;this.ye=m;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.$=[];this.Bh={};this.Id=[];this.ah={};this.Sc=[];this.nc=[];this.tg=[];this.Mg=[];this.Ab=new Ua;this.vh=m;this.ob=0;this.yh=m;this.zb=[];this.Fo=this.Sg=this.Vf=this.tc=this.Rc=0;this.We=1;this.yc=new Va;this.Of=0;this.Dk=h;this.$f=this.vf=this.bh=this.Di=this.Ge=this.hh=0;this.vd=k;this.pf=[];this.$g=[];this.rf=-1;this.Hh=[[]];this.Hi=this.Uf=0;this.fg(k);this.Jp=
[];this.Kp=-1;this.Zf=0;this.wk=h;this.qe=0;this.Te=[];this.Ei=this.bi=0;this.Ae=h;this.Sf=0;this.Ff=m;this.to=0;this.Af=m;this.Lh=new Ua;this.Mh=new Ua;this.hg=[];this.od=new Wa([]);this.yi=new Wa([]);this.Lg=[];this.pj={};this.qb=this.Ta=this.vk=this.Qf=this.L=k;this.ae=this.zh=m;this.jh=[k,k];this.ih=0;this.Sj="";this.ng=this.Jd=k;this.so="";this.load();this.devicePixelRatio=!this.Ia&&this.wg&&this.Zc?window.devicePixelRatio||1:1;this.Ra();var c;"undefined"!==typeof jQuery&&0<this.xc&&this.setSize(jQuery(window).width(),
jQuery(window).height());try{if(this.Bm&&!this.Ia){c={depth:m,antialias:!this.Bd};var d=h;if(this.ik&&this.kk){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString())d=m}d&&(this.o=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(f){}if(this.o){this.La=document.createElement("canvas");jQuery(this.La).appendTo(this.canvas.parentNode);
this.La.oncontextmenu=u(m);this.La.Nk=u(m);this.La.width=a.width;this.La.height=a.height;this.Sk();this.Sh=this.La.getContext("2d");this.m=new db(this.o);this.m.li(a.width,a.height);this.F=k;this.canvas.addEventListener("webglcontextlost",function(a){console.log("WebGL context lost");a.preventDefault();b.Rn();window.cr_setSuspended(h)},m);this.canvas.addEventListener("webglcontextrestored",function(){console.log("WebGL context restored");b.m.ek();b.m.li(b.m.width,b.m.height,h);b.Ta=k;b.qb=k;b.jh[0]=
k;b.jh[1]=k;b.Sn();b.C=h;window.cr_setSuspended(m)},m);var g,i,j,l,p,a=0;for(c=this.q.length;a<c;a++){g=this.q[a];d=0;for(e=g.G.length;d<e;d++)j=g.G[d],j.ua=this.m.oh(j.id),this.ae=this.ae||this.m.Pe(j.ua)}a=0;for(c=this.Id.length;a<c;a++){l=this.Id[a];d=0;for(e=l.G.length;d<e;d++)j=l.G[d],j.ua=this.m.oh(j.id);d=0;for(e=l.M.length;d<e;d++){p=l.M[d];g=0;for(i=p.G.length;g<i;g++)j=p.G[g],j.ua=this.m.oh(j.id),this.ae=this.ae||this.m.Pe(j.ua)}}}else{if(0<this.xc&&this.nb){this.canvas=k;document.oncontextmenu=
u(m);document.Nk=u(m);this.F=AppMobi.canvas.getContext("2d");try{this.F.samplingMode=this.Y?"smooth":"sharp",this.F.globalScale=1,this.F.HTML5CompatibilityMode=h}catch(r){}0!==this.width&&0!==this.height&&(this.F.width=this.width,this.F.height=this.height)}this.F||(this.Xc?(c={antialias:!!this.Y},this.F=a.getContext("2d",c)):this.F=a.getContext("2d"),this.F.webkitImageSmoothingEnabled=this.Y,this.F.mozImageSmoothingEnabled=this.Y,this.F.msImageSmoothingEnabled=this.Y,this.F.imageSmoothingEnabled=
this.Y);this.Sh=this.La=k}var q=this;this.gl=function(){q.Wa()};this.go();this.S={}}}
P.prototype.setSize=function(a,b){var c=this.Dn&&this.Lf&&!navigator.standalone&&!this.Ia&&!this.Yc,d=0;c&&(this.Lf?d=60:this.uh&&(d=56),b+=d);var e=0,f=0,g=0,i=0,j=0,j=this.xc,l=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Ff;l&&0<this.ih&&(j=this.ih);3<=j?(g=this.gb/this.fb,a/b>g?(g*=b,4===j?(j=g/this.gb,1<j?j=Math.floor(j):1>j&&(j=1/Math.ceil(1/j)),g=this.gb*j,i=this.fb*j,e=(a-g)/2,f=(b-i)/2,a=g,b=i):(e=(a-g)/2,a=g)):(i=a/g,4===j?(j=i/this.fb,1<j?j=Math.floor(j):
1>j&&(j=1/Math.ceil(1/j)),g=this.gb*j,i=this.fb*j,e=(a-g)/2,f=(b-i)/2,a=g):f=(b-i)/2,b=i),l&&!this.wh&&(f=e=0),e=Math.floor(e),f=Math.floor(f),a=Math.floor(a),b=Math.floor(b)):this.wh&&(this.Ff&&0===this.Wj)&&(e=Math.floor((a-this.gb)/2),f=Math.floor((b-this.fb)/2),a=this.gb,b=this.fb);if((l=!this.Ia&&this.wg&&this.Zc)&&this.mk&&1<this.devicePixelRatio)1024<=a&&(a=1023),1024<=b&&(b=1023);g=this.devicePixelRatio;this.width=a*g;this.height=b*g;this.C=h;this.yj&&!this.Ia&&(jQuery(this.yj).css({width:a+
"px",height:b+"px","margin-left":e,"margin-top":f}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*g,this.canvas.height=b*g,l&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.La&&(this.La.width=a,this.La.height=b);this.m&&this.m.li(a,b);this.nb&&this.F&&(this.F.width=a,this.F.height=b);this.F&&(this.F.webkitImageSmoothingEnabled=this.Y,this.F.mozImageSmoothingEnabled=this.Y,this.F.msImageSmoothingEnabled=this.Y,
this.F.imageSmoothingEnabled=this.Y);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};P.prototype.Rn=function(){this.zh=h;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.ag&&c.ag()};P.prototype.Sn=function(){this.zh=m;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.Qh&&c.Qh()};
P.prototype.Sk=function(){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Ff?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.La).css(a)};var jb=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
P.prototype.setSuspended=function(a){var b;if(a&&!this.ye){this.ye=h;0!==this.bi&&jb&&jb(this.bi);0!==this.Ei&&clearTimeout(this.Ei);a=0;for(b=this.Te.length;a<b;a++)this.Te[a](h)}else if(!a&&this.ye){this.ye=m;this.Of=M();this.Ge=M();a=this.vf=0;for(b=this.Te.length;a<b;a++)this.Te[a](m);this.Wa()}};w=P.prototype;w.cm=function(a){this.Te.push(a)};
w.load=function(){var a=kb();this.name=a[0];this.Uj=a[1];this.xc=a[11];this.Wj=a[11];this.Ia&&3<=a[11]&&(ca("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale'"),this.Wj=this.xc=2);this.Ji=a[17];this.He=a[18];0===this.He&&(this.Jd=new Image,this.Jd.src="logo.png");this.nd=new Q(this);var b,c,d,e,f,g,i,j,l;b=0;for(c=a[2].length;b<c;b++)i=a[2][b],lb(i),l=new i[0](this),l.ti=i[1],l.Kf=i[2],l.Gk=i[9],l.v&&l.v(),this.plugins.push(l);a=kb();b=0;for(c=
a[3].length;b<c;b++){i=a[3][b];f=i[1];l=k;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){l=this.plugins[d];break}var p=new l.P(l);p.name=i[0];p.K=i[2];p.Co=i[3];p.em=i[4];p.an=i[5];p.K?(p.Wf=[],p.Eb=this.qe++,p.ia=k):(p.Wf=k,p.Eb=-1,p.ia=[]);p.tf=k;p.yd=k;p.Oj=k;p.pb=m;p.Sa=k;i[6]?(p.Ai=i[6][0],p.Bi=i[6][1],p.Ci=i[6][2]):(p.Ai=k,p.Bi=0,p.Ci=0);p.ca=i[7]?i[7]:k;p.index=b;p.c=[];p.nf=[];p.Hc=[new Ga(p)];p.Yb=0;p.Bb=k;p.md=h;p.ug=mb;p.gn=nb;p.kn=ob;p.H=pb;p.Qe=qb;p.eg=rb;p.fd=
sb;p.xf=tb;p.kh=ub;p.Yj=vb;p.qc=wb;p.S={};p.toString=xb;p.$=[];d=0;for(e=i[8].length;d<e;d++){j=i[8][d];var r=j[1],q=k;f=0;for(g=this.$.length;f<g;f++)if(this.$[f]instanceof r){q=this.$[f];break}q||(q=new r(this),q.Ke=new Ua,q.v&&q.v(),this.$.push(q));f=new q.P(q,p);f.name=j[0];f.v();p.$.push(f)}p.global=i[9];p.xh=i[10];p.G=[];d=0;for(e=i[11].length;d<e;d++)p.G.push({id:i[11][d][0],name:i[11][d][1],ua:-1,ee:h,index:d});(!this.Ji||p.K||p.xh||!l.Kf)&&p.v();p.name&&(this.types[p.name]=p);this.q.push(p);
l.ti&&(d=new l.I(p),d.uid=this.Zf,this.Zf++,d.ue=0,d.zf=yb,d.toString=zb,d.w=i[12],d.v(),p.c.push(d))}b=0;for(c=a[4].length;b<c;b++){f=a[4][b];g=this.q[f[0]];d=1;for(e=f.length;d<e;d++)i=this.q[f[d]],i.ia.push(g),g.Wf.push(i)}b=0;for(c=a[20].length;b<c;b++){f=a[20][b];g=[];d=0;for(e=f.length;d<e;d++)g.push(this.q[f[d]]);d=0;for(e=g.length;d<e;d++)g[d].pb=h,g[d].Sa=g}if(0<this.qe){b=0;for(c=this.q.length;b<c;b++)if(i=this.q[b],!i.K&&i.ia.length){i.tf=Array(this.qe);i.yd=Array(this.qe);i.Oj=Array(this.qe);
p=[];d=q=r=j=0;for(e=i.ia.length;d<e;d++){l=i.ia[d];i.tf[l.Eb]=j;j+=l.Co;i.yd[l.Eb]=r;r+=l.em;i.Oj[l.Eb]=q;q+=l.an;f=0;for(g=l.G.length;f<g;f++)p.push(ka({},l.G[f]))}i.G=p.concat(i.G);d=0;for(e=i.G.length;d<e;d++)i.G[d].index=d}}b=0;for(c=a[5].length;b<c;b++)i=a[5][b],d=new Ha(this,i),this.Bh[d.name]=d,this.Id.push(d);b=0;for(c=a[6].length;b<c;b++)i=a[6][b],d=new Ia(this,i),this.ah[d.name]=d,this.Sc.push(d);b=0;for(c=this.Sc.length;b<c;b++)this.Sc[b].aa();b=0;for(c=this.tg.length;b<c;b++)this.tg[b].aa();
this.tg.length=0;this.Sj=a[7];this.Lb=a[8];this.gb=a[9];this.fb=a[10];this.Og=1;this.Bm=a[12];this.Y=a[13];this.Aj=a[14];this.Up=a[15];b=a[16];2===b&&(b=this.Lf?1:0);this.wg=0!==b;this.Dn=a[19];this.wi=Date.now()};w.$m=function(a){var b,c;b=0;for(c=this.nc.length;b<c;b++)if(this.nc[b].jm===a)return this.nc[b];return k};
w.uj=function(){var a=0,b=0,c=h,d,e;d=0;for(e=this.nc.length;d<e;d++){var f=this.nc[d].Cj;if(!f||0>=f)f=5E4;a+=f;this.nc[d].complete||this.nc[d].loaded?b+=f:c=m}this.gd=0==a?0:b/a;return c};
w.go=function(){if(this.F||this.m){var a=this.F||this.Sh;this.La&&this.Sk();this.gd=0;this.tk=-1;if(this.uj())this.Bn();else{var b=Date.now()-this.wi;if(3!==this.He&&500<=b&&this.tk!=this.gd){a.clearRect(0,0,this.width,this.height);var b=this.width/2,c=this.height/2,d=0===this.He&&this.Jd.complete,e=40,f=0,g=80;d&&(g=this.Jd.width,e=g/2,f=this.Jd.height/2,a.drawImage(this.Jd,I(b-e),I(c-f)));1>=this.He?(b=I(b-e)+0.5,c=I(c+(f+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(g*this.gd),
6),a.strokeStyle="black",a.strokeRect(b,c,g,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,g+2,8)):2===this.He&&(a.font="12pt Arial",a.fillStyle="#999",a.Qp="middle",d=Math.round(100*this.gd)+"%",e=a.measureText?a.measureText(d):k,a.fillText(d,b-(e?e.width:0)/2,c));this.tk=this.gd}var i=this;setTimeout(function(){i.go()},100)}}};
w.Bn=function(){this.La&&(this.canvas.parentNode.removeChild(this.La),this.La=this.Sh=k);this.wi=Date.now();this.Ge=M();var a,b,c;if(this.Ji){a=0;for(b=this.q.length;a<b;a++)c=this.q[a],!c.K&&(!c.xh&&c.ta.Kf)&&c.v()}else this.Ae=m;a=0;for(b=this.Id.length;a<b;a++)this.Id[a].km();this.Uj?this.Bh[this.Uj].vi():this.Id[0].vi();this.Ji||(this.Sf=1,this.trigger(Q.prototype.d.aj,k));this.Wa();this.nb&&AppMobi.webview.execute("onGameReady();")};
var Ab=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;w=P.prototype;
w.Wa=function(){if(this.Jn){var a=jQuery(window).width(),b=jQuery(window).height();if(this.Fd!==a||this.Ed!==b)this.Fd=a,this.Ed=b,this.setSize(a,b)}a=M();this.Ae&&(b=this.uj(),this.Sf=this.gd,b&&(this.Ae=m,this.gd=1,this.trigger(Q.prototype.d.aj,k)));this.Qn();if((this.C||this.Xc)&&!this.zh)this.C=m,this.m?this.Za():this.Cb(),this.ng&&(this.canvas&&this.canvas.toDataURL&&(this.so=this.canvas.toDataURL(this.ng[0],this.ng[1]),this.trigger(Q.prototype.d.Al,k)),this.ng=k);this.Di++;this.bh++;this.vf++;
this.Vf+=M()-a;this.ye||(Ab?this.bi=Ab(this.gl,this.canvas):this.Ei=setTimeout(this.gl,this.Bd?1:16))};
w.Qn=function(){var a,b,c,d,e,f,g,i;a=M();1E3<=a-this.Ge&&(this.Ge+=1E3,this.hh=this.vf,this.vf=0,this.Sg=this.Vf,this.Vf=0);this.Dk&&(0!==this.Of&&(b=a-this.Of,0===b?(this.Fo++,10<=this.Vp&&(this.Dk=m),this.tc=1/60):(this.tc=b/1E3,0.5<this.tc?this.tc=0:0.1<this.tc&&(this.tc=0.1))),this.Of=a);this.Rc=this.tc*this.We;this.yc.add(this.Rc);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Ff;2<=this.xc||a&&0<this.ih?(this.Og=this.width/this.height>this.gb/this.fb?this.height/
this.fb:this.width/this.gb,this.L&&(this.L.qo(this.L.scrollX),this.L.ro(this.L.scrollY))):this.Og=1;this.Ra();this.ob++;this.nd.lo();this.ob--;this.Ra();this.ob++;a=0;for(b=this.q.length;a<b;a++)if(g=this.q[a],g.$.length){c=0;for(d=g.c.length;c<d;c++){var j=g.c[c];e=0;for(f=j.la.length;e<f;e++)j.la[e].Wa()}}c=this.Lh.qd();a=0;for(b=c.length;a<b;a++)c[a].Wa();this.ob--;for(a=0;this.vd&&10>a++;){this.L.uo();c=0;for(d=this.q.length;c<d;c++)g=this.q[c],g.Ii&&-1===this.vd.ve.indexOf(g)&&g.Ii();this.vd.vi();
a=0;for(b=this.q.length;a<b;a++)if(g=this.q[a],g.global||g.ta.ti){c=0;for(d=g.c.length;c<d;c++)j=g.c[c],j.Tn&&j.Tn()}this.wk=this.C=h;this.Ra()}a=0;for(b=this.Sc.length;a<b;a++)this.Sc[a].sh=m;this.L.qf&&this.L.qf.fa();this.hg.length=0;this.wk=m;this.ob++;a=0;for(b=this.q.length;a<b;a++)if(g=this.q[a],g.$.length){c=0;for(d=g.c.length;c<d;c++){j=g.c[c];e=0;for(f=j.la.length;e<f;e++)i=j.la[e],i.qg&&i.qg()}}c=this.Mh.qd();a=0;for(b=c.length;a<b;a++)c[a].qg();this.ob--};w.Yd=function(a){this.Lh.add(a)};
w.wo=function(a){this.Mh.add(a)};w.yf=function(a){return!a||-1===a.Yf?this.Rc:this.tc*a.Yf};w.Cb=function(){this.L.Cb(this.F);this.nb&&this.F.present()};w.Za=function(){this.L.Za(this.m)};w.Kg=function(a){a&&this.pf.push(a)};w.Wk=function(a){na(this.pf,a)};w.rd=function(a){var b,c;if(!this.Ab.contains(a)){this.Ab.add(a);if(a.pb){b=0;for(c=a.siblings.length;b<c;b++)this.rd(a.siblings[b])}this.vh&&this.Ab.Ye.push(a);this.ob++;this.trigger(Object.getPrototypeOf(a.type.ta).d.Cl,a);this.ob--}};
w.Ra=function(){var a,b,c,d,e,f,g,i,j,l;this.vh=h;d=0;for(f=this.zb.length;d<f;d++){a=this.zb[d];b=a.type;b.c.push(a);b.md=h;e=0;for(g=b.ia.length;e<g;e++)b.ia[e].c.push(a),b.ia[e].md=h}this.zb.length=0;f=this.Ab.qd();for(d=0;d<f.length;d++){a=f[d];b=a.type;c=b.c;e=0;for(g=this.pf.length;e<g;e++)this.pf[e](a);na(c,a);a.g&&(la(a.g.c,a.$b()),a.g.Lc=h);e=0;for(g=b.ia.length;e<g;e++)na(b.ia[e].c,a),b.ia[e].md=h;if(a.la){e=0;for(g=a.la.length;e<g;e++)c=a.la[e],c.dd&&c.dd(),c.Z.Ke.remove(a)}this.Lh.remove(a);
this.Mh.remove(a);e=0;for(g=this.nd.Sb.length;e<g;e++)if(j=this.nd.Sb[e],j.Gc.hasOwnProperty(b.index)&&na(j.Gc[b.index],a),!b.K){c=0;for(i=b.ia.length;c<i;c++)l=b.ia[c],j.Gc.hasOwnProperty(l.index)&&na(j.Gc[l.index],a)}a.dd&&a.dd();this.$f--;32>b.nf.length&&b.nf.push(a);b.md=h}this.Ab.xe()||(this.C=h);this.Ab.clear();this.vh=m};w.Dj=function(a,b,c,d){if(a.K){var e=I(Math.random()*a.Wf.length);return this.Dj(a.Wf[e],b,c,d)}return!a.Bb?k:this.xd(a.Bb,b,m,c,d)};var Bb=[];w=P.prototype;
w.xd=function(a,b,c,d,e,f){var g,i,j,l;if(!a)return k;var p=this.q[a[1]],r=p.ta.Kf;if(this.Ae&&r&&!p.xh||r&&!this.m&&11===a[0][11])return k;r||(b=k);var q,t=m;p.nf.length?(q=p.nf.pop(),t=h,p.ta.I.call(q,p)):q=new p.ta.I(p);q.uid=this.Zf;this.Zf++;q.ue=0;q.zf=yb;p.md=h;j=a[2];if(t){g=0;for(i=j.length;g<i;g++)q.mb[g]=j[g];xa(q.S)}else q.mb=j.slice(0),q.S={};if(r){var s=a[0];q.x=da(d)?s[0]:d;q.y=da(e)?s[1]:e;q.rl=s[2];q.width=s[3];q.height=s[4];q.depth=s[5];q.e=s[6];q.opacity=s[7];q.Hb=s[8];q.Ib=s[9];
q.yb=s[10];g=s[11];!this.m&&p.G.length&&(q.yb=g);q.lf=Ba(q.yb);this.o&&Ca(q,q.yb,this.o);if(t){g=0;for(i=s[12].length;g<i;g++){j=0;for(l=s[12][g].length;j<l;j++)q.Ba[g][j]=s[12][g][j]}q.D.set(0,0,0,0);q.xa.ni(q.D);q.gf.length=0}else{q.Ba=s[12].slice(0);g=0;for(i=q.Ba.length;g<i;g++)q.Ba[g]=s[12][g].slice(0);q.B=[];q.td=[];q.td.length=p.G.length;q.D=new Sa(0,0,0,0);q.xa=new Ta;q.gf=[];q.i=Cb;q.zp=Db;q.Ya=Eb;q.mc=Fb;q.$b=Gb}g=0;for(i=p.G.length;g<i;g++)q.td[g]=h;q.$d=Hb;q.$d();q.nl=!!q.B.length;q.Pg=
h;q.visible=h;q.Yf=-1;q.g=b;q.Oi=b.c.length;"undefined"===typeof q.Q&&(q.Q=k);this.C=q.wd=h}q.toString=zb;var v;g=Bb.length=0;for(i=p.ia.length;g<i;g++)Bb.push.apply(Bb,p.ia[g].$);Bb.push.apply(Bb,p.$);if(t){g=0;for(i=Bb.length;g<i;g++){var y=Bb[g];v=q.la[g];y.Z.I.call(v,y,q);s=a[3][g];j=0;for(l=s.length;j<l;j++)v.w[j]=s[j];v.v();y.Z.Ke.add(q)}}else{q.la=[];g=0;for(i=Bb.length;g<i;g++)y=Bb[g],v=new y.Z.I(y,q),v.w=a[3][g].slice(0),v.v(),q.la.push(v),y.Z.Ke.add(q)}s=a[4];if(t){g=0;for(i=s.length;g<
i;g++)q.w[g]=s[g]}else q.w=s.slice(0);this.zb.push(q);b&&b.c.push(q);this.$f++;if(p.pb){if(q.pb=h,q.siblings=[],!c&&!f){g=0;for(i=p.Sa.length;g<i;g++)if(p.Sa[g]!==p){if(!p.Sa[g].Bb)return k;q.siblings.push(this.xd(p.Sa[g].Bb,b,m,r?q.x:d,r?q.y:e,h))}g=0;for(i=q.siblings.length;g<i;g++){q.siblings[g].siblings.push(q);for(j=0;j<i;j++)g!==j&&q.siblings[g].siblings.push(q.siblings[j])}}}else q.pb=m,q.siblings=k;q.v();g=0;for(i=q.la.length;g<i;g++)q.la[g].co&&q.la[g].co();return q};
w.nh=function(a){var b,c;b=0;for(c=this.L.M.length;b<c;b++){var d=this.L.M[b];if(d.name.toLowerCase()===a.toLowerCase())return d}return k};w.re=function(a){a=I(a);0>a&&(a=0);a>=this.L.M.length&&(a=this.L.M.length-1);return this.L.M[a]};w.Rg=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].H().O=h};w.Qe=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Qe()};w.eg=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].eg()};w.fd=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].fd()};
w.vo=function(a,b,c){var d=a.H(),e,f,g,i,j,l;if(d.O){d.O=m;e=d.c.length=0;for(i=a.c.length;e<i;e++)g=a.c[e],g.mc(),j=g.g.Ma(b,c,h),l=g.g.Ma(b,c,m),g.Ya(j,l)&&d.c.push(g)}else{e=f=0;for(i=d.c.length;e<i;e++)g=d.c[e],g.mc(),j=g.g.Ma(b,c,h),l=g.g.Ma(b,c,m),g.Ya(j,l)&&(d.c[f]=d.c[e],f++);d.c.length=f}a.qc();return d.rh()};
w.Fa=function(a,b){if(!a||!b||a===b||!a.wd||!b.wd)return m;a.mc();b.mc();var c=a.g,d=b.g,e,f,g,i,j,l;if(c!==d&&(c.Ac!==d.Ac||d.Bc!==d.Bc||c.scale!==d.scale||c.e!==d.e||c.oc!==d.oc)){j=a.Q&&!a.Q.ze();e=b.Q&&!b.Q.ze();j?(a.Q.ke(a.width,a.height,a.e),this.od.$k(a.Q)):this.od.lg(a.xa,a.x,a.y,a.width,a.height);j=this.od;e?(b.Q.ke(b.width,b.height,b.e),this.yi.$k(b.Q)):this.yi.lg(b.xa,b.x,b.y,b.width,b.height);l=this.yi;e=0;for(f=j.gc;e<f;e++)g=j.Da[2*e],i=j.Da[2*e+1],j.Da[2*e]=c.T(g+a.x,i+a.y,h),j.Da[2*
e+1]=c.T(g+a.x,i+a.y,m);e=0;for(f=l.gc;e<f;e++)g=l.Da[2*e],i=l.Da[2*e+1],l.Da[2*e]=d.T(g+b.x,i+b.y,h),l.Da[2*e+1]=d.T(g+b.x,i+b.y,m);return j.hk(l,0,0)}if(!a.D.In(b.D)||!a.xa.Hn(b.xa))return m;j=a.Q&&!a.Q.ze();e=b.Q&&!b.Q.ze();if(!j&&!e)return h;j?(a.Q.ke(a.width,a.height,a.e),j=a.Q):(this.od.lg(a.xa,a.x,a.y,a.width,a.height),j=this.od);e?(b.Q.ke(b.width,b.height,b.e),l=b.Q):(this.od.lg(b.xa,b.x,b.y,b.width,b.height),l=this.od);return j.hk(l,b.x-a.x,b.y-a.y)};new Ta;
P.prototype.on=function(){if(!Ib)return k;var a,b;a=0;for(b=this.$.length;a<b;a++)if(this.$[a]instanceof Ib)return this.$[a];return k};P.prototype.Ga=function(a){var b=this.on();if(!b)return k;var c,d,e=b.Ke.qd(),b=0;for(c=e.length;b<c;++b)if(d=e[b],d.S.dl&&this.Fa(a,d))return d;return k};var Jb=[];w=P.prototype;
w.kc=function(a,b){var c=k,d,e;if(!Kb)return k;d=0;for(e=this.$.length;d<e;d++)if(this.$[d]instanceof Kb){c=this.$[d];break}if(!c)return k;var f=k;b&&(f=Jb,f.length=0);var g=c.Ke.qd();d=0;for(e=g.length;d<e;++d)if(c=g[d],c.S.nk&&this.Fa(a,c))if(b)f.push(c);else return c;return f};
w.Mb=function(a,b,c,d,e,f){var d=d||50,g=a.x,i=a.y,j,l=k,p=k;for(j=0;j<d;j++)if(a.x=g+b*j,a.y=i+c*j,a.i(),!this.Fa(a,l)&&((l=this.Ga(a))&&(p=l),!l&&(e&&(l=f?this.Fa(a,f)?f:k:this.kc(a))&&(p=l),!l)))return p&&this.ai(a,b,c,p),h;a.x=g;a.y=i;a.i();return m};w.ai=function(a,b,c,d){var e=2,f,g=m;f=m;for(var i=a.x,j=a.y;16>=e;)f=1/e,e*=2,a.x+=b*f*(g?1:-1),a.y+=c*f*(g?1:-1),a.i(),this.Fa(a,d)?f=g=h:(f=g=m,i=a.x,j=a.y);f&&(a.x=i,a.y=j,a.i())};
w.Vk=function(a,b){for(var c=da(b)?100:b,d=0,e=a.x,f=a.y,g=0,i=0,j=0,l=k;d<=c;){switch(g){case 0:i=0;j=-1;d++;break;case 1:i=1;j=-1;break;case 2:i=1;j=0;break;case 3:j=i=1;break;case 4:i=0;j=1;break;case 5:i=-1;j=1;break;case 6:i=-1;j=0;break;case 7:j=i=-1}g=(g+1)%8;a.x=I(e+i*d);a.y=I(f+j*d);a.i();if(!this.Fa(a,l)&&(l=this.Ga(a),!l))return h}a.x=e;a.y=f;a.i();return m};w.Td=function(a,b){a.wd&&b.wd&&this.hg.push([a,b])};
w.im=function(a,b){var c,d,e;c=0;for(d=this.hg.length;c<d;c++)if(e=this.hg[c],e[0]==a&&e[1]==b||e[0]==b&&e[1]==a)return h;return m};
w.gm=function(a,b,c){var d=a.x,e=a.y,f=G(10,L(b,c,d,e)),g=sa(b,c,d,e),i=this.Ga(a);if(!i)return K(g+ia);var j=i,l,p,r,q,t=J(5);for(l=1;36>l;l++)if(p=g-l*t,a.x=b+Math.cos(p)*f,a.y=c+Math.sin(p)*f,a.i(),!this.Fa(a,j)&&(j=this.Ga(a),!j)){r=p;break}36===l&&(r=K(g+ia));j=i;for(l=1;36>l;l++)if(p=g+l*t,a.x=b+Math.cos(p)*f,a.y=c+Math.sin(p)*f,a.i(),!this.Fa(a,j)&&(j=this.Ga(a),!j)){q=p;break}36===l&&(q=K(g+ia));a.x=d;a.y=e;a.i();if(q===r)return q;a=ta(q,r)/2;a=va(q,r)?K(r+a+ia):K(q+a);r=Math.cos(g);g=Math.sin(g);
q=Math.cos(a);a=Math.sin(a);b=r*q+g*a;return sa(0,0,r-2*b*q,g-2*b*a)};var Lb=[],Mb=-1;w=P.prototype;w.trigger=function(a,b,c){if(!this.L)return m;var d=this.L.qf;if(!d)return m;Mb++;Mb===Lb.length?Lb.push(new Ua):Lb[Mb].clear();a=this.jl(a,b,d,c);Mb--;return a};
w.jl=function(a,b,c,d){var e=Lb[Mb];if(e.contains(c))return m;e.add(c);var e=c.dk.qd(),f=m,g,i,j;g=0;for(i=e.length;g<i;g++)j=this.jl(a,b,e[g],d),f=f||j;if(b){j=this.Gi(a,b,b.type.name,c,d);f=f||j;g=0;for(i=b.type.ia.length;g<i;g++)j=this.Gi(a,b,b.type.ia[g].name,c,d),f=f||j}else j=this.Gi(a,b,"system",c,d),f=f||j;return f};
w.Gi=function(a,b,c,d,e){var f,g=m,i=m,i="undefined"!==typeof e,j=(i?d.Qj:d.kl)[c];if(!j)return g;var l=k,d=0;for(f=j.length;d<f;d++)if(j[d].method==a){l=j[d].sf;break}if(!l)return g;a=i?l[e]:l;if(!a)return k;d=0;for(f=a.length;d<f;d++)e=a[d][0],i=a[d][1],i=this.Ym(b,c,e,i),g=g||i;return g};
w.Ym=function(a,b,c,d){var e,f,g=m;this.Hi++;var i=this.Ca().Ka;i&&this.Qe(i.Ec);var j=1<this.Hi;this.Qe(c.Ec);j&&this.ho();var l=this.fg(c);l.Ka=c;a&&(e=this.types[b].H(),e.O=m,e.c.length=1,e.c[0]=a,this.types[b].qc());a=h;if(c.parent){b=l.el;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(f=b.length;e<f;e++)if(!b[e].no()){a=m;break}}a&&(this.bh++,c.eb?c.mo(d):c.fa(),g=g||l.Dd);this.cg();j&&this.bo();this.fd(c.Ec);i&&this.fd(i.Ec);0===this.ob&&(0===Mb&&!this.yh&&(!this.Ab.xe()||this.zb.length))&&
this.Ra();this.Hi--;return g};w.lh=function(){var a=this.Ca();return a.Ka.X[a.ga]};w.ho=function(){this.Uf++;this.Uf>=this.Hh.length&&this.Hh.push([])};w.bo=function(){this.Uf--};w.Xj=function(){return this.Hh[this.Uf]};w.fg=function(a){this.rf++;this.rf>=this.$g.length&&this.$g.push(new Ja);var b=this.Ca();b.reset(a);return b};w.cg=function(){this.rf--};w.Ca=function(){return this.$g[this.rf]};
w.Zj=function(a,b){for(var c,d,e,f,g,i;b;){c=0;for(d=b.jb.length;c<d;c++)if(i=b.jb[c],i instanceof Ka&&a.toLowerCase()===i.name.toLowerCase())return i;b=b.parent}c=0;for(d=this.Sc.length;c<d;c++){g=this.Sc[c];e=0;for(f=g.vc.length;e<f;e++)if(i=g.vc[e],i instanceof Ka&&a.toLowerCase()===i.name.toLowerCase())return i}return k};window.cr_createRuntime=function(a){return new P(document.getElementById(a))};window.cr_createDCRuntime=function(a,b){return new P({dc:h,width:a,height:b})};
window.createCocoonJSRuntime=function(){window.c2cocoonjs=h;var a=document.createElement("screencanvas");document.body.appendChild(a);a=new P(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});return a};window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");if(a)return a.c2runtime;if(window.c2runtime)return window.c2runtime};
window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
function Nb(a,b){this.a=a;this.qf=k;this.scrollX=this.a.gb/2;this.scrollY=this.a.fb/2;this.scale=1;this.e=0;this.name=b[0];this.width=b[1];this.height=b[2];this.ll=b[3];this.bl=b[4];var c=b[5],d,e;this.M=[];this.ve=[];d=0;for(e=c.length;d<e;d++){var f=new La(this,c[d]);f.Jk=d;this.M.push(f)}c=b[6];this.Wc=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.q[f[1]];g.Bb||(g.Bb=f);this.Wc.push(f);-1===this.ve.indexOf(g)&&this.ve.push(g)}this.G=[];this.B=[];this.Ba=[];d=0;for(e=b[7].length;d<e;d++)this.G.push({id:b[7][d][0],
name:b[7][d][1],ua:-1,ee:h,index:d}),this.Ba.push(b[7][d][2].slice(0));this.$d();this.hd=new Sa(0,0,1,1);this.ci=new Sa(0,0,1,1)}
function Ob(a,b){this.N=a;this.a=a.a;this.c=[];this.scale=1;this.e=0;this.Qc=m;this.lc=new Sa(0,0,0,0);this.hl=new Ta;this.ub=this.xb=this.wb=this.vb=0;this.Lc=m;this.name=b[0];this.index=b[1];this.visible=b[2];this.ud=b[3];this.Xe=b[4];this.Ac=b[5];this.Bc=b[6];this.opacity=b[7];this.gh=b[8];this.oc=b[9];this.yb=b[10];this.Am=b[11];this.lf="source-over";this.ya=this.Ea=0;this.Cc=m;var c=b[12],d,e;this.zd=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.q[f[1]];g.Bb||(g.Bb=f);this.zd.push(f);-1===
this.N.ve.indexOf(g)&&this.N.ve.push(g)}this.G=[];this.B=[];this.Ba=[];d=0;for(e=b[13].length;d<e;d++)this.G.push({id:b[13][d][0],name:b[13][d][1],ua:-1,ee:h,index:d}),this.Ba.push(b[13][d][2].slice(0));this.$d();this.hd=new Sa(0,0,1,1);this.ci=new Sa(0,0,1,1)}Nb.prototype.bk=function(){var a=this.M[0];return!a.Xe&&1===a.opacity&&!a.gh&&a.visible};Nb.prototype.$d=function(){this.B.length=0;var a,b,c;a=0;for(b=this.G.length;a<b;a++)c=this.G[a],c.ee&&this.B.push(c)};var Pb=[];w=Nb.prototype;
w.vi=function(){this.bl&&(this.qf=this.a.ah[this.bl]);this.a.L=this;this.scrollX=this.a.gb/2;this.scrollY=this.a.fb/2;var a,b,c,d,e,f,g;a=0;for(c=this.a.q.length;a<c;a++)if(b=this.a.q[a],!b.K){e=b.c;b=0;for(d=e.length;b<d;b++)f=e[b],f.g&&(g=f.g.Jk,g>=this.M.length&&(g=this.M.length-1),f.g=this.M[g],f.g.c.push(f),f.g.Lc=h)}a=Pb.length=0;for(c=this.M.length;a<c;a++)b=this.M[a],b.lm(),b.Qc=h,d=b.Ma(0,0,h),f=b.Ma(0,0,m),b.Qc=m,this.a.Lb&&(d=d+0.5|0,f=f+0.5|0),b.gi(d,f,k);for(a=0;a<Pb.length;a++)if(f=
Pb[a],f.type.pb){c=f.zf();b=0;for(d=f.type.Sa.length;b<d;b++)e=f.type.Sa[b],f.type!==e&&(e.c.length>c?f.siblings.push(e.c[c]):e.Bb&&(g=this.a.xd(e.Bb,f.g,h,f.x,f.y,h),this.a.Ra(),e.ug(),f.siblings.push(g),Pb.push(g)))}a=0;for(c=this.Wc.length;a<c;a++)this.a.xd(this.Wc[a],k,h);this.a.vd=k;this.a.Ra();if(this.a.F&&!this.a.Ia){a=0;for(c=this.a.q.length;a<c;a++)e=this.a.q[a],!e.K&&(e.c.length&&e.Yh)&&e.Yh(this.a.F)}this.a.trigger(Q.prototype.d.$i,k)};
w.km=function(){var a,b,c,d,e;b=a=0;for(c=this.Wc.length;a<c;a++)d=this.Wc[a],e=this.a.q[d[1]],e.global?this.a.xd(d,k,h):(this.Wc[b]=d,b++);this.Wc.length=b};
w.uo=function(){this.a.trigger(Q.prototype.d.Zi,k);this.a.nd.Sb.length=0;var a,b,c,d,e,f;a=0;for(b=this.M.length;a<b;a++){e=this.M[a].c;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.a.rd(f);this.a.Ra();e.length=0;this.M[a].Lc=h}a=0;for(b=this.a.q.length;a<b;a++)if(e=this.a.q[a],!e.global&&!e.ta.Kf&&!e.ta.ti){c=0;for(d=e.c.length;c<d;c++)this.a.rd(e.c[c]);this.a.Ra()}};
w.Cb=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.a.Aj&&!this.bk()&&a.clearRect(0,0,this.a.width,this.a.height);var b,c,d;b=0;for(c=this.M.length;b<c;b++)d=this.M[b],d.visible&&(0<d.opacity&&11!==d.yb)&&d.Cb(a)};
w.Za=function(a){var b=0<this.B.length||this.a.ae;if(b){this.a.qb||(this.a.qb=a.Wb(this.a.width,this.a.height,this.a.Y));if(this.a.qb.je!==this.a.width||this.a.qb.ie!==this.a.height)a.deleteTexture(this.a.qb),this.a.qb=a.Wb(this.a.width,this.a.height,this.a.Y);a.ic(this.a.qb)}this.a.Aj&&!this.bk()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.M.length;c<d;c++)this.M[c].visible&&0<this.M[c].opacity&&this.M[c].Za(a);b&&(1>=this.B.length?(1===this.B.length?(b=this.B[0].index,a.Pb(this.B[0].ua),a.Ud(k,1/this.a.width,
1/this.a.height,0,0,1,1,this.scale,this.Ba[b]),a.dg(this.B[0].ua)&&(this.a.C=h)):a.Pb(0),a.ic(k),a.ld(1),a.Ua(this.a.qb),a.Zk(),a.Ob(),a.Qb(),b=this.a.width/2,c=this.a.height/2,a.gg(-b,c,b,c,b,-c,-b,-c),a.Ua(k)):this.di(a,k,k,k));a.eo()};w.te=function(){return 0<this.B.length||this.a.ae?this.a.qb:k};w.$j=function(){var a=this.M[0].Na(),b,c,d;b=1;for(c=this.M.length;b<c;b++)d=this.M[b],0===d.Ac&&0===d.Bc||d.Na()<a&&(a=d.Na());return a};
w.qo=function(a){if(!this.ll){var b=this.a.width*(1/this.$j())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.a.C=h)};w.ro=function(a){if(!this.ll){var b=this.a.height*(1/this.$j())/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.a.C=h)};
w.di=function(a,b,c,d){var e=c?c.B:b?b.B:this.B,f=c?c.g.Na():b?b.Na():1,g=this.a.jh,i,j,l,p,r=0,q=1,t,s=this.a.width,v=this.a.height,y=s/2,H=v/2,F=b?b.hd:this.hd,x=b?b.ci:this.ci,A=0,T=0,C=0,U=0,E=s,ya=s,D=v,za=v,fa=l=0,Da=c?c.g.Zb():0;if(c){i=0;for(j=e.length;i<j;i++)l+=a.ln(e[i].ua),fa+=a.mn(e[i].ua);p=c.D;A=b.T(p.left,p.top,h);C=b.T(p.left,p.top,m);E=b.T(p.right,p.bottom,h);D=b.T(p.right,p.bottom,m);0!==Da&&(i=b.T(p.right,p.top,h),j=b.T(p.right,p.top,m),T=b.T(p.left,p.bottom,h),U=b.T(p.left,p.bottom,
m),p=Math.min(A,E,i,T),E=Math.max(A,E,i,T),A=p,p=Math.min(C,D,j,U),D=Math.max(C,D,j,U),C=p);A-=l;C-=fa;E+=l;D+=fa;x.left=A/s;x.top=1-C/v;x.right=E/s;x.bottom=1-D/v;T=A=Math.floor(A);U=C=Math.floor(C);ya=E=Math.ceil(E);za=D=Math.ceil(D);T-=l;U-=fa;ya+=l;za+=fa;0>A&&(A=0);0>C&&(C=0);E>s&&(E=s);D>v&&(D=v);0>T&&(T=0);0>U&&(U=0);ya>s&&(ya=s);za>v&&(za=v);F.left=A/s;F.top=1-C/v;F.right=E/s;F.bottom=1-D/v}else F.left=x.left=0,F.top=x.top=0,F.right=x.right=1,F.bottom=x.bottom=1;fa=c&&((c.e||Da)&&a.Pe(e[0].ua)||
0!==l||0!==fa||1!==c.opacity||c.type.ta.Gk)||b&&!c&&1!==b.opacity;a.Zk();if(fa){g[r]||(g[r]=a.Wb(s,v,this.a.Y));if(g[r].je!==s||g[r].ie!==v)a.deleteTexture(g[r]),g[r]=a.Wb(s,v,this.a.Y);a.Pb(0);a.ic(g[r]);t=za-U;a.clearRect(T,v-U-t,ya-T,t);c?c.Za(a):(a.Ua(this.a.Ta),a.ld(b.opacity),a.Ob(),a.translate(-y,-H),a.Qb(),a.Nb(A,D,E,D,E,C,A,C,F));x.left=x.top=0;x.right=x.bottom=1;c&&(p=F.top,F.top=F.bottom,F.bottom=p);r=1;q=0}a.ld(1);l=e.length-1;var Da=a.Zh(e[l].ua),Ea=0;i=0;for(j=e.length;i<j;i++){g[r]||
(g[r]=a.Wb(s,v,this.a.Y));if(g[r].je!==s||g[r].ie!==v)a.deleteTexture(g[r]),g[r]=a.Wb(s,v,this.a.Y);a.Pb(e[i].ua);Ea=e[i].index;a.dg(e[i].ua)&&(this.a.C=h);0==i&&!fa?(a.ic(g[r]),t=za-U,p=v-U-t,a.clearRect(T,p,ya-T,t),c?(a.Ud(d,1/c.width,1/c.height,x.left,x.top,x.right,x.bottom,f,c.Ba[Ea]),c.Za(a)):(a.Ud(d,1/s,1/v,0,0,1,1,f,b?b.Ba[Ea]:this.Ba[Ea]),a.Ua(b?this.a.Ta:this.a.qb),a.Ob(),a.translate(-y,-H),a.Qb(),a.Nb(A,D,E,D,E,C,A,C,F)),x.left=x.top=0,x.right=x.bottom=1,c&&!Da&&(p=D,D=C,C=p)):(a.Ud(d,1/
s,1/v,x.left,x.top,x.right,x.bottom,f,c?c.Ba[Ea]:b?b.Ba[Ea]:this.Ba[Ea]),i===l&&!Da?(c?a.Dc(c.Ea,c.ya):b&&a.Dc(b.Ea,b.ya),a.ic(d)):(a.ic(g[r]),t=za-U,p=v-U-t,a.clearRect(T,p,ya-T,t)),a.Ua(g[q]),a.Ob(),a.translate(-y,-H),a.Qb(),a.Nb(A,D,E,D,E,C,A,C,F),i===l&&!Da&&a.Ua(k));r=0===r?1:0;q=0===r?1:0}Da&&(a.Pb(0),c?a.Dc(c.Ea,c.ya):b&&a.Dc(b.Ea,b.ya),a.ic(d),a.Ua(g[q]),a.Ob(),a.translate(-y,-H),a.Qb(),c&&1===e.length&&!fa?a.Nb(A,C,E,C,E,D,A,D,F):a.Nb(A,D,E,D,E,C,A,C,F),a.Ua(k))};Ha=Nb;w=Ob.prototype;
w.$d=function(){this.B.length=0;var a,b,c;a=0;for(b=this.G.length;a<b;a++)c=this.G[a],c.ee&&this.B.push(c)};w.lm=function(){var a,b,c,d;b=a=0;for(c=this.zd.length;a<c;a++)d=this.a.xd(this.zd[a],this,h),Pb.push(d),d&&!d.type.global&&(this.zd[b]=this.zd[a],b++);this.zd.length=b;this.a.Ra();!this.a.m&&this.G.length&&(this.yb=this.Am);this.lf=Ba(this.yb);this.a.o&&Ca(this,this.yb,this.a.o)};w.zo=function(){if(this.Lc){var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].Oi=a;this.Lc=m}};
w.Na=function(){return this.jn()*this.a.Og};w.jn=function(){return(this.scale*this.N.scale-1)*this.oc+1};w.Zb=function(){return this.Qc?0:K(this.N.e+this.e)};
w.Cb=function(a){this.Cc=this.gh||1!==this.opacity||0!==this.yb;var b=this.a.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.Cc&&(this.a.Qf||(this.a.Qf=document.createElement("canvas"),b=this.a.Qf,b.width=this.a.width,b.height=this.a.height,this.a.vk=b.getContext("2d")),b=this.a.Qf,c=this.a.vk,b.width!==this.a.width&&(b.width=this.a.width),b.height!==this.a.height&&(b.height=this.a.height),this.Xe&&c.clearRect(0,0,this.a.width,this.a.height));this.Xe||(c.fillStyle="rgb("+
this.ud[0]+","+this.ud[1]+","+this.ud[2]+")",c.fillRect(0,0,this.a.width,this.a.height));c.save();this.Qc=h;var d=this.Ma(0,0,h),e=this.Ma(0,0,m);this.Qc=m;this.a.Lb&&(d=d+0.5|0,e=e+0.5|0);this.gi(d,e,c);var f=this.Na();c.scale(f,f);c.translate(-d,-e);for(var g,d=0,e=this.c.length;d<e;d++)if(f=this.c[d],f.visible&&!(0===f.width||0===f.height))f.mc(),g=f.D,g.right<this.vb||(g.bottom<this.xb||g.left>this.wb||g.top>this.ub)||(c.globalCompositeOperation=f.lf,f.Cb(c));c.restore();this.Cc&&(a.globalCompositeOperation=
this.lf,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};
w.gi=function(a,b,c){var d=this.Na();this.vb=a;this.xb=b;this.wb=a+this.a.width*(1/d);this.ub=b+this.a.height*(1/d);a=this.Zb();0!==a&&(c&&(c.translate(this.a.width/2,this.a.height/2),c.rotate(-a),c.translate(this.a.width/-2,this.a.height/-2)),this.lc.set(this.vb,this.xb,this.wb,this.ub),this.lc.offset((this.vb+this.wb)/-2,(this.xb+this.ub)/-2),this.hl.al(this.lc,a),this.hl.vj(this.lc),this.lc.offset((this.vb+this.wb)/2,(this.xb+this.ub)/2),this.vb=this.lc.left,this.xb=this.lc.top,this.wb=this.lc.right,
this.ub=this.lc.bottom)};
w.Za=function(a){var b=this.a.width,c=this.a.height,d=0,e=0;if(this.Cc=this.gh||1!==this.opacity||0<this.B.length||0!==this.yb){this.a.Ta||(this.a.Ta=a.Wb(this.a.width,this.a.height,this.a.Y));if(this.a.Ta.je!==this.a.width||this.a.Ta.ie!==this.a.height)a.deleteTexture(this.a.Ta),this.a.Ta=a.Wb(this.a.width,this.a.height,this.a.Y);a.ic(this.a.Ta);this.Xe&&a.clear(0,0,0,0)}this.Xe||a.clear(this.ud[0]/255,this.ud[1]/255,this.ud[2]/255,1);this.Qc=h;var e=this.Ma(0,0,h),f=this.Ma(0,0,m);this.Qc=m;this.a.Lb&&
(e=e+0.5|0,f=f+0.5|0);this.gi(e,f,k);f=this.Na();a.Ob();a.scale(f,f);a.hi(-this.Zb());a.translate((this.vb+this.wb)/-2,(this.xb+this.ub)/-2);a.Qb();var g,i,j;g=0;for(i=this.c.length;g<i;g++)if(j=this.c[g],j.visible&&!(0===j.width||0===j.height))if(j.mc(),d=j.D,!(d.right<this.vb||d.bottom<this.xb||d.left>this.wb||d.top>this.ub))if(j.nl)if(d=j.B[0].ua,e=j.B[0].index,1===j.B.length&&!a.Zh(d)&&!a.fo(d)&&(!j.e&&!j.g.Zb()||!a.Pe(d))&&1===j.opacity&&!j.type.ta.Gk){a.Pb(d);a.Dc(j.Ea,j.ya);a.dg(d)&&(this.a.C=
h);var l=0,p=0,r=0,q=0;a.Pe(d)&&(d=j.D,l=this.T(d.left,d.top,h),p=this.T(d.left,d.top,m),r=this.T(d.right,d.bottom,h),d=this.T(d.right,d.bottom,m),l/=b,p=1-p/c,r/=b,q=1-d/c);a.Ud(this.Cc?this.a.Ta:this.N.te(),1/j.width,1/j.height,l,p,r,q,this.Na(),j.Ba[e]);j.Za(a)}else this.N.di(a,this,j,this.Cc?this.a.Ta:this.N.te()),a.Ob(),a.scale(f,f),a.hi(-this.Zb()),a.translate((this.vb+this.wb)/-2,(this.xb+this.ub)/-2),a.Qb();else a.Pb(0),a.Dc(j.Ea,j.ya),j.Za(a);this.Cc&&(d=this.B.length?this.B[0].ua:0,e=this.B.length?
this.B[0].index:0,0===this.B.length||1===this.B.length&&!a.Zh(d)&&1===this.opacity?(1===this.B.length?(a.Pb(d),a.Ud(this.N.te(),1/this.a.width,1/this.a.height,0,0,1,1,this.Na(),this.Ba[e]),a.dg(d)&&(this.a.C=h)):a.Pb(0),a.ic(this.N.te()),a.ld(this.opacity),a.Ua(this.a.Ta),a.Dc(this.Ea,this.ya),a.Ob(),a.Qb(),b=this.a.width/2,c=this.a.height/2,a.gg(-b,c,b,c,b,-c,-b,-c),a.Ua(k)):this.N.di(a,this,k,this.N.te()))};
w.Ma=function(a,b,c){var d=this.a.devicePixelRatio;!this.a.Ia&&(this.a.wg&&this.a.Zc)&&0<this.a.xc&&(a*=d,b*=d);var d=this.a.gb/2,e=this.a.fb/2,d=(this.N.scrollX-d)*this.Ac+d,e=(this.N.scrollY-e)*this.Bc+e,f=1/this.Na(),d=d-this.a.width*f/2,e=e-this.a.height*f/2,d=d+a*f,e=e+b*f,b=this.Zb();0!==b&&(d-=this.N.scrollX,e-=this.N.scrollY,a=Math.cos(b),b=Math.sin(b),f=d*a-e*b,e=e*a+d*b,d=f+this.N.scrollX,e+=this.N.scrollY);return c?d:e};
w.T=function(a,b,c){var d=this.Zb();if(0!==d)var a=a-this.N.scrollX,b=b-this.N.scrollY,e=Math.cos(-d),d=Math.sin(-d),f=a*e-b*d,b=b*e+a*d,a=f+this.N.scrollX,b=b+this.N.scrollY;e=this.a.gb/2;d=this.a.fb/2;e=(this.N.scrollX-e)*this.Ac+e;d=(this.N.scrollY-d)*this.Bc+d;f=1/this.Na();e-=this.a.width*f/2;d-=this.a.height*f/2;e=(a-e)/f;d=(b-d)/f;a=this.a.devicePixelRatio;!this.a.Ia&&(this.a.wg&&this.a.Zc)&&0<this.a.xc&&(e/=a,d/=a);return c?e:d};La=Ob;
function Qb(a,b){var c,d=a.length;switch(d){case 0:return h;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return m;return h}}function Rb(a,b){return a.index-b.index}function Sb(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(Rb);a.length>=Tb.length&&(Tb.length=a.length+1);Tb[a.length]||(Tb[a.length]=[]);e=Tb[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],Qb(a,d))return d;e.push(a);return a}
function Ub(a,b){this.a=a;this.kl={};this.Qj={};this.sh=m;this.dk=new Ua;this.name=b[0];var c=b[1];this.vc=[];var d,e;d=0;for(e=c.length;d<e;d++)this.fk(c[d],k,this.vc)}function Vb(a){this.type=a;this.c=[];this.R=[];this.O=h}
function Wb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.ba=[];this.Ec=[];this.ck=this.rg=this.Fi=this.Ef=this.group=this.cl=m;this.X=[];this.Nc=[];this.jb=[];c[1]?(this.ph=c[1][1].toLowerCase(),this.group=h,this.Ef=!!c[1][0],this.a.Lg.push(this),this.a.pj[this.ph.toLowerCase()]=this.Ef):(this.ph="",this.Ef=this.group=m);this.eb=c[2];for(var d=c[3],a=0,b=d.length;a<b;a++){var e=new Ma(this,d[a]);this.X.push(e);this.qj(e.type)}d=c[4];a=0;for(b=d.length;a<b;a++)e=new Na(this,d[a]),this.Nc.push(e);
if(6===c.length){c=c[5];a=0;for(b=c.length;a<b;a++)this.sheet.fk(c[a],this,this.jb)}this.Gf=m;this.X.length&&(this.Gf=this.X[0].type==k&&this.X[0].da==Q.prototype.d.ul)}function Xb(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.pb)){c=0;for(d=a.Sa.length;c<d;c++)e=a.Sa[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}}
function Yb(a,b){this.Xa=a;this.sheet=a.sheet;this.a=a.a;this.n=[];this.u=[];this.S={};this.da=b[1];this.trigger=0<b[3];this.Pj=2===b[3];this.Ih=b[4];this.we=b[5];this.Mn=b[6];-1===b[0]?(this.type=k,this.fa=this.ji,this.he=k,this.oa=-1):(this.type=this.a.q[b[0]],this.fa=this.Mn?this.oo:this.ii,b[2]?(this.he=this.type.xf(b[2]),this.oa=this.type.kh(b[2])):(this.he=k,this.oa=-1),this.Xa.parent&&this.Xa.parent.kg());this.Pj&&(this.fa=this.po);if(8===b.length){var c,d,e=b[7];c=0;for(d=e.length;c<d;c++){var f=
new Oa(this,e[c]);this.n.push(f)}this.u.length=e.length}}function Zb(a,b){this.Xa=a;this.sheet=a.sheet;this.a=a.a;this.n=[];this.u=[];this.S={};this.da=b[1];-1===b[0]?(this.type=k,this.fa=this.ji,this.he=k,this.oa=-1):(this.type=this.a.q[b[0]],this.fa=this.ii,b[2]?(this.he=this.type.xf(b[2]),this.oa=this.type.kh(b[2])):(this.he=k,this.oa=-1));if(4===b.length){var c,d,e=b[3];c=0;for(d=e.length;c<d;c++){var f=new Oa(this,e[c]);this.n.push(f)}this.u.length=e.length}}
function $b(a,b){this.p=a;this.Xa=a.Xa;this.sheet=a.sheet;this.a=a.a;this.type=b[0];this.Db=k;this.Bj=this.Fc=0;this.N=k;this.key=0;this.object=k;this.index=0;this.xg=this.Wd=this.Rj=this.Tc=this.Ze=k;var c,d,e;switch(b[0]){case 0:case 7:this.Db=new N(this,b[1]);this.Fc=0;this.get=this.sn;break;case 1:this.Db=new N(this,b[1]);this.Fc=0;this.get=this.tn;break;case 5:this.Db=new N(this,b[1]);this.Fc=0;this.get=this.xn;break;case 3:case 8:this.Bj=b[1];this.get=this.qn;break;case 6:this.N=this.a.Bh[b[1]];
this.get=this.yn;break;case 9:this.key=b[1];this.get=this.wn;break;case 4:this.object=this.a.q[b[1]];this.get=this.zn;this.Xa.qj(this.object);this.p instanceof Na?this.Xa.kg():this.Xa.parent&&this.Xa.parent.kg();break;case 10:this.index=b[1];this.get=a.type.K?this.un:this.vn;break;case 11:this.Ze=b[1];this.Tc=k;this.get=this.rn;break;case 2:case 12:this.Rj=b[1];this.get=this.pn;break;case 13:this.get=this.An;this.Wd=[];this.xg=[];c=1;for(d=b.length;c<d;c++)e=new Oa(this.p,b[c]),this.Wd.push(e),this.xg.push(0)}}
function ac(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.ba=[];this.name=c[1];this.$e=c[2];this.Df=c[3];this.If=!!c[4];this.Ah=!!c[5];this.data=this.Df;this.parent?this.bd=this.If||this.Ah?-1:this.a.to++:(this.bd=-1,this.a.Mg.push(this))}function bc(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.ba=[];this.Cf=k;this.Fn=c[1]}function cc(){this.el=[];this.reset(k)}var Tb=[];w=Ub.prototype;w.toString=ba("name");
w.fk=function(a,b,c){switch(a[0]){case 0:a=new Pa(this,b,a);if(a.eb){c.push(a);c=0;for(b=a.X.length;c<b;c++)a.X[c].trigger&&this.gk(a,c)}else a.lk()?this.gk(a,0):c.push(a);break;case 1:a=new Ka(this,b,a);c.push(a);break;case 2:a=new Qa(this,b,a),c.push(a)}};w.aa=function(){var a,b;a=0;for(b=this.vc.length;a<b;a++)this.vc[a].aa(a<b-1&&this.vc[a+1].Gf)};
w.fa=function(){this.sh=h;this.a.yh=h;var a,b;a=0;for(b=this.vc.length;a<b;a++){var c=this.vc[a];c.fa();this.a.Rg(c.ba);(!this.a.Ab.xe()||this.a.zb.length)&&this.a.Ra()}this.a.yh=m};
w.gk=function(a,b){a.eb||this.a.tg.push(a);var c,d,e=a.X[b],f;f=e.type?e.type.name:"system";var g=(c=e.Pj)?this.Qj:this.kl;g[f]||(g[f]=[]);f=g[f];g=e.da;if(c){if(e.n.length&&(e=e.n[0],!(1!==e.type||2!==e.Db.type))){e=e.Db.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==g){c=f[c].sf;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:g,sf:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==g){f[c].sf.push([a,b]);return}f.push({method:g,sf:[[a,b]]})}};Ia=Ub;
Vb.prototype.rh=function(){return this.O?this.type.c.length:this.c.length};Vb.prototype.lb=function(){return this.O?this.type.c:this.c};Vb.prototype.Pk=function(a){a&&(a.a.Ca().Ka.eb?(this.O&&(this.c.length=0,ma(this.R,a.type.c),this.O=m),a=this.R.indexOf(a),-1!==a&&(this.c.push(this.R[a]),this.R.splice(a,1))):(this.O=m,this.c.length=1,this.c[0]=a))};Ga=Vb;w=Wb.prototype;
w.aa=function(a){var b,c=this.parent;if(this.group)for(this.rg=h;c;){if(!c.group){this.rg=m;break}c=c.parent}this.Fi=!this.lk()&&(!this.parent||this.parent.group&&this.parent.rg);this.ck=!!a;this.Ec=this.ba.slice(0);for(c=this.parent;c;){a=0;for(b=c.ba.length;a<b;a++)this.bm(c.ba[a]);c=c.parent}this.ba=Sb(this.ba);this.Ec=Sb(this.Ec);a=0;for(b=this.X.length;a<b;a++)this.X[a].aa();a=0;for(b=this.Nc.length;a<b;a++)this.Nc[a].aa();a=0;for(b=this.jb.length;a<b;a++)this.jb[a].aa(a<b-1&&this.jb[a+1].Gf)};
w.qj=function(a){Xb(a,this.ba)};w.bm=function(a){Xb(a,this.Ec)};w.kg=function(){this.cl=h;this.parent&&this.parent.kg()};w.lk=function(){return this.X.length?this.X[0].trigger:m};
w.fa=function(){var a,b=m,c=this.a.Ca();c.Ka=this;this.Gf||(c.Zg=m);if(this.eb){0===this.X.length&&(b=h);c.ga=0;for(a=this.X.length;c.ga<a;c.ga++)this.X[c.ga].trigger||this.X[c.ga].fa()&&(b=h);(c.Dd=b)&&this.jg()}else{c.ga=0;for(a=this.X.length;c.ga<a;c.ga++)if(!this.X[c.ga].fa()){c.Dd=m;this.Fi&&(!this.a.Ab.xe()||this.a.zb.length)&&this.a.Ra();return}c.Dd=h;this.jg()}c.Dd&&this.ck&&(c.Zg=h);this.Fi&&(!this.a.Ab.xe()||this.a.zb.length)&&this.a.Ra()};
w.mo=function(a){this.a.Ca().Ka=this;this.X[a].fa()&&this.jg()};w.jg=function(){var a=this.a.Ca(),b;a.kb=0;for(b=this.Nc.length;a.kb<b;a.kb++)if(this.Nc[a.kb].fa())return;this.Yk()};w.jo=function(){var a=this.a.Ca(),b;for(b=this.Nc.length;a.kb<b;a.kb++)if(this.Nc[a.kb].fa())return;this.Yk()};
w.Yk=function(){if(this.jb.length){var a,b,c,d,e=this.jb.length-1;this.a.fg(this);if(this.cl){a=0;for(b=this.jb.length;a<b;a++)c=this.jb[a],(d=!this.rg||!this.group&&a<e)&&this.a.eg(c.ba),c.fa(),d?this.a.fd(c.ba):this.a.Rg(c.ba)}else{a=0;for(b=this.jb.length;a<b;a++)this.jb[a].fa()}this.a.cg()}};w.no=function(){var a=this.a.Ca();a.Ka=this;var b=m,c;a.ga=0;for(c=this.X.length;a.ga<c;a.ga++)if(this.X[a.ga].fa())b=h;else if(!this.eb)return m;return this.eb?b:h};
w.ko=function(){this.a.bh++;var a=this.a.Ca().ga,b=this.a.fg(this);if(!this.eb){b.ga=a+1;for(a=this.X.length;b.ga<a;b.ga++)if(!this.X[b.ga].fa()){this.a.cg();return}}this.jg();this.a.cg()};Pa=Wb;w=Yb.prototype;w.aa=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].aa()};w.po=u(h);w.ji=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.u[a]=this.n[a].get();return wa(this.da.apply(this.a.nd,this.u),this.we)};
w.oo=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.u[a]=this.n[a].get();a=this.da.apply(this.type,this.u);this.type.qc();return a};
w.ii=function(){var a,b,c,d,e,f,g,i=this.type.H(),j=this.Xa.eb&&!this.trigger,l=0,p=this.type.pb;if(i.O){i.c.length=0;a=i.R.length=0;for(c=this.type.c.length;a<c;a++){f=this.type.c[a];b=0;for(d=this.n.length;b<d;b++)this.u[b]=this.n[b].get(a);-1<this.oa?(this.type.K&&(l=f.type.yd[this.type.Eb]),b=this.da.apply(f.la[this.oa+l],this.u)):b=this.da.apply(f,this.u);(e=wa(b,this.we))?i.c.push(f):j&&i.R.push(f)}this.type.finish&&this.type.finish(h);i.O=m;this.type.qc();return i.rh()}var r=0,q=j?i.R:i.c;
e=m;a=0;for(c=q.length;a<c;a++){f=q[a];b=0;for(d=this.n.length;b<d;b++)this.u[b]=this.n[b].get(a);-1<this.oa?(this.type.K&&(l=f.type.yd[this.type.Eb]),b=this.da.apply(f.la[this.oa+l],this.u)):b=this.da.apply(f,this.u);if(wa(b,this.we))if(e=h,j){if(i.c.push(f),p){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.H().c.push(g)}}else{q[r]=f;if(p){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.H().c[r]=g}r++}else if(j){q[r]=f;if(p){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],
g.type.H().R[r]=g}r++}}q.length=r;if(p){a=0;for(c=this.type.Sa.length;a<c;a++)f=this.type.Sa[a].H(),j?f.R.length=r:f.c.length=r}l=e;if(j&&!e){a=0;for(c=i.c.length;a<c;a++){f=i.c[a];b=0;for(d=this.n.length;b<d;b++)this.u[b]=this.n[b].get(a);b=-1<this.oa?this.da.apply(f.la[this.oa],this.u):this.da.apply(f,this.u);if(wa(b,this.we)){e=h;break}}}this.type.finish&&this.type.finish(l||j);return j?e:i.rh()};Ma=Yb;Zb.prototype.aa=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].aa()};
Zb.prototype.ji=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.u[a]=this.n[a].get();return this.da.apply(this.a.nd,this.u)};Zb.prototype.ii=function(){var a=this.type.H().lb(),b,c,d,e,f;b=0;for(d=a.length;b<d;b++){f=a[b];c=0;for(e=this.n.length;c<e;c++)this.u[c]=this.n[c].get(b);-1<this.oa?(c=0,this.type.K&&(c=f.type.yd[this.type.Eb]),this.da.apply(f.la[this.oa+c],this.u)):this.da.apply(f,this.u)}return m};Na=Zb;var dc=[],ec=-1;w=$b.prototype;
w.aa=function(){var a,b;if(11===this.type)this.Tc=this.a.Zj(this.Ze,this.Xa.parent);else if(13===this.type){a=0;for(b=this.Wd.length;a<b;a++)this.Wd[a].aa()}this.Db&&this.Db.aa()};w.ja=function(){ec++;dc.length===ec&&dc.push(new Ra);return dc[ec]};w.ea=function(){ec--};w.sn=function(a){this.Fc=a||0;a=this.ja();this.Db.get(a);this.ea();return a.data};w.tn=function(a){this.Fc=a||0;a=this.ja();this.Db.get(a);this.ea();return B(a.data)?a.data:""};w.zn=ba("object");w.qn=ba("Bj");
w.xn=function(a){this.Fc=a||0;a=this.ja();this.Db.get(a);this.ea();return a.ma()?this.a.re(a.data):this.a.nh(a.data)};w.yn=ba("N");w.wn=ba("key");w.vn=ba("index");w.un=function(a){var b=this.p.type,c=k,c=b.H(),d=c.lb(),c=d.length?d[a%d.length].type:c.R[a%c.R.length].type;return this.index+c.tf[b.Eb]};w.rn=ba("Tc");w.pn=ba("Rj");w.An=function(){var a,b;a=0;for(b=this.Wd.length;a<b;a++)this.xg[a]=this.Wd[a].get();return this.xg};Oa=$b;ac.prototype.aa=function(){this.ba=Sb(this.ba)};
ac.prototype.jc=function(a){var b=this.a.Xj();!this.parent||this.If||!b?this.data=a:(this.bd>=b.length&&(b.length=this.bd+1),b[this.bd]=a)};ac.prototype.Uc=function(){var a=this.a.Xj();return!this.parent||this.If||!a||this.Ah?this.data:this.bd>=a.length||"undefined"===typeof a[this.bd]?this.Df:a[this.bd]};ac.prototype.fa=function(){this.parent&&(!this.If&&!this.Ah)&&this.jc(this.Df)};Ka=ac;bc.prototype.aa=function(){this.Cf=this.a.ah[this.Fn];this.sheet.dk.add(this.Cf);this.ba=Sb(this.ba)};
bc.prototype.fa=function(){this.parent&&this.a.Qe(this.a.q);this.Cf.sh||this.Cf.fa();this.parent&&this.a.fd(this.a.q)};Qa=bc;cc.prototype.reset=function(a){this.Ka=a;this.kb=this.ga=0;this.el.length=0;this.Zg=this.Dd=m};Ja=cc;
function fc(a,b){this.p=a;this.a=a.a;this.type=b[0];this.get=[this.Mm,this.Im,this.Um,this.Xm,this.Cm,this.Vm,this.Qm,this.Fm,this.Pm,this.Tm,this.Dm,this.Sm,this.Gm,this.Rm,this.Nm,this.Om,this.Jm,this.Km,this.Em,this.Wm,this.Lj,this.Lm,this.Lj,this.Hm][this.type];var c=k;this.Pa=this.n=this.u=this.da=this.pg=this.na=this.first=this.value=k;this.oa=-1;this.ac=k;this.Ki=-1;this.Tc=this.Ze=this.dm=k;this.Re=m;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=new N(a,b[1]);
break;case 18:this.first=new N(a,b[1]);this.na=new N(a,b[2]);this.pg=new N(a,b[3]);break;case 19:this.da=b[1];this.u=[];this.n=[];3===b.length?(c=b[2],this.u.length=c.length+1):this.u.length=1;break;case 20:this.Pa=this.a.q[b[1]];this.oa=-1;this.da=b[2];this.Re=b[3];this.ac=b[4]?new N(a,b[4]):k;this.u=[];this.n=[];6===b.length?(c=b[5],this.u.length=c.length+1):this.u.length=1;break;case 21:this.Pa=this.a.q[b[1]];this.Re=b[2];this.ac=b[3]?new N(a,b[3]):k;this.Ki=b[4];break;case 22:this.Pa=this.a.q[b[1]];
this.dm=this.Pa.xf(b[2]);this.oa=this.Pa.kh(b[2]);this.da=b[3];this.Re=b[4];this.ac=b[5]?new N(a,b[5]):k;this.u=[];this.n=[];7===b.length?(c=b[6],this.u.length=c.length+1):this.u.length=1;break;case 23:this.Ze=b[1],this.Tc=k}4<=this.type&&17>=this.type&&(this.first=new N(a,b[1]),this.na=new N(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.n.push(new N(a,c[d]))}}function gc(a,b){this.type=a||O.de;this.data=b||0;this.Qd=k;this.type==O.de&&(this.data=Math.floor(this.data))}w=fc.prototype;
w.aa=function(){23===this.type&&(this.Tc=this.p.a.Zj(this.Ze,this.p.Xa.parent));this.first&&this.first.aa();this.na&&this.na.aa();this.pg&&this.pg.aa();this.ac&&this.ac.aa();if(this.n){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].aa()}};w.Wm=function(a){this.u[0]=a;var a=this.p.ja(),b,c;b=0;for(c=this.n.length;b<c;b++)this.n[b].get(a),this.u[b+1]=a.data;this.p.ea();this.da.apply(this.a.nd,this.u)};
w.Lj=function(a){var b=this.Pa.H(),c=b.lb();if(!c.length)if(b.R.length)c=b.R;else{this.Re?a.tb(""):a.J(0);return}this.u[0]=a;a.Qd=this.Pa;var a=this.p.ja(),d,b=0;for(d=this.n.length;b<d;b++)this.n[b].get(a),this.u[b+1]=a.data;b=this.p.Fc;this.ac&&(this.ac.get(a),a.ma()&&(b=a.data,c=this.Pa.c));this.p.ea();b%=c.length;0>b&&(b+=c.length);c=c[b];-1<this.oa?(a=0,this.Pa.K&&(a=c.type.yd[this.Pa.Eb]),this.da.apply(c.la[this.oa+a],this.u)):this.da.apply(c,this.u)};
w.Lm=function(a){var b=this.Pa.H(),c=b.lb();if(!c.length)if(b.R.length)c=b.R;else{this.Re?a.tb(""):a.J(0);return}b=this.p.Fc;if(this.ac){var d=this.p.ja();this.ac.get(d);if(d.ma()){b=d.data;c=this.Pa.c;b%=c.length;0>b&&(b+=c.length);c=c[b].mb[this.Ki];B(c)?a.tb(c):a.t(c);this.p.ea();return}this.p.ea()}b%=c.length;0>b&&(b+=c.length);c=c[b];b=0;this.Pa.K&&(b=c.type.tf[this.Pa.Eb]);c=c.mb[this.Ki+b];B(c)?a.tb(c):a.t(c)};w.Mm=function(a){a.type=O.de;a.data=this.value};
w.Im=function(a){a.type=O.ce;a.data=this.value};w.Um=function(a){a.type=O.Gg;a.data=this.value};w.Xm=function(a){this.first.get(a);a.ma()&&(a.data=-a.data)};w.Cm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data+=b.data,b.Cd()&&a.Od());this.p.ea()};w.Vm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data-=b.data,b.Cd()&&a.Od());this.p.ea()};
w.Qm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data*=b.data,b.Cd()&&a.Od());this.p.ea()};w.Fm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data/=b.data,a.Od());this.p.ea()};w.Pm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data%=b.data,b.Cd()&&a.Od());this.p.ea()};
w.Tm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data=Math.pow(a.data,b.data),b.Cd()&&a.Od());this.p.ea()};w.Dm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()?b.Jf()?a.tb(a.data.toString()+b.data):a.data&&b.data?a.J(1):a.J(0):a.Jf()&&(a.data=b.Jf()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.p.ea()};
w.Sm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.ma()&&b.ma()&&(a.data||b.data?a.J(1):a.J(0));this.p.ea()};w.Em=function(a){this.first.get(a);a.data?this.na.get(a):this.pg.get(a)};w.Gm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.J(a.data===b.data?1:0);this.p.ea()};w.Rm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.J(a.data!==b.data?1:0);this.p.ea()};
w.Nm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.J(a.data<b.data?1:0);this.p.ea()};w.Om=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.J(a.data<=b.data?1:0);this.p.ea()};w.Jm=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.J(a.data>b.data?1:0);this.p.ea()};w.Km=function(a){this.first.get(a);var b=this.p.ja();this.na.get(b);a.J(a.data>=b.data?1:0);this.p.ea()};w.Hm=function(a){var b=this.Tc.Uc();z(b)?a.t(b):a.tb(b)};N=fc;w=gc.prototype;
w.Cd=function(){return this.type===O.ce};w.ma=function(){return this.type===O.de||this.type===O.ce};w.Jf=function(){return this.type===O.Gg};w.Od=function(){this.Cd()||(this.Jf()&&(this.data=parseFloat(this.data)),this.type=O.ce)};w.J=function(a){this.type=O.de;this.data=Math.floor(a)};w.t=function(a){this.type=O.ce;this.data=a};w.tb=function(a){this.type=O.Gg;this.data=a};Ra=gc;O={de:0,ce:1,Gg:2};function Q(a){this.a=a;this.Sb=[]}function hc(){}function ic(){}function jc(){}var kc=Q.prototype;
w=hc.prototype;w.zg=u(h);w.$i=u(h);w.Zi=u(h);w.vl=function(a){var b=this.a.lh(),c=b.S.Ag||0,d=this.a.yc.Qa;return d>=c+a?(b.S.Ag=c+a,d>=b.S.Ag+a&&(b.S.Ag=d),h):m};w.pc=function(a,b,c){return lc(a.Uc(),b,c)};w.ul=function(){var a=this.a.Ca();return a.Zg?m:!a.Dd};w.aj=u(h);w.Al=u(h);kc.d=new hc;w=ic.prototype;
w.Pi=function(a,b,c,d){if(b&&a&&(b=this.a.Dj(a,b,c,d))){this.a.ob++;var e;this.a.trigger(Object.getPrototypeOf(a.ta).d.Wi,b);if(b.pb){c=0;for(d=b.siblings.length;c<d;c++)e=b.siblings[c],this.a.trigger(Object.getPrototypeOf(e.type.ta).d.Wi,e)}this.a.ob--;a=a.H();a.O=m;a.c.length=1;a.c[0]=b;if(b.pb){c=0;for(d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.H(),a.O=m,a.c.length=1,a.c[0]=e}}};w.ij=function(a,b){0===a.$e?z(b)?a.jc(b):a.jc(parseFloat(b)):1===a.$e&&a.jc(b.toString())};
w.be=function(a,b){0===a.$e?z(b)?a.jc(a.Uc()+b):a.jc(a.Uc()+parseFloat(b)):1===a.$e&&a.jc(a.Uc()+b.toString())};w.Ul=function(a,b){0===a.$e&&(z(b)?a.jc(a.Uc()-b):a.jc(a.Uc()-parseFloat(b)))};w.Hg=function(a){if(!(0>a)){var b,c,d,e=this.a.Ca(),f={};f.time=this.a.yc.Qa+a;f.Kj=e.Ka;f.kb=e.kb+1;f.Hj=m;f.Gc={};f.ba=[];a=0;for(b=this.a.q.length;a<b;a++)d=this.a.q[a],c=d.H(),c.O&&-1===e.Ka.ba.indexOf(d)||(f.ba.push(d),f.Gc[a.toString()]=c.c.slice(0));this.Sb.push(f);return h}};
w.gj=function(){var a,b,c;a=0;for(b=this.a.Mg.length;a<b;a++)c=this.a.Mg[a],c.data=c.Df};w.hj=function(){if(!this.a.Ae&&!this.a.vd&&this.a.L){this.a.vd=this.a.L;var a,b,c;a=0;for(b=this.a.Lg.length;a<b;a++)c=this.a.Lg[a],this.a.pj[c.ph.toLowerCase()]=c.Ef}};kc.f=new ic;jc.prototype["int"]=function(a,b){B(b)?(a.J(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.J(b)};jc.prototype["float"]=function(a,b){B(b)?(a.t(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.t(b)};w=jc.prototype;
w.random=function(a,b,c){c===aa?a.t(Math.random()*b):a.t(Math.random()*(c-b)+b)};w.sqrt=function(a,b){a.t(Math.sqrt(b))};w.abs=function(a,b){a.t(Math.abs(b))};w.round=function(a,b){a.J(Math.round(b))};w.floor=function(a,b){a.J(Math.floor(b))};w.ceil=function(a,b){a.J(Math.ceil(b))};w.sin=function(a,b){a.t(Math.sin(J(b)))};w.cos=function(a,b){a.t(Math.cos(J(b)))};w.tan=function(a,b){a.t(Math.tan(J(b)))};w.acos=function(a,b){a.t(oa(Math.acos(b)))};
w.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.t(b)};w.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.t(b)};w.Rc=function(a){a.t(this.a.Rc)};w.We=function(a){a.t(this.a.We)};w.time=function(a){a.t(this.a.yc.Qa)};w.Di=function(a){a.J(this.a.Di)};w.$f=function(a){a.J(this.a.$f)};w.hh=function(a){a.J(this.a.hh)};w.om=function(a,b,c,d,e){a.t(L(b,c,d,e))};
w.e=function(a,b,c,d,e){a.t(oa(sa(b,c,d,e)))};w.On=function(a){a.J(this.a.L.width)};w.xk=function(a){a.J(this.a.L.height)};w.left=function(a,b,c){a.tb(B(b)?b.substr(0,c):"")};w.right=function(a,b,c){a.tb(B(b)?b.substr(b.length-c):"")};w.replace=function(a,b,c,d){B(b)&&B(c)&&B(d)?a.tb(b.replace(RegExp(Aa(c),"gi"),d)):a.tb(B(b)?b:"")};w.Sg=function(a){a.t(this.a.Sg/1E3)};w.Sf=function(a){a.t(this.a.Sf)};kc.A=new jc;
kc.lo=function(){var a,b,c,d,e,f=this.a.Ca();a=0;for(c=this.Sb.length;a<c;a++)if(d=this.Sb[a],!(d.time>this.a.yc.Qa)){f.Ka=d.Kj;f.kb=d.kb;f.ga=0;for(b in d.Gc)d.Gc.hasOwnProperty(b)&&(e=this.a.q[parseInt(b,10)].H(),e.O=m,e.c=d.Gc[b]);d.Kj.jo();this.a.Rg(d.ba);d.Hj=h}b=a=0;for(c=this.Sb.length;a<c;a++)d=this.Sb[a],this.Sb[b]=d,d.Hj||b++;this.Sb.length=b};
function lb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],i=a[7],a=a[8];b.d||(b.d={});b.f||(b.f={});b.A||(b.A={});var j=b.d,l=b.f,b=b.A;d&&(j.bf=function(a,b){return lc(this.x,a,b)},j.tl=function(a,b){return lc(this.y,a,b)},j.To=function(){var a=this.g;this.mc();var b=this.D;return!(b.right<a.vb||b.bottom<a.xb||b.left>a.wb||b.top>a.ub)},j.Uo=function(){this.mc();var a=this.D,b=this.a.L;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},j.ep=function(a,b,c){var d=this.H(),e=
d.lb();if(!e.length)return m;var f=e[0],g=f,i=L(f.x,f.y,b,c),j,l,A;j=1;for(l=e.length;j<l;j++)if(f=e[j],A=L(f.x,f.y,b,c),0===a&&A<i||1===a&&A>i)i=A,g=f;d.Pk(g);return h},l.Sl=function(a){this.x!==a&&(this.x=a,this.i())},l.up=function(a){this.y!==a&&(this.y=a,this.i())},l.Nl=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.i()},l.sp=function(a,b){var c=a.kn(this);if(c){var d;c.mh?(d=c.mh(b,h),c=c.mh(b,m)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.i()}},l.Zo=function(a){0!==
a&&(this.x+=Math.cos(this.e)*a,this.y+=Math.sin(this.e)*a,this.i())},l.Yo=function(a,b){0!==b&&(this.x+=Math.cos(J(a))*b,this.y+=Math.sin(J(a))*b,this.i())},b.Jg=function(a){a.t(this.x)},b.Yl=function(a){a.t(this.y)},b.Rc=function(a){a.t(this.a.yf(this))});e&&(j.Mo=function(a,b){return lc(this.width,a,b)},j.Jo=function(a,b){return lc(this.height,a,b)},l.Rl=function(a){this.width!==a&&(this.width=a,this.i())},l.pp=function(a){this.height!==a&&(this.height=a,this.i())},l.Ol=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.i()},b.Ig=function(a){a.t(this.width)},b.wl=function(a){a.t(this.height)});f&&(j.Io=function(a,b){return ta(this.e,J(b))<=J(a)},j.Ro=function(a){return va(this.e,J(a))},j.Po=function(a,b){var c=ra(a),d=ra(b),e=K(this.e);return va(d,c)?va(e,c)&&!va(e,d):!(!va(e,c)&&va(e,d))},l.lp=function(a){a=J(pa(a));!isNaN(a)&&this.e!==a&&(this.e=a,this.i())},l.hp=function(a){0!==a&&!isNaN(a)&&(this.e+=J(a),this.e=K(this.e),this.i())},l.ip=function(a){0!==a&&!isNaN(a)&&
(this.e-=J(a),this.e=K(this.e),this.i())},l.jp=function(a,b){var c=ua(this.e,J(b),J(a));!isNaN(c)&&this.e!==c&&(this.e=c,this.i())},l.kp=function(a,b,c){a=ua(this.e,Math.atan2(c-this.y,b-this.x),J(a));!isNaN(a)&&this.e!==a&&(this.e=a,this.i())},l.tp=function(a,b){var c=Math.atan2(b-this.y,a-this.x);!isNaN(c)&&this.e!==c&&(this.e=c,this.i())},b.Ho=function(a){a.t(qa(this.e))});c||(j.Ko=function(a,b,c){return lc(this.mb[a],b,c)},j.Qo=function(a){return this.mb[a]},j.dp=function(a){return this.uid===
a},j.Wi=u(h),j.Cl=u(h),l.qp=function(a,b){var c=this.mb;z(c[a])?c[a]=z(b)?b:parseFloat(b):B(c[a])&&(c[a]=B(b)?b:b.toString())},l.Go=function(a,b){var c=this.mb;z(c[a])?c[a]=z(b)?c[a]+b:c[a]+parseFloat(b):B(c[a])&&(c[a]=B(b)?c[a]+b:c[a]+b.toString())},l.vp=function(a,b){var c=this.mb;z(c[a])&&(c[a]=z(b)?c[a]-b:c[a]-parseFloat(b))},l.mp=function(a,b){this.mb[a]=b?1:0},l.wp=function(a){this.mb[a]=1-this.mb[a]},l.Qi=function(){this.a.rd(this)},b.No=function(a){var b=a.Qd.c.length,c,d,e;c=0;for(d=this.a.zb.length;c<
d;c++)e=this.a.zb[c],a.Qd.K?0<=e.type.ia.indexOf(a.Qd)&&b++:e.type===a.Qd&&b++;a.J(b)},b.gp=function(a){a.J(a.Qd.H().lb().length)},b.xp=function(a){a.J(this.uid)},b.Oo=function(a){a.J(this.zf())});g&&(j.Vo=ba("visible"),l.Ql=function(a){!a!==!this.visible&&(this.visible=a,this.a.C=h)},j.Lo=function(a,b){return lc(Fa(100*this.opacity),a,b)},l.rp=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.a.C=h)},b.cp=function(a){a.t(Fa(100*this.opacity))});i&&(j.So=function(a){return!a?
m:this.g===a},j.fp=function(a){var b=this.H(),c=b.lb();if(!c.length)return m;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.g.index>e.g.index||d.g.index===e.g.index&&d.$b()>e.$b())e=d}else if(d.g.index<e.g.index||d.g.index===e.g.index&&d.$b()<e.$b())e=d;b.Pk(e);return h},l.bp=function(){var a=this.$b();a!==this.g.c.length-1&&(la(this.g.c,a),this.g.c.push(this),this.a.C=h,this.g.Lc=h)},l.$o=function(){var a=this.$b();0!==a&&(la(this.g.c,a),this.g.c.unshift(this),this.a.C=h,this.g.Lc=
h)},l.ap=function(a){a&&a!=this.g&&(la(this.g.c,this.$b()),this.g.Lc=h,this.g=a,this.Oi=a.c.length,a.c.push(this),this.a.C=h)},b.Xo=function(a){a.J(this.g.Jk)},b.Wo=function(a){a.tb(this.g.name)},b.yp=function(a){a.J(this.$b())});a&&(l.np=function(a,b){if(this.a.m){var c=this.type.Yj(b);if(!(0>c)){var d=1===a;this.td[c]!==d&&(this.td[c]=d,this.$d(),this.a.C=h)}}},l.op=function(a,b,c){if(this.a.m){var d=this.type.Yj(a);0>d||(a=this.type.G[d],d=this.Ba[d],b=Math.floor(b),0>b||b>=d.length||(1===this.a.m.nn(a.ua,
b)&&(c/=100),d[b]!==c&&(d[b]=c,a.ee&&(this.a.C=h))))}})}function Cb(){this.Pg=h;this.a.C=h;var a,b;a=0;for(b=this.gf.length;a<b;a++)this.gf[a](this)}function Db(a){a&&this.gf.push(a)}
function Fb(){if(this.Pg){this.D.set(this.x,this.y,this.x+this.width,this.y+this.height);this.D.offset(-this.Hb*this.width,-this.Ib*this.height);this.e?(this.D.offset(-this.x,-this.y),this.xa.al(this.D,this.e),this.xa.offset(this.x,this.y),this.xa.vj(this.D)):this.xa.ni(this.D);var a=0;this.D.left>this.D.right&&(a=this.D.left,this.D.left=this.D.right,this.D.right=a);this.D.top>this.D.bottom&&(a=this.D.top,this.D.top=this.D.bottom,this.D.bottom=a);this.Pg=m}}
function Eb(a,b){return!this.D.Ya(a,b)||!this.xa.Ya(a,b)?m:this.Q&&!this.Q.ze()?(this.Q.ke(this.width,this.height,this.e),this.Q.Ya(a-this.x,b-this.y)):h}function yb(){this.type.ug();return this.ue}function Gb(){this.g.zo();return this.Oi}function Hb(){this.B.length=0;var a,b;a=0;for(b=this.td.length;a<b;a++)this.td[a]&&this.B.push(this.type.G[a]);this.nl=!!this.B.length}function zb(){return this.type.name+"#"+this.uid}function nb(){var a=this.H().lb();return a.length?a[0]:k}
function ob(a){var b=this.H().lb();return b.length?b[a.zf()%b.length]:k}function mb(){if(this.md&&!this.K){var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].ue=a;this.md=m}}function pb(){return this.Hc[this.Yb]}function qb(){this.Yb++;this.Yb===this.Hc.length?this.Hc.push(new Ga(this)):this.Hc[this.Yb].O=h}function rb(){this.Yb++;this.Yb===this.Hc.length&&this.Hc.push(new Ga(this));var a=this.Hc[this.Yb],b=this.Hc[this.Yb-1];b.O?a.O=h:(a.O=m,ma(a.c,b.c))}function sb(){this.Yb--}
function tb(a){var b,c,d,e,f,g=0;if(!this.K){b=0;for(c=this.ia.length;b<c;b++){f=this.ia[b];d=0;for(e=f.$.length;d<e;d++){if(a===f.$[d].name)return this.S.ok=g,f.$[d];g++}}}b=0;for(c=this.$.length;b<c;b++){if(a===this.$[b].name)return this.S.ok=g,this.$[b];g++}return k}function ub(a){return this.xf(a)?this.S.ok:-1}function vb(a){var b,c;b=0;for(c=this.G.length;b<c;b++)if(this.G[b].name===a)return b;return-1}
function wb(){if(this.pb&&!this.K){var a,b,c,d,e,f,g;this.ug();f=this.H();var i=f.O,j=(a=this.a.Ca())&&a.Ka&&a.Ka.eb;a=0;for(b=this.Sa.length;a<b;a++)if(e=this.Sa[a],e!==this&&(e.ug(),g=e.H(),g.O=i,!i)){g.c.length=f.c.length;c=0;for(d=f.c.length;c<d;c++)g.c[c]=e.c[f.c[c].ue];if(j){g.R.length=f.R.length;c=0;for(d=f.R.length;c<d;c++)g.R[c]=e.c[f.R[c].ue]}}}}function xb(){return this.name}
function lc(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return m;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return m}}var hb={};function mc(a){this.a=a}
function nc(a,b){this.src=a;this.cb=oc;this.Hf=b;this.rj=m;var c=this;oc===pc&&(b&&!qc.wh&&!qc.Zc)&&(this.cb=rc);this.Ha=k;var d;switch(this.cb){case rc:b&&qc.Xc&&CocoonJS.App.markAsMusic(a);this.Ha=new Audio;this.Ha.autoplay=m;this.Ha.Pp="auto";this.Ha.src=a;break;case pc:d=new XMLHttpRequest;d.open("GET",a,h);d.responseType="arraybuffer";d.onload=function(){if(R.decodeAudioData)R.decodeAudioData(d.response,function(a){c.Ha=a;da(c.bg)||(a=new sc(c,c.bg),a.play(c.Bk,c.pl),tc.push(a))});else if(c.Ha=
R.createBuffer(d.response,m),!da(c.bg)){var a=new sc(c,c.bg);a.play(c.Bk,c.pl);tc.push(a)}};d.send();break;case uc:this.Ha=h;break;case vc:this.Ha=h}}
function sc(a,b){this.Ue=b;this.Va=this.Fb=h;this.src=a.src;this.buffer=a;this.cb=a.cb;this.Hf=a.Hf;this.playbackRate=1;this.Th=h;this.Ih=this.hc=m;var c=this;this.Hk=this.volume=1;this.startTime=qc.yc.Qa;this.s=k;var d=m;switch(this.cb){case rc:this.Hf?(this.s=a.Ha,d=!a.rj,a.rj=h):(this.s=new Audio,this.s.autoplay=m,this.s.src=a.Ha.src,d=h);d&&this.s.addEventListener("ended",function(){wc=c.Ue;c.Va=h;qc.trigger(mc.prototype.d.Cg,xc)});break;case pc:a.Ha&&(this.s=R.createBufferSource(),this.s.buffer=
a.Ha,this.s.connect(R.destination));break;case uc:this.s=new window.Media(yc+this.src,k,k,function(a){a===window.Media.MEDIA_STOPPED&&(c.Th=h,c.Va=h,wc=c.Ue,qc.trigger(mc.prototype.d.Cg,xc))});break;case vc:this.s=h}}function zc(){}function Ac(){}var Bc=mc.prototype;Bc.P=function(a){this.ta=a;this.a=a.a};Bc.P.prototype.v=n();var qc=k,xc=k,wc="",yc="",rc=0,pc=1,uc=2,vc=3,oc=rc,R=k,Cc=[],tc=[],Dc=k,Ec=m,Fc=0,Gc=m;w=sc.prototype;
w.qh=function(){switch(this.cb){case rc:return this.s.ended;case pc:return!this.Fb&&!this.Va&&this.s.loop?m:qc.yc.Qa-this.startTime>this.buffer.Ha.duration;case uc:return this.Th;case vc:h}return h};w.hm=function(){return this.Fb||this.Va?h:this.qh()};
w.play=function(a,b){
	var c=this.s;
	this.Ih=a;
	switch(this.cb){
		case rc:1!==c.playbackRate&&(c.playbackRate=1);
		c.volume!==b&&(c.volume=b);
		c.loop!==a&&(c.loop=a);
		c.muted&&(c.muted=m);
		if(!this.Fb&&this.Va&&0!==c.currentTime)try{
			c.currentTime=0
		}catch(d){}this.s.play();
		break;
		case pc:this.muted=m;
		this.volume=b;
		this.Hk=1;
		this.Fb||(this.s=R.createBufferSource(),this.s.buffer=this.buffer.Ha,this.s.connect(R.destination));
		this.s.loop=a;
		if ( navigator.userAgent.indexOf("Safari") > -1 ) {
			this.s.gain.value=b;
			this.s.noteOn(0);
		}
		break;
		case uc:!this.Fb&&this.Va&&c.seekTo(0);
c.play();this.Th=m;break;case vc:qc.nb?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=qc.yc.Qa;this.Va=this.Fb=m};w.stop=function(){switch(this.cb){case rc:this.s.paused||this.s.pause();break;case pc:this.s.noteOff(0);break;case uc:this.s.stop()}this.Va=h};
w.yo=function(){var a=this.playbackRate;if(1===Fc&&!this.Hf||2===Fc)a*=qc.We;switch(this.cb){case rc:this.s.playbackRate!==a&&(this.s.playbackRate=a);break;case pc:this.s.playbackRate.value!==a&&(this.s.playbackRate.value=a)}};
w.mi=function(a){switch(this.cb){case rc:a?!this.Fb&&!this.Va?(this.s.pause(),this.hc=h):this.hc=m:this.hc&&this.s.play();break;case pc:a?!this.Fb&&!this.Va?(this.s.noteOff(0),this.hc=h):this.hc=m:this.hc&&(this.s=R.createBufferSource(),this.s.buffer=this.buffer.Ha,this.s.connect(R.destination),this.s.loop=this.Ih,this.s.gain.value=this.volume*this.Hk,this.s.noteOn(0));break;case uc:a?!this.Fb&&!this.Va?(this.s.pause(),this.hc=h):this.hc=m:this.hc&&this.s.play()}};
Bc.I=function(a){this.type=a;qc=this.a=a.a;xc=this;R=k;"undefined"!==typeof AudioContext?(oc=pc,R=new AudioContext):"undefined"!==typeof webkitAudioContext&&(oc=pc,R=new webkitAudioContext);this.a.Zc&&oc===pc&&document.addEventListener("touchstart",function(){if(!Gc){var a=R.createBuffer(1,1,22050),c=R.Bp();c.buffer=a;c.Ap(R.Cp);c.Op(0);Gc=h}},h);oc!==pc&&(this.a.Yc?oc=uc:this.a.Ad&&(oc=vc));oc===uc&&(yc=location.href,a=yc.lastIndexOf("/"),-1<a&&(yc=yc.substr(0,a+1)),yc=yc.replace("file://",""));
this.a.Kn&&this.a.kk&&"undefined"===typeof Audio?(alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.a.rd(this)):(Ec=this.a.nb?this.a.uh:!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"'),this.a.Yd(this))};var Hc=Bc.I.prototype;Hc.v=function(){Fc=this.w[0];this.a.cm(function(a){xc.$n(a)})};Hc.$n=function(a){var b,c;b=0;for(c=tc.length;b<c;b++)tc[b].mi(a)};
Hc.Wa=function(){var a,b,c;a=0;for(b=tc.length;a<b;a++)c=tc[a],c.cb!==rc&&c.cb!==vc&&(!c.Fb&&!c.Va&&c.qh())&&(c.Va=h,wc=c.Ue,qc.trigger(mc.prototype.d.Cg,xc)),0!==Fc&&c.yo()};Hc.cn=function(a,b){var c,d,e;c=0;for(d=Cc.length;c<d;c++)if(e=Cc[c],e.src===a)return e;e=new nc(a,b);Cc.push(e);return e};
Hc.en=function(a,b,c,d,e){var f,g,i;f=0;for(g=tc.length;f<g;f++)if(i=tc[f],i.src===a&&i.hm())return i.Ue=b,i;a=this.cn(a,c);if(!a.Ha)return"<preload>"!==b&&(a.bg=b,a.Bk=d,a.pl=e),k;i=new sc(a,b);tc.push(i);return i};var Ic=[];Hc.dn=function(a){Ic.length=0;if(a.length){var b,c,d;b=0;for(c=tc.length;b<c;b++)d=tc[b],a.toLowerCase()===d.Ue.toLowerCase()&&Ic.push(d)}else Dc&&!Dc.qh()&&(Ic.length=1,Ic[0]=Dc)};zc.prototype.Cg=function(a){return wc.toLowerCase()===a.toLowerCase()};Bc.d=new zc;
Ac.prototype.Play=function(a,b,c,d){c=Math.pow(10,c/20);0>c&&(c=0);1<c&&(c=1);(Dc=this.en(this.a.Sj+a[0]+(Ec?".ogg":".m4a"),d,a[1],0!==b,c))&&Dc.play(0!==b,c)};Ac.prototype.lj=function(a){this.dn(a);var b,a=0;for(b=Ic.length;a<b;a++)Ic[a].stop()};Bc.f=new Ac;Bc.A=new (n());function S(a){this.a=a}function Jc(){}var Kc=S.prototype;Kc.P=function(a){this.ta=a;this.a=a.a};Kc.P.prototype.v=n();Kc.I=function(a){this.type=a;this.a=a.a;this.Nf=Array(256);this.vg=Array(256);this.Zd=0};var Lc=Kc.I.prototype;
Lc.v=function(){var a=this;this.a.Ia||(jQuery(document).keydown(function(b){a.Oh(b)}),jQuery(document).keyup(function(b){a.Ph(b)}))};Lc.Oh=function(a){if(this.Nf[a.which])this.vg[a.which]&&a.preventDefault();else{this.Nf[a.which]=h;this.Zd=a.which;this.a.trigger(S.prototype.d.Bg,this);var b=this.a.trigger(S.prototype.d.El,this),c=this.a.trigger(S.prototype.d.Fl,this);if(b||c)this.vg[a.which]=h,a.preventDefault()}};
Lc.Ph=function(a){this.Nf[a.which]=m;this.Zd=a.which;this.a.trigger(S.prototype.d.zl,this);var b=this.a.trigger(S.prototype.d.Hl,this),c=this.a.trigger(S.prototype.d.Gl,this);if(b||c||this.vg[a.which])this.vg[a.which]=h,a.preventDefault()};w=Jc.prototype;w.Si=function(a){return this.Nf[a]};w.El=function(a){return a===this.Zd};w.Bg=u(h);w.zl=u(h);w.Hl=function(a){return a===this.Zd};w.Fl=function(a){return a===this.Zd};w.Gl=function(a){return a===this.Zd};Kc.d=new Jc;Kc.f=new (n());Kc.A=new (n());
function V(a){this.a=a}function Mc(){if(0===this.Yg.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Vd?b.drawImage(this.j,this.Rd,this.Sd,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.j,0,0,this.width,this.height);this.Yg=a.toDataURL("image/png")}return this.Yg}function Nc(){}function Oc(){}var Pc=V.prototype;Pc.P=function(a){this.ta=a;this.a=a.a};var Qc=Pc.P.prototype;
Qc.v=function(){if(!this.K){var a,b,c,d,e,f,g,i,j;a=0;for(b=this.ca.length;a<b;a++){e=this.ca[a];g={};g.name=e[0];g.speed=e[1];g.loop=e[2];g.ei=e[3];g.ig=e[4];g.Qk=e[5];g.frames=[];c=0;for(d=e[6].length;c<d;c++)f=e[6][c],i={},i.Ai=f[0],i.Bi=f[1],i.Rd=f[2],i.Sd=f[3],i.width=f[4],i.height=f[5],i.duration=f[6],i.Hb=f[7],i.Ib=f[8],i.th=f[9],i.Xh=f[10],i.Rk=f[11],i.Vd=0!==i.width,i.Yg="",i.Fp=Mc,j={left:0,top:0,right:1,bottom:1},i.qi=j,i.W=k,(j=this.a.$m(f[0]))?i.j=j:(i.j=new Image,i.j.src=f[0],i.j.jm=
f[0],i.j.Cj=f[1],i.j.Vb=k,this.a.nc.push(i.j)),g.frames.push(i);this.ca[a]=g}}};Qc.ag=function(){if(!this.K){var a,b,c,d,e,f;a=0;for(b=this.ca.length;a<b;a++){e=this.ca[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.j.Vb=k,f.W=k}}};
Qc.Qh=function(){if(!this.K&&this.c.length){var a,b,c,d,e,f;a=0;for(b=this.ca.length;a<b;a++){e=this.ca[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.j.Vb||(f.j.Vb=this.a.m.Rf(f.j,m,this.a.Y,f.Rk)),f.W=f.j.Vb}a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.Wg=c.Pc.W}};var Rc=[];
Qc.Ii=function(){if(!this.K&&!this.c.length){var a=!!this.a.m,b,c,d,e,f,g,i,j;b=Rc.length=0;for(c=this.ca.length;b<c;b++){g=this.ca[b];d=0;for(e=g.frames.length;d<e;d++)if(i=g.frames[d],j=a?i.j.Vb:i.j)f=Rc.indexOf(j),-1===f&&Rc.push(j),i.j.Vb=k,i.W=k}b=0;for(c=Rc.length;b<c;b++)j=Rc[b],a?this.a.m.deleteTexture(j):j.hintUnload&&j.hintUnload();Rc.length=0}};var Sc=[];
Qc.Yh=function(a){var b,c,d,e,f,g;b=Sc.length=0;for(c=this.ca.length;b<c;b++){f=this.ca[b];d=0;for(e=f.frames.length;d<e;d++)g=f.frames[d].j,-1===Sc.indexOf(g)&&(a.drawImage(g,0,0),Sc.push(g))}};Pc.I=function(a){this.type=a;this.a=a.a;this.Q=new Wa(this.type.ca[0].frames[0].Xh)};var Tc=Pc.I.prototype;
Tc.v=function(){this.visible=0===this.w[0];this.Bf=this.bc=m;this.wd=0!==this.w[2];!(1===this.type.ca.length&&1===this.type.ca[0].frames.length)&&0!==this.type.ca[0].speed&&(this.a.Yd(this),this.bc=h);this.ha=this.type.ca[0];this.k=this.w[1];0>this.k&&(this.k=0);this.k>=this.ha.frames.length&&(this.k=this.ha.frames.length-1);if(0!==this.k){var a=this.ha.frames[this.k];this.Q.oi(a.Xh);this.Hb=a.Hb;this.Ib=a.Ib}this.mf=this.type.ca[0].speed;this.wc=this.se();this.ge=h;this.Oc=0;this.fe=h;this.kf=this.sj=
"";this.zj=0;this.jf=-1;var b,c,d,e,f,g,i,a=0;for(b=this.type.ca.length;a<b;a++){e=this.type.ca[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.j.hintLoad&&f.j.hintLoad(),0===f.width&&(f.width=f.j.width,f.height=f.j.height),f.Vd&&(i=f.j,g=f.qi,g.left=f.Rd/i.width,g.top=f.Sd/i.height,g.right=(f.Rd+f.width)/i.width,g.bottom=(f.Sd+f.height)/i.height,0===f.Rd&&(0===f.Sd&&f.width===i.width&&f.height===i.height)&&(f.Vd=m)),this.a.m&&(f.j.Vb||(f.j.Vb=this.a.m.Rf(f.j,m,this.a.Y,f.Rk)),f.W=f.j.Vb)}this.Pc=
this.ha.frames[this.k];this.Wg=this.Pc.W};Tc.Ng=function(a){this.k=a?0:this.ha.frames.length-1;this.ge=m;this.sj=this.ha.name;this.Bf=h;this.a.trigger(V.prototype.d.Vi,this);this.a.trigger(V.prototype.d.Ui,this);this.Bf=m;this.Oc=0};Tc.se=function(){return(Date.now()-this.a.wi)/1E3};
Tc.Wa=function(){this.kf.length&&this.Ij();0<=this.jf&&this.Jj();var a=this.se(),b=this.ha,c=b.frames[this.k],d=c.duration/this.mf,e=this.a.We;-1!==this.Yf&&(e=this.Yf);d/=0===e?1E-9:e;if(this.ge&&a>=this.wc+d){this.fe?this.k++:this.k--;this.wc+=d;this.k>=b.frames.length&&(b.Qk?(this.fe=m,this.k=b.frames.length-2):b.loop?this.k=b.ig:(this.Oc++,this.Oc>=b.ei?this.Ng(m):this.k=b.ig));0>this.k&&(b.Qk?(this.k=1,this.fe=h,b.loop||(this.Oc++,this.Oc>=b.ei&&this.Ng(h))):b.loop?this.k=b.ig:(this.Oc++,this.Oc>=
b.ei?this.Ng(h):this.k=b.ig));0>this.k?this.k=0:this.k>=b.frames.length&&(this.k=b.frames.length-1);if(a>this.wc+b.frames[this.k].duration/this.mf/(0===e?1E-9:e))this.wc=a;a=b.frames[this.k];this.sd(c,a);this.a.C=h}};
Tc.Ij=function(){var a=this.ha.frames[this.k],b,c,d,e=k;b=0;for(c=this.type.ca.length;b<c;b++)if(d=this.type.ca[b],d.name.toLowerCase()===this.kf.toLowerCase()){e=d;break}this.kf="";e&&!(e.name.toLowerCase()===this.ha.name.toLowerCase()&&this.ge)&&(this.ha=e,this.mf=e.speed,0>this.k&&(this.k=0),this.k>=this.ha.frames.length&&(this.k=this.ha.frames.length-1),1===this.zj&&(this.k=0),this.ge=h,this.wc=this.se(),this.fe=h,this.sd(a,this.ha.frames[this.k]),this.a.C=h)};
Tc.Jj=function(){var a=this.ha.frames[this.k],b=this.k;this.k=I(this.jf);0>this.k&&(this.k=0);this.k>=this.ha.frames.length&&(this.k=this.ha.frames.length-1);b!==this.k&&(this.sd(a,this.ha.frames[this.k]),this.wc=this.se(),this.a.C=h);this.jf=-1};
Tc.sd=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Hb=b.Hb;this.Ib=b.Ib;this.Q.oi(b.Xh);this.i();this.Pc=b;this.Wg=b.W;c=0;for(d=this.la.length;c<d;c++)e=this.la[c],e.Zn&&e.Zn(a,b);this.a.trigger(V.prototype.d.sd,this)};
Tc.Cb=function(a){a.globalAlpha=this.opacity;var b=this.Pc,c=b.Vd,d=b.j,e=this.x,f=this.y,g=this.width,i=this.height;if(0===this.e&&0<=g&&0<=i)e-=this.Hb*g,f-=this.Ib*i,this.a.Lb&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Rd,b.Sd,b.width,b.height,e,f,g,i):a.drawImage(d,e,f,g,i);else{this.a.Lb&&(e=e+0.5|0,f=f+0.5|0);a.save();var j=0<g?1:-1,l=0<i?1:-1;a.translate(e,f);(1!==j||1!==l)&&a.scale(j,l);a.rotate(this.e*j*l);e=0-this.Hb*ga(g);f=0-this.Ib*ga(i);c?a.drawImage(d,b.Rd,b.Sd,b.width,b.height,e,f,ga(g),
ga(i)):a.drawImage(d,e,f,ga(g),ga(i));a.restore()}};Tc.Za=function(a){a.Ua(this.Wg);a.ld(this.opacity);var b=this.Pc,c=this.xa;if(this.a.Lb){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.Vd?a.Nb(c.U+d,c.V+e,c.va+d,c.wa+e,c.ra+d,c.sa+e,c.pa+d,c.qa+e,b.qi):a.gg(c.U+d,c.V+e,c.va+d,c.wa+e,c.ra+d,c.sa+e,c.pa+d,c.qa+e)}else b.Vd?a.Nb(c.U,c.V,c.va,c.wa,c.ra,c.sa,c.pa,c.qa,b.qi):a.gg(c.U,c.V,c.va,c.wa,c.ra,c.sa,c.pa,c.qa)};
Tc.hn=function(a){var b=this.Pc,c,d;c=0;for(d=b.th.length;c<d;c++)if(a.toLowerCase()===b.th[c][0].toLowerCase())return c;return-1};Tc.mh=function(a,b){var c=this.Pc,d=c.th,e;e=B(a)?this.hn(a):a-1;e=I(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Hb)*this.width,d=d[e][2],d=(d-c.Ib)*this.height,c=Math.cos(this.e);e=Math.sin(this.e);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};
Nc.prototype.Bl=function(a){if(!a)return m;var b=this.a,c=b.lh(),d=c.type;if(!c.S.ne){c.S.ne=[];var e=c.S.ne;b.Kg(function(a){var b,c=0,d,f;b=0;for(d=e.length;b<d;b++)f=e[b],f[0]!==a&&f[1]!==a&&(e[c]=e[b],c++);e.length=c})}var f=d.H(),g=a.H(),f=f.lb(),g=g.lb(),i,j,l,p,r,q,t,s,v=b.Ca().Ka;i=0;for(j=f.length;i<j;i++){l=f[i];p=0;for(r=g.length;p<r;p++)if(q=g[p],b.Fa(l,q)||b.im(l,q)){a:{t=c.S.ne;var y=s=aa,H=aa;s=0;for(y=t.length;s<y;s++)if(H=t[s],H[0]===l&&H[1]===q||H[0]===q&&H[1]===l){t=h;break a}t=
m}t||(c.S.ne.push([l,q]),b.eg(v.ba),t=d.H(),s=a.H(),t.O=m,s.O=m,d===a?(t.c.length=2,t.c[0]=l,t.c[1]=q,d.qc()):(t.c.length=1,s.c.length=1,t.c[0]=l,s.c[0]=q,d.qc(),a.qc()),v.ko(),b.fd(v.ba))}else{t=c.S.ne;s=l;for(var y=aa,H=0,F=aa,x=aa,y=0,F=t.length;y<F;y++)x=t[y],x[0]===s&&x[1]===q||x[0]===q&&x[1]===s||(t[H]=t[y],H++);t.length=H}}return m};var Uc=k,Vc=new Ua,Wc=m;
Qc.finish=function(a){if(Wc){if(a){var b=this.a.Ca().Ka.eb,a=Uc.H(),c=Vc.qd(),d,e;if(a.O){a.O=m;a.c.length=c.length;d=0;for(e=c.length;d<e;d++)a.c[d]=c[d];if(b){d=a.R.length=0;for(e=Uc.c.length;d<e;d++)b=Uc.c[d],Vc.contains(b)||a.R.push(b)}}else{var f=a.c.length;a.c.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.c[f+d]=c[d],b&&na(a.R,c[d])}Uc.qc()}Vc.clear();Wc=m}};w=Nc.prototype;
w.yl=function(a){if(a){var b=m,c,d,e,f=this.a.lh(),g=f.type,f=f.we;c=a.H();d=this.a.Ca().Ka.eb;var i;i=c.O?c.type.c:d?c.R:c.c;Uc=a;Wc=g!==a&&!f;c=0;for(d=i.length;c<d;c++)if(e=i[c],this.a.Fa(this,e)){b=h;if(f)break;g!==a&&Vc.add(e)}a=b}else a=m;return a};w.xl=function(a){return this.ha.name.toLowerCase()===a.toLowerCase()};w.sl=function(a,b){return lc(this.k,a,b)};w.Ui=function(a){return this.sj.toLowerCase()===a.toLowerCase()};w.Vi=u(h);w.sd=u(h);Pc.d=new Nc;w=Oc.prototype;
w.Fg=function(a){this.ge=h;this.wc=this.se();1===a&&0!==this.k&&(a=this.ha.frames[this.k],this.k=0,this.sd(a,this.ha.frames[0]),this.a.C=h);this.bc||(this.a.Yd(this),this.bc=h)};w.df=function(a,b){this.kf=a;this.zj=b;this.bc||(this.a.Yd(this),this.bc=h);this.Bf||this.Ij()};w.Kl=function(a){this.jf=a;this.bc||(this.a.Yd(this),this.bc=h);this.Bf||this.Jj()};w.ef=function(a){this.mf=ga(a);this.fe=0<=a;this.bc||(this.a.Yd(this),this.bc=h)};w.Ll=function(a){this.wd=0!==a};Pc.f=new Oc;Pc.A=new (n());
function Xc(a){this.a=a}function Yc(){}var Zc=Xc.prototype;Zc.v=function(){Zc.f.Rl=function(a){this.width!==a&&(this.width=a,this.Xd=h,this.i())}};Zc.P=function(a){this.ta=a;this.a=a.a};var $c=Zc.P.prototype;$c.v=n();$c.ag=function(){if(!this.K){var a,b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.fc=k,c.Pd=k,c.rb=k}};Zc.I=function(a){this.type=a;this.a=a.a;this.ad=[];this.Xd=h};var ad=Zc.I.prototype;
ad.v=function(){this.text=this.w[0];this.visible=0===this.w[1];this.font=this.w[2];this.color=this.w[3];this.ak=this.w[4];this.ol=this.w[5];this.Eo=0===this.w[7];this.uk=this.Fd=this.width;this.Ed=this.height;this.Pn=this.w[8];this.Vj=this.Mj="";var a=this.font.split(" ");this.Rp=this.Sp=this.$h=0;var b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.$h=parseInt(a[b].substr(0,a[b].length-2));this.io=Math.ceil(96*(this.$h/72))+4;this.Mj=a[b+1];0<b&&(this.Vj=a[b-1]);break}this.rb=
this.Pd=this.fc=k;this.Ik=m;this.hd=new Sa(0,0,1,1)};ad.dd=function(){this.fc=this.Pd=k;this.a.m&&this.rb&&this.a.m.deleteTexture(this.rb);this.rb=k};ad.Tp=function(){this.font=this.Vj+" "+this.$h.toString()+"pt "+this.Mj;this.Xd=h;this.a.C=h};
ad.Cb=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.g.Na(),a.save(),a.scale(c,c));if(this.Xd||this.width!==this.uk)this.type.ta.Wl(this.text,this.ad,a,this.width,this.Eo),this.Xd=m,this.uk=this.width;this.mc();var c=b?0:this.xa.U,d=b?0:this.xa.V;this.a.Lb&&(c=c+0.5|0,d=d+0.5|0);0!==this.e&&!b&&(a.save(),a.translate(c,d),a.rotate(this.e),d=c=0);var e=d+this.height,f=this.io,f=f+this.Pn*this.a.devicePixelRatio,g,i;1===this.ol?
d+=Math.max(this.height/2-this.ad.length*f/2,0):2===this.ol&&(d+=Math.max(this.height-this.ad.length*f-2,0));for(i=0;i<this.ad.length&&!(g=c,1===this.ak?g=c+(this.width-this.ad[i].width)/2:2===this.ak&&(g=c+(this.width-this.ad[i].width)),a.fillText(this.ad[i].text,g,d),d+=f,d>=e-f);i++);(0!==this.e||b)&&a.restore()};
ad.Za=function(a){if(!(1>this.width||1>this.height)){var b=this.Xd||this.Ik;this.Ik=m;var c=this.g.Na(),d=this.g.Zb(),e=this.hd,f=c*this.width,g=c*this.height,i=Math.ceil(f),j=Math.ceil(g),l=this.a.width/2,p=this.a.height/2;this.Pd||(this.fc=document.createElement("canvas"),this.fc.width=i,this.fc.height=j,this.Fd=i,this.Ed=j,b=h,this.Pd=this.fc.getContext("2d"));if(i!==this.Fd||j!==this.Ed)this.fc.width=i,this.fc.height=j,this.rb&&(a.deleteTexture(this.rb),this.rb=k),b=h;b&&(this.Pd.clearRect(0,
0,i,j),this.Cb(this.Pd,h),this.rb||(this.rb=a.Wb(i,j,this.a.Y,this.a.Bd)),a.Do(this.fc,this.rb,this.a.Bd));this.Fd=i;this.Ed=j;a.Ua(this.rb);a.ld(this.opacity);a.Ob();a.translate(-l,-p);a.Qb();var r=this.xa,b=this.g.T(r.U,r.V,h),l=this.g.T(r.U,r.V,m),p=this.g.T(r.va,r.wa,h),q=this.g.T(r.va,r.wa,m),t=this.g.T(r.ra,r.sa,h),s=this.g.T(r.ra,r.sa,m),v=this.g.T(r.pa,r.qa,h),r=this.g.T(r.pa,r.qa,m);if(this.a.Lb||0===this.e&&0===d)var y=(b+0.5|0)-b,H=(l+0.5|0)-l,b=b+y,l=l+H,p=p+y,q=q+H,t=t+y,s=s+H,v=v+y,
r=r+H;0===this.e&&0===d?(p=b+i,q=l,t=p,s=l+j,v=b,r=s,e.right=1,e.bottom=1):(e.right=f/i,e.bottom=g/j);a.Nb(b,l,p,q,t,s,v,r,e);a.Ob();a.scale(c,c);a.hi(-this.g.Zb());a.translate((this.g.vb+this.g.wb)/-2,(this.g.xb+this.g.ub)/-2);a.Qb()}};var bd=[];
Zc.Vl=function(a){bd.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(bd.push(b),b=""),bd.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));bd.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&bd.push(b)};
Zc.Wl=function(a,b,c,d,e){if(!a||!a.length)b.length=0;else if(2>=d)b.length=0;else{if(100>=a.length&&-1===a.indexOf("\n")){var f=0,f=c.measureText(a).width;if(f<=d){b.length?b.length=1:b.push({});b[0].text=a;b[0].width=f;return}}this.Xl(a,b,c,d,e)}};
Zc.Xl=function(a,b,c,d,e){e&&(this.Vl(a),a=bd);var f="",g,i,j,l=0;for(j=0;j<a.length;j++)"\n"===a[j]?(l>=b.length&&b.push({}),i=b[l],i.text=f,i.width=0,i.width=c.measureText(f).width,l++,f=""):(g=f,f+=a[j],i=c.measureText(f).width,i>=d&&(l>=b.length&&b.push({}),i=b[l],i.text=g,i.width=0,i.width=c.measureText(g).width,l++,f=a[j],!e&&" "===f&&(f="")));f.length&&(l>=b.length&&b.push({}),i=b[l],i.text=f,i.width=0,i.width=c.measureText(f).width,l++);b.length=l};Zc.d=new (n());
Yc.prototype.Pl=function(a){z(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Xd=h,this.a.C=h)};Zc.f=new Yc;Zc.A=new (n());function W(a){this.a=a}var cd=W.prototype;cd.P=function(a){this.ta=a;this.a=a.a};var dd=cd.P.prototype;dd.v=function(){this.K||(this.j=new Image,this.j.src=this.Ai,this.j.Cj=this.Bi,this.a.nc.push(this.j),this.W=this.pattern=k)};dd.ag=function(){this.K||(this.W=k)};
dd.Qh=function(){if(!this.K&&this.c.length){this.W||(this.W=this.a.m.Rf(this.j,h,this.a.Y,this.Ci));var a,b;a=0;for(b=this.c.length;a<b;a++)this.c[a].W=this.W}};dd.Ii=function(){!this.K&&!this.c.length&&(this.a.m?this.W&&(this.a.m.deleteTexture(this.W),this.W=k):this.j.hintUnload&&this.j.hintUnload())};dd.Yh=function(a){a.drawImage(this.j,0,0)};cd.I=function(a){this.type=a;this.a=a.a};var ed=cd.I.prototype;
ed.v=function(){this.visible=0===this.w[0];this.hd=new Sa(0,0,0,0);this.Cn=m;this.j=this.type.j;this.a.m?(this.type.W||(this.type.W=this.a.m.Rf(this.type.j,h,this.a.Y,this.type.Ci)),this.W=this.type.W):(this.j.hintLoad&&this.j.hintLoad(),this.type.pattern||(this.type.pattern=this.a.F.createPattern(this.type.j,"repeat")),this.pattern=this.type.pattern)};ed.dd=function(){this.a.m&&(this.Cn&&this.W)&&(this.a.m.deleteTexture(this.W),this.W=k)};
ed.Cb=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var b=this.x,c=this.y;this.a.Lb&&(b=b+0.5|0,c=c+0.5|0);var d=-(this.Hb*this.width),e=-(this.Ib*this.height),f=d%this.j.width,g=e%this.j.height;0>f&&(f+=this.j.width);0>g&&(g+=this.j.height);a.translate(b,c);a.rotate(this.e);a.translate(f,g);a.fillRect(d-f,e-g,this.width,this.height);a.restore()};
ed.Za=function(a){a.Ua(this.W);a.ld(this.opacity);var b=this.hd;b.right=this.width/this.j.width;b.bottom=this.height/this.j.height;var c=this.xa;if(this.a.Lb){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;a.Nb(c.U+d,c.V+e,c.va+d,c.wa+e,c.ra+d,c.sa+e,c.pa+d,c.qa+e,b)}else a.Nb(c.U,c.V,c.va,c.wa,c.ra,c.sa,c.pa,c.qa,b)};cd.d=new (n());cd.f=new (n());cd.A=new (n());function X(a){this.a=a}function fd(a){gd=a.x;hd=a.y;id=a.rl}function jd(a){kd=a.x;ld=a.y;md=a.rl}function nd(){}function od(){}
var pd=X.prototype;pd.P=function(a){this.ta=a;this.a=a.a};pd.P.prototype.v=n();pd.I=function(a){this.type=a;this.a=a.a;this.touches=[];this.Kh=m};var Y=pd.I.prototype,qd={left:0,top:0};Y.uf=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var gd=0,hd=0,id=0,kd=0,ld=0,md=0;
Y.v=function(){this.Ln=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.sg=this.Kc=this.Vg=this.Ug=this.oj=this.nj=this.mj=this.am=this.$l=this.Zl=this.Oe=this.Ne=this.Me=0;this.Bo=0!==this.w[0];var a=0<this.a.xc?document:this.a.canvas,b=document;this.a.nb?b=a=window.Canvas:this.a.Xc&&(b=a=window);var c=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Yn(a)},m),a.addEventListener("MSPointerMove",function(a){c.Xn(a)},m),b.addEventListener("MSPointerUp",
function(a){c.Kk(a)},m),b.addEventListener("MSPointerCancel",function(a){c.Kk(a)},m),this.a.canvas&&(this.a.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},m),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},m))):(a.addEventListener("touchstart",function(a){c.Mk(a)},m),a.addEventListener("touchmove",function(a){c.Lk(a)},m),b.addEventListener("touchend",function(a){c.Rh(a)},m),b.addEventListener("touchcancel",function(a){c.Rh(a)},m));if(this.Ln){var d=
function(a){a=a.reading;c.mj=a.accelerationX;c.nj=a.accelerationY;c.oj=a.accelerationZ},e=function(a){a=a.reading;c.Me=a.yawDegrees;c.Ne=a.pitchDegrees;c.Oe=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},m)}else window.addEventListener("deviceorientation",function(a){c.Me=a.alpha||0;c.Ne=a.beta||0;c.Oe=a.gamma||0},m),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Zl=a.accelerationIncludingGravity.x,c.$l=a.accelerationIncludingGravity.y,c.am=
a.accelerationIncludingGravity.z);a.acceleration&&(c.mj=a.acceleration.x,c.nj=a.acceleration.y,c.oj=a.acceleration.z)},m);this.Bo&&!this.a.Ia&&(jQuery(document).mousemove(function(a){c.Vn(a)}),jQuery(document).mousedown(function(a){c.Un(a)}),jQuery(document).mouseup(function(a){c.Wn(a)}));this.a.Ad&&!this.a.nb&&AppMobi.accelerometer.watchAcceleration(fd,{frequency:40,adjustForRotation:h});this.a.Yc&&navigator.accelerometer.watchAcceleration(jd,k,{frequency:40});this.a.wo(this)};
Y.Xn=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.uf(a.pointerId),c=M();if(0<=b){var d=this.a.Ia?qd:jQuery(this.a.canvas).offset(),b=this.touches[b];2>c-b.time||(b.Pf=b.time,b.Gd=b.x,b.Hd=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};
Y.Yn=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.a.Ia?qd:jQuery(this.a.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=M();this.Kc=this.touches.length;this.sg=a.pointerId;this.touches.push({time:d,x:c,y:b,Pf:d,Gd:c,Hd:b,id:a.pointerId,xi:this.Kc});this.a.trigger(X.prototype.d.cj,this);this.a.trigger(X.prototype.d.fj,this);this.Ug=c;this.Vg=b;this.a.trigger(X.prototype.d.ej,this)}};
Y.Kk=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.uf(a.pointerId),this.Kc=0<=a?this.touches[a].xi:-1,this.sg=0<=a?this.touches[a].id:-1,this.a.trigger(X.prototype.d.bj,this),this.a.trigger(X.prototype.d.dj,this),0<=a&&this.touches.splice(a,1))};
Y.Lk=function(a){a.preventDefault&&a.preventDefault();var b=M(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.uf(e.identifier),0<=f){var g=this.a.Ia?qd:jQuery(this.a.canvas).offset();f=this.touches[f];2>b-f.time||(f.Pf=f.time,f.Gd=f.x,f.Hd=f.y,f.time=b,f.x=e.pageX-g.left,f.y=e.pageY-g.top)}};
Y.Mk=function(a){a.preventDefault&&a.preventDefault();var b=this.a.Ia?qd:jQuery(this.a.canvas).offset(),c=M(),d,e,f;d=0;for(e=a.changedTouches.length;d<e;d++){f=a.changedTouches[d];var g=f.pageX-b.left,i=f.pageY-b.top;this.Kc=this.touches.length;this.sg=f.identifier;this.touches.push({time:c,x:g,y:i,Pf:c,Gd:g,Hd:i,id:f.identifier,xi:this.Kc});this.a.trigger(X.prototype.d.cj,this);this.a.trigger(X.prototype.d.fj,this);this.Ug=g;this.Vg=i;this.a.trigger(X.prototype.d.ej,this)}};
Y.Rh=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.uf(d.identifier),this.Kc=0<=d?this.touches[d].xi:-1,this.sg=0<=d?this.touches[d].id:-1,this.a.trigger(X.prototype.d.bj,this),this.a.trigger(X.prototype.d.dj,this),0<=d&&this.touches.splice(d,1)};Y.Dp=function(){return this.a.Ad&&0===this.Me&&0!==id?90*id:this.a.Yc&&0===this.Me&&0!==md?90*md:this.Me};
Y.Ep=function(){return this.a.Ad&&0===this.Ne&&0!==hd?-90*hd:this.a.Yc&&0===this.Ne&&0!==ld?-90*ld:this.Ne};Y.Hp=function(){return this.a.Ad&&0===this.Oe&&0!==gd?90*gd:this.a.Yc&&0===this.Oe&&0!==kd?90*kd:this.Oe};Y.Un=function(a){a.preventDefault&&this.a.Af&&a.preventDefault();this.Mk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Kh=h};Y.Vn=function(a){a.preventDefault&&this.a.Af&&a.preventDefault();this.Kh&&this.Lk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};
Y.Wn=function(a){a.preventDefault&&this.a.Af&&a.preventDefault();this.a.Af=h;this.Rh({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Kh=m};Y.qg=function(){var a,b,c,d=M();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.Pf=d)};w=nd.prototype;w.fj=u(h);w.dj=u(h);w.Ri=function(){return this.touches.length};w.ej=function(a){return!a?m:this.a.vo(a,this.Ug,this.Vg)};w.cj=function(a){a=Math.floor(a);return a===this.Kc};
w.bj=function(a){a=Math.floor(a);return a===this.Kc};pd.d=new nd;od.prototype.Jg=function(a,b){if(this.touches.length){var c,d,e,f,g;da(b)?(c=this.a.re(0),d=c.scale,e=c.oc,f=c.Ac,g=c.e,c.scale=this.a.L.scale,c.oc=1,c.Ac=1,c.e=this.a.L.e,a.t(c.Ma(this.touches[0].x,this.touches[0].y,h)),c.scale=d,c.oc=e,c.Ac=f,c.e=g):(c=z(b)?this.a.re(b):this.a.nh(b))?a.t(c.Ma(this.touches[0].x,this.touches[0].y,h)):a.t(0)}else a.t(0)};
od.prototype.Yl=function(a,b){if(this.touches.length){var c,d,e,f,g;da(b)?(c=this.a.re(0),d=c.scale,e=c.oc,f=c.Bc,g=c.e,c.scale=this.a.L.scale,c.oc=1,c.Bc=1,c.e=this.a.L.e,a.t(c.Ma(this.touches[0].x,this.touches[0].y,m)),c.scale=d,c.oc=e,c.Bc=f,c.e=g):(c=z(b)?this.a.re(b):this.a.nh(b))?a.t(c.Ma(this.touches[0].x,this.touches[0].y,m)):a.t(0)}else a.t(0)};pd.A=new od;function rd(a){this.a=a}function sd(){}function td(){}var ud=rd.prototype;ud.P=function(a,b){this.Z=a;this.Le=b;this.a=a.a};
ud.P.prototype.v=n();ud.I=function(a,b){this.type=a;this.Z=a.Z;this.b=b;this.a=a.a};var vd=ud.I.prototype;vd.v=function(){var a=this.w[0];this.Mc=this.w[1];this.Gb=this.w[2];this.fm=0!==this.w[3];this.ki=0!==this.w[4];this.h=Math.cos(this.b.e)*a;this.l=Math.sin(this.b.e)*a;this.Gd=this.b.x;this.Hd=this.b.y;this.ec=this.b.e;this.il=0;this.enabled=h};
vd.Wa=function(){if(this.enabled){var a=this.a.yf(this.b),b,c;this.b.e!==this.ec&&(this.ki&&(b=L(0,0,this.h,this.l),this.h=Math.cos(this.b.e)*b,this.l=Math.sin(this.b.e)*b),this.ec=this.b.e);0!==this.Mc&&(b=L(0,0,this.h,this.l),c=0===this.h&&0===this.l?this.b.e:sa(0,0,this.h,this.l),b+=this.Mc*a,0>b&&(b=0),this.h=Math.cos(c)*b,this.l=Math.sin(c)*b);0!==this.Gb&&(this.l+=this.Gb*a);this.Gd=this.b.x;this.Hd=this.b.y;if(0!==this.h||0!==this.l)if(this.b.x+=this.h*a,this.b.y+=this.l*a,this.il+=L(0,0,this.h*
a,this.l*a),this.ki&&(this.b.e=sa(0,0,this.h,this.l),this.b.i(),this.ec=this.b.e),this.b.i(),this.fm&&(b=this.a.Ga(this.b)))this.a.Td(this.b,b),b=L(0,0,this.h,this.l),c=this.a.gm(this.b,this.Gd,this.Hd),this.h=Math.cos(c)*b,this.l=Math.sin(c)*b,this.b.x+=this.h*a,this.b.y+=this.l*a,this.b.i(),this.ki&&(this.ec=this.b.e=c,this.b.i()),this.a.Mb(this.b,this.h/b,this.l/b,Math.max(2.5*b*a,30))||this.a.Vk(this.b,100)}};ud.d=new (n());
sd.prototype.cf=function(a){var a=J(a),b=L(0,0,this.h,this.l);this.h=Math.cos(a)*b;this.l=Math.sin(a)*b};sd.prototype.ff=function(a){this.enabled=1===a};ud.f=new sd;td.prototype.kj=function(a){var b=L(0,0,this.h,this.l),b=Fa(b);a.t(b)};ud.A=new td;function wd(a){this.a=a}function xd(){}function yd(){}var zd=wd.prototype;zd.P=function(a,b){this.Z=a;this.Le=b;this.a=a.a};zd.P.prototype.v=n();zd.I=function(a,b){this.type=a;this.Z=a.Z;this.b=b;this.a=a.a};var Ad=zd.I.prototype;
Ad.v=function(){var a=1===this.w[0];this.fh=this.w[1];this.Mi=this.w[2];this.Nj=this.w[3];this.nm=this.w[4];this.hb=a?0:3;this.Ic=new Va;this.Ie=this.b.opacity?this.b.opacity:1;a&&(0===this.fh?(this.hb=1,0===this.Mi&&(this.hb=2)):(this.b.opacity=0,this.a.C=h))};
Ad.Wa=function(){this.Ic.add(this.a.yf(this.b));0===this.hb&&(this.b.opacity=this.Ic.Qa/this.fh*this.Ie,this.a.C=h,this.b.opacity>=this.Ie&&(this.b.opacity=this.Ie,this.hb=1,this.Ic.reset()));1===this.hb&&this.Ic.Qa>=this.Mi&&(this.hb=2,this.Ic.reset());2===this.hb&&0!==this.Nj&&(this.b.opacity=this.Ie-this.Ic.Qa/this.Nj*this.Ie,this.a.C=h,0>this.b.opacity&&(this.b.opacity=0,this.hb=3,this.Ic.reset(),this.a.trigger(wd.prototype.d.Dl,this.b),1===this.nm&&this.a.rd(this.b)))};
Ad.ym=function(){this.hb=0;this.Ic.reset();0===this.fh?(this.hb=1,0===this.Mi&&(this.hb=2)):(this.b.opacity=0,this.a.C=h)};xd.prototype.Dl=u(h);zd.d=new xd;yd.prototype.Tl=function(){3===this.hb&&this.ym()};zd.f=new yd;function Bd(a){this.a=a}function Cd(){}var Dd=Bd.prototype;Dd.P=function(a,b){this.Z=a;this.Le=b;this.a=a.a};Dd.P.prototype.v=n();Dd.I=function(a,b){this.type=a;this.Z=a.Z;this.b=b;this.a=a.a};var Ed=Dd.I.prototype;
Ed.v=function(){this.Ja=k;this.mode=this.ec=this.fl=this.Xf=this.ed=this.Uh=0;var a=this;this.Je=function(b){a.Nh(b)};this.a.Kg(this.Je)};Ed.Nh=function(a){this.Ja==a&&(this.Ja=k)};Ed.dd=function(){this.Ja=k;this.a.Wk(this.Je)};Ed.Wa=n();
Ed.qg=function(){if(this.Ja){this.ec!==this.b.e&&(this.Xf=K(this.Xf+(this.b.e-this.ec)));var a=this.b.x,b=this.b.y;if(3===this.mode||4===this.mode){var c=L(this.b.x,this.b.y,this.Ja.x,this.Ja.y);if(c>this.ed||4===this.mode&&c<this.ed)b=sa(this.Ja.x,this.Ja.y,this.b.x,this.b.y),a=this.Ja.x+Math.cos(b)*this.ed,b=this.Ja.y+Math.sin(b)*this.ed}else a=this.Ja.x+Math.cos(this.Ja.e+this.Uh)*this.ed,b=this.Ja.y+Math.sin(this.Ja.e+this.Uh)*this.ed;this.ec=c=K(this.Xf+(this.Ja.e-this.fl));if((0===this.mode||
1===this.mode||3===this.mode||4===this.mode)&&(this.b.x!==a||this.b.y!==b))this.b.x=a,this.b.y=b,this.b.i();if((0===this.mode||2===this.mode)&&this.b.e!==c)this.b.e=c,this.b.i()}};Dd.d=new (n());Cd.prototype.Eg=function(a,b){if(a){var c=a.gn();c&&(this.Ja=c,this.Uh=sa(c.x,c.y,this.b.x,this.b.y)-c.e,this.ed=L(c.x,c.y,this.b.x,this.b.y),this.ec=this.Xf=this.b.e,this.fl=c.e,this.mode=b)}};Dd.f=new Cd;Dd.A=new (n());function Z(a){this.a=a}function Fd(){}function Gd(){}function Hd(){}var Id=Z.prototype;
Id.P=function(a,b){this.Z=a;this.Le=b;this.a=a.a};Id.P.prototype.v=n();Id.I=function(a,b){this.type=a;this.Z=a.Z;this.b=b;this.a=a.a;this.mg=this.si=this.ri=this.En=this.Ce=this.Mf=this.fi=this.Ch=m;this.Kb=k;this.Tb=this.Ee=this.De=0;this.enabled=h;this.pe=0;this.Tj=h;this.l=this.h=0};var Jd=Id.I.prototype;
Jd.xo=function(){this.za=Math.cos(this.wf);this.Aa=Math.sin(this.wf);this.jd=Math.cos(this.wf-Math.PI/2);this.kd=Math.sin(this.wf-Math.PI/2);this.za=Fa(this.za);this.Aa=Fa(this.Aa);this.jd=Fa(this.jd);this.kd=Fa(this.kd);this.bn=this.Gb;0>this.Gb&&(this.za*=-1,this.Aa*=-1,this.Gb=Math.abs(this.Gb))};
Jd.v=function(){this.cd=this.w[0];this.Mc=this.w[1];this.of=this.w[2];this.Nn=this.w[3];this.bn=this.Gb=this.w[4];this.Ck=this.w[5];this.mm=1===this.w[6];this.yg=m;this.ql=this.a.kc(this.b);this.wf=J(90);this.xo();this.mm&&!this.a.Ia&&(jQuery(document).keydown(function(a){return function(c){a.Oh(c)}}(this)),jQuery(document).keyup(function(a){return function(c){a.Ph(c)}}(this)));var a=this;this.Je=function(b){a.Nh(b)};this.a.Kg(this.Je)};Jd.Nh=function(a){this.Kb==a&&(this.Kb=k)};
Jd.dd=function(){this.Kb=k;this.a.Wk(this.Je)};Jd.Oh=function(a){switch(a.which){case 38:a.preventDefault();this.Mf=h;break;case 37:a.preventDefault();this.Ch=h;break;case 39:a.preventDefault(),this.fi=h}};Jd.Ph=function(a){switch(a.which){case 38:a.preventDefault();this.Ce=this.Mf=m;break;case 37:a.preventDefault();this.Ch=m;break;case 39:a.preventDefault(),this.fi=m}};Jd.Gp=function(){return 0>this.Gb?-1:1};
Jd.jk=function(){var a=k,b=k,c,d;c=this.b.x;d=this.b.y;this.b.x+=this.za;this.b.y+=this.Aa;this.b.i();if(this.Kb&&this.a.Fa(this.b,this.Kb))return this.b.x=c,this.b.y=d,this.b.i(),this.Kb;a=this.a.Ga(this.b);!a&&0===this.pe&&(b=this.a.kc(this.b,h));this.b.x=c;this.b.y=d;this.b.i();if(a)return this.a.Fa(this.b,a)?k:a;if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.a.Fa(this.b,b[a])||d++;if(1<=d)return b[0]}return k};
Jd.Wa=function(){var a=this.a.yf(this.b),b,c,d,e,f,g,i,j,l;!this.Mf&&!this.mg&&(this.Ce=m);var p=this.Ch||this.ri;d=this.fi||this.si;var r=(this.Mf||this.mg)&&!this.Ce;this.mg=this.si=this.ri=m;if(this.enabled){this.En&&(r=d=p=m);j=this.Kb;l=m;this.Tj&&((this.a.Ga(this.b)||this.a.kc(this.b))&&this.a.Mb(this.b,-this.za,-this.Aa,4,h),this.Tj=m);if(j&&0===this.l&&(j.y!==this.Ee||j.x!==this.De))b=j.x-this.De,c=j.y-this.Ee,this.b.x+=b,this.b.y+=c,this.b.i(),this.De=j.x,this.Ee=j.y,l=h,this.a.Ga(this.b)&&
this.a.Mb(this.b,-b,-c,2.5*Math.sqrt(b*b+c*c));var q=this.jk();if(c=this.a.Ga(this.b))if(this.a.Vk(this.b,Math.max(this.b.width,this.b.height)/2))this.a.Td(this.b,c);else return;if(q){0<this.l&&(this.yg||(this.a.ai(this.b,-this.za,-this.Aa,q),this.yg=h),this.l=0);if(j!=q)this.Kb=q,this.De=q.x,this.Ee=q.y,this.a.Td(this.b,q);else if(l&&(c=this.a.Ga(this.b)))this.a.Td(this.b,c),0!==b&&(0<b?this.a.Mb(this.b,-this.jd,-this.kd):this.a.Mb(this.b,this.jd,this.kd)),this.a.Mb(this.b,-this.za,-this.Aa);r&&
(j=this.b.x,l=this.b.y,this.b.x-=this.za,this.b.y-=this.Aa,this.b.i(),this.a.Ga(this.b)?r=m:(this.l=-this.Nn,this.a.trigger(Z.prototype.d.Dg,this.b),this.Tb=2,this.Ce=h),this.b.x=j,this.b.y=l,this.b.i())}else this.Kb=k,this.l+=this.Gb*a,this.l>this.Ck&&(this.l=this.Ck),r&&(this.Ce=h);this.yg=!!q;p==d&&(0>this.h?(this.h+=this.of*a,0<this.h&&(this.h=0)):0<this.h&&(this.h-=this.of*a,0>this.h&&(this.h=0)));p&&!d&&(this.h=0<this.h?this.h-(this.Mc+this.of)*a:this.h-this.Mc*a);d&&!p&&(this.h=0>this.h?this.h+
(this.Mc+this.of)*a:this.h+this.Mc*a);this.h>this.cd?this.h=this.cd:this.h<-this.cd&&(this.h=-this.cd);if(0!==this.h){j=this.b.x;l=this.b.y;b=this.h*a*this.jd;c=this.h*a*this.kd;this.b.x+=this.jd*(1<this.h?1:-1)-this.za;this.b.y+=this.kd*(1<this.h?1:-1)-this.Aa;this.b.i();e=m;f=this.a.Ga(this.b);this.b.x=j+b;this.b.y=l+c;this.b.i();d=this.a.Ga(this.b);if(!d&&q&&(d=this.a.kc(this.b)))this.b.x=j,this.b.y=l,this.b.i(),this.a.Fa(this.b,d)?(d=k,e=m):e=h,this.b.x=j+b,this.b.y=l+c,this.b.i();if(d){if(p=
Math.abs(this.h*a)+2,f||!this.a.Mb(this.b,-this.za,-this.Aa,p,e,d)){this.a.Td(this.b,d);p=Math.max(Math.abs(2.5*this.h*a),30);if(!this.a.Mb(this.b,this.jd*(0>this.h?1:-1),this.kd*(0>this.h?1:-1),p,m))this.b.x=j,this.b.y=l,this.b.i();e||(this.h=0)}}else j=this.jk(),q&&!j?(c=Math.ceil(Math.abs(this.h*a))+2,j=this.b.x,l=this.b.y,this.b.x+=this.za*c,this.b.y+=this.Aa*c,this.b.i(),this.a.Ga(this.b)||this.a.kc(this.b)?this.a.Mb(this.b,-this.za,-this.Aa,c+2,h):(this.b.x=j,this.b.y=l,this.b.i())):j&&0===
this.l&&this.a.ai(this.b,-this.za,-this.Aa,j)}b=m;if(0!==this.l){j=this.b.x;l=this.b.y;this.b.x+=this.l*a*this.za;this.b.y+=this.l*a*this.Aa;p=this.b.x;d=this.b.y;this.b.i();c=this.a.Ga(this.b);e=m;if(!c&&0<this.l&&!q){if((e=0<this.pe?k:this.a.kc(this.b,h))&&e.length){if(this.ql){this.b.x=j;this.b.y=l;this.b.i();i=f=0;for(g=e.length;f<g;f++)e[i]=e[f],this.a.Fa(this.b,e[f])||i++;e.length=i;this.b.x=p;this.b.y=d;this.b.i()}1<=e.length&&(c=e[0])}e=!!c}c&&(this.a.Td(this.b,c),p=Math.max(Math.abs(2.5*
this.l*a+10),30),this.a.Mb(this.b,this.za*(0>this.l?1:-1),this.Aa*(0>this.l?1:-1),p,e,c)?(this.Kb=c,this.De=c.x,this.Ee=c.y,e&&(b=h)):(this.b.x=j,this.b.y=l,this.b.i(),this.yg=h),this.l=0)}3!==this.Tb&&(0<this.l&&!q)&&(this.a.trigger(Z.prototype.d.Xi,this.b),this.Tb=3);if(q||b)if(3===this.Tb||b||r&&0===this.l)this.a.trigger(Z.prototype.d.Yi,this.b),this.Tb=0===this.h&&0===this.l?0:1;else if(0!==this.Tb&&(0===this.h&&0===this.l)&&(this.a.trigger(Z.prototype.d.Jl,this.b),this.Tb=0),1!==this.Tb&&(0!==
this.h||0!==this.l)&&!r)this.a.trigger(Z.prototype.d.Il,this.b),this.Tb=1;0<this.pe&&this.pe--;this.ql=this.a.kc(this.b)}};w=Fd.prototype;w.Ti=function(){if(0!==this.l)return m;var a=k,b=k,c,d;c=this.b.x;d=this.b.y;this.b.x+=this.za;this.b.y+=this.Aa;this.b.i();a=this.a.Ga(this.b);!a&&0===this.pe&&(b=this.a.kc(this.b,h));this.b.x=c;this.b.y=d;this.b.i();if(a)return!this.a.Fa(this.b,a);if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.a.Fa(this.b,b[a])||d++;if(1<=d)return h}return m};
w.Dg=u(h);w.Xi=u(h);w.Jl=u(h);w.Il=u(h);w.Yi=u(h);Id.d=new Fd;Gd.prototype.Ml=function(a){this.cd=a;0>this.cd&&(this.cd=0)};Gd.prototype.jj=function(a){switch(a){case 0:this.ri=h;break;case 1:this.si=h;break;case 2:this.mg=h}};Gd.prototype.ff=function(a){this.enabled=1===a};Id.f=new Gd;Hd.prototype.kj=function(a){a.t(Math.sqrt(this.h*this.h+this.l*this.l))};Id.A=new Hd;function Kb(a){this.a=a}function Kd(){}var Ld=Kb.prototype;Ld.P=function(a,b){this.Z=a;this.Le=b;this.a=a.a};Ld.P.prototype.v=n();
Ld.I=function(a,b){this.type=a;this.Z=a.Z;this.b=b;this.a=a.a;this.b.S.nk=h};var Md=Ld.I.prototype;Md.v=n();Md.Wa=n();Kd.prototype.ff=function(a){this.b.S.nk=!!a};Ld.f=new Kd;function Ib(a){this.a=a}function Nd(){}var Od=Ib.prototype;Od.P=function(a,b){this.Z=a;this.Le=b;this.a=a.a};Od.P.prototype.v=n();Od.I=function(a,b){this.type=a;this.Z=a.Z;this.b=b;this.a=a.a;this.b.S.dl=h};var Pd=Od.I.prototype;Pd.v=n();Pd.Wa=n();Nd.prototype.ff=function(a){this.b.S.dl=!!a};Od.f=new Nd;
function kb(){return[k,k,[[X,h,m,m,m,m,m,m,m,m],[V,m,h,h,h,h,h,h,h,m],[Xc,m,h,h,h,h,h,h,h,m],[W,m,h,h,h,h,h,h,h,h],[mc,h,m,m,m,m,m,m,m,m],[S,h,m,m,m,m,m,m,m,m]],[["t0",W,m,0,1,0,["images/tiledbackground.png",4502,1],k,[["Bullet",rd]],m,m,[]],["t1",W,m,0,3,0,["images/block.png",224,1],k,[["Bullet",rd],["Jumpthru",Kb],["Solid",Ib]],m,m,[]],["t2",V,m,0,2,0,k,[["walk",5,m,1,0,m,[["images/player1-sheet0.png",6385,256,100,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],
0],["images/player1-sheet0.png",6385,327,100,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,398,106,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,1,195,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,72,195,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,
-0.285714,0.457447],0],["images/player1-sheet0.png",6385,143,195,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,214,195,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,285,195,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0]]],["jump",5,m,1,0,m,[["images/player1-sheet0.png",6385,1,100,84,94,1,0.5,0.5,[],[-0.285714,
-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,86,100,84,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0],["images/player1-sheet0.png",6385,171,100,84,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],0]]],["fall",5,m,1,0,m,[["images/player1-sheet0.png",6385,424,1,84,104,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.365385,-0.285714,0.365385],0]]],["atk",5,m,1,0,m,[["images/player1-sheet0.png",
6385,1,1,140,98,1,0.5,0.5,[],[-0.214286,-0.5,0.5,-0.5,0.5,0.5,-0.214286,0.5],0],["images/player1-sheet0.png",6385,142,1,140,98,1,0.5,0.5,[],[-0.214286,-0.5,0.5,-0.5,0.5,0.5,-0.214286,0.5],0],["images/player1-sheet0.png",6385,283,1,140,98,1,0.5,0.5,[],[-0.214286,-0.5,0.214286,-0.5,0.214286,0.5,-0.214286,0.5],0]]]],[["Platform",Z],["Pin",Bd]],m,m,[]],["t3",X,m,0,0,0,k,k,[],m,m,[],[1]],["t4",S,m,0,0,0,k,k,[],m,m,[],[]],["t5",Xc,m,0,0,0,k,k,[],m,m,[]],["t6",V,m,0,2,0,k,[["Default",5,m,1,0,m,[["images/bat-sheet0.png",
264,0,0,138,148,1,0.5,0.5,[],[-0.014493,-0.081081,0.427536,0,-0.014493,0.081081],0],["images/bat-sheet1.png",280,0,0,138,148,1,0.5,0.5,[],[-0.065217,-0.081081,0.413043,0,-0.065217,0.081081],0]]]],[["Bullet",rd],["Fade",wd]],m,m,[]],["t7",V,m,0,2,0,k,[["walk",5,m,1,0,m,[["images/dummy-sheet0.png",113,0,0,70,94,1,0.5,0.5,[],[-0.285714,-0.5,0.285714,-0.5,0.285714,0.457447,-0.285714,0.457447],3]]]],[["Platform",Z],["Pin",Bd]],m,m,[]],["t8",mc,m,0,0,0,k,k,[],m,m,[],[0]],["t9",V,m,0,2,0,k,[["walk",5,m,
1,0,m,[["images/dummysword-sheet0.png",696,0,0,140,98,1,0.5,0.5,[],[0,-0.27551,0.285714,-0.193877,0.5,0,0.285714,0.193878,0,0.295918],0]]]],[["Platform",Z],["Pin",Bd]],m,m,[]],["t10",W,m,0,0,0,["images/tiledbackground2.png",98,1],k,[],m,m,[]],["t11",V,m,0,2,0,k,[["walk",5,m,1,0,m,[["images/dummyjumpdetect-sheet0.png",116,0,0,94,94,1,0,0.5,[],[0,-0.5,1,-0.5,1,0.491667,0,0.489362],3]]]],[["Platform",Z],["Pin",Bd]],m,m,[]],["t12",Xc,m,0,0,0,k,k,[],m,m,[]]],[],[["Layout 1",630,360,m,"Event sheet 1",[["Background",
0,h,[255,255,255],m,1,1,1,m,1,0,0,[[[0,0,0,1260,298,0,0,1,0,0,0,0,[]],0,[],[[40,0,0,0,0]],[0,0]],[[-123,238,0,1071,131,0,0,1,0,0,0,0,[]],10,[],[],[0,0]]],[]],["Game",1,h,[255,255,255],h,1,1,1,m,1,0,0,[[[55.7133,232,0,960,128,0,0,1,0,0,0,0,[]],1,[],[[300,0,0,0,0],[],[]],[0,0]],[[105,183,0,94,94,0,0,1,0,0.5,0,0,[]],11,[],[[330,1500,1500,650,1500,1E3,1],[]],[0,0,1]]],[]],["Player",2,h,[255,255,255],h,1,1,1,m,1,0,0,[[[105,183,0,70,94,0,0,1,0.5,0.5,0,0,[]],2,[],[[330,1E4,1E4,650,1300,1E3,0],[]],[0,0,1]]],
[]],["UI",3,h,[255,255,255],h,0,0,1,m,1,0,0,[[[4,2,0,200,30,0,0,1,0,0,0,0,[]],5,[],[],["Text",0,"12pt Arial","rgb(255,255,255)",0,0,0,0,0]],[[214,-47,0,138,148,0,3.14159,1,0.5,0.5,0,0,[]],6,[],[[450,0,0,0,1],[0,0,0.2,0.1,1]],[0,0,1]],[[105,183,0,70,94,0,0,1,0.5,0.5,0,0,[]],7,[],[[330,1E4,1E4,650,1300,1E3,1],[]],[0,0,1]],[[105,183,0,140,98,0,0,0,0.5,0.5,0,0,[]],9,[],[[330,1500,1500,650,1500,1E3,1],[]],[0,0,1]],[[320,160,0,256,96,0,0,1,0.5,0.5,0,0,[]],12,[],[],["Game Over",1,"bold 20pt Arial","rgb(255,255,255)",
1,1,1,0,0]]],[]]],[],[]]],[["Event sheet 1",[[1,"Lost",0,0,m,m],[1,"DifficultyIncrease",0,0,m,m],[1,"Score",0,0,m,m],[1,"TotalDistance",0,0,m,m],[1,"CurrentDistance",0,0,m,m],[1,"NextBlock",0,600,m,m],[0,k,m,[[-1,Q.prototype.d.$i,k,1,m,m,m]],[[0,rd.prototype.f.cf,"Bullet",[[0,[0,180]]]],[1,rd.prototype.f.cf,"Bullet",[[0,[0,180]]]],[2,V.prototype.f.ef,k,[[0,[0,12]]]],[2,Bd.prototype.f.Eg,"Pin",[[4,7],[3,1]]],[9,Bd.prototype.f.Eg,"Pin",[[4,7],[3,1]]],[11,Bd.prototype.f.Eg,"Pin",[[4,7],[3,1]]],[8,mc.prototype.f.Play,
k,[[2,["mystical theme",h]],[3,1],[0,[0,-1]],[1,[2,"bgm"]]]]]],[0,k,m,[[0,W.prototype.d.bf,k,0,m,m,m,[[8,3],[0,[0,-256]]]]],[[0,W.prototype.f.Sl,k,[[0,[4,[20,0,W.prototype.A.Jg,m,k],[0,256]]]]]]],[0,k,m,[[7,Z.prototype.d.Ti,"Platform",0,m,m,m]],[[7,Z.prototype.f.jj,"Platform",[[3,1]]]]],[0,k,m,[[2,Z.prototype.d.Yi,"Platform",1,m,m,m]],[[2,V.prototype.f.df,k,[[1,[2,"walk"]],[3,1]]],[2,V.prototype.f.ef,k,[[0,[0,12]]]]]],[0,k,m,[[2,Z.prototype.d.Ti,"Platform",0,m,m,m]],[],[[0,k,h,[[4,S.prototype.d.Bg,
k,1,m,m,m],[4,S.prototype.d.Si,k,0,m,m,m,[[9,32]]],[4,S.prototype.d.Si,k,0,m,m,m,[[9,38]]],[3,X.prototype.d.Ri,k,0,m,m,m]],[[7,Z.prototype.f.jj,"Platform",[[3,2]]],[2,V.prototype.f.df,k,[[1,[2,"jump"]],[3,1]]]]]]],[0,k,m,[[7,Z.prototype.d.Dg,"Platform",1,m,m,m]],[[-1,Q.prototype.f.Hg,k,[[0,[1,0.05]]]],[8,mc.prototype.f.Play,k,[[2,["woosh",m]],[3,0],[0,[0,-5]],[1,[2,""]]]]]],[0,k,m,[[-1,Q.prototype.d.zg,k,0,m,m,m],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"Lost"],[8,0],[7,[0,0]]]]],[[-1,Q.prototype.f.be,
k,[[11,"CurrentDistance"],[7,[6,[22,1,"Bullet",rd.prototype.A.kj,m,k],[19,Q.prototype.A.Rc]]]]],[5,Xc.prototype.f.Pl,k,[[7,[10,[2,"Score: "],[23,"Score"]]]]],[7,Z.prototype.f.Ml,"Platform",[[0,[4,[0,260],[6,[1,0.06],[19,Q.prototype.A.om,[[20,7,V.prototype.A.Jg,m,k],[0,0],[0,1E3],[0,0]]]]]]]],[-1,Q.prototype.f.be,k,[[11,"Score"],[7,[0,1]]]]]],[0,k,m,[[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"CurrentDistance"],[8,5],[7,[23,"NextBlock"]]]],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"Lost"],[8,0],[7,[0,0]]]]],[[-1,
Q.prototype.f.Ul,k,[[11,"CurrentDistance"],[7,[23,"NextBlock"]]]],[-1,Q.prototype.f.Pi,k,[[4,1],[5,[2,"Game"]],[0,[0,0]],[0,[0,0]]]],[1,W.prototype.f.Ol,k,[[0,[6,[0,32],[19,Q.prototype.A.round,[[19,Q.prototype.A.random,[[5,[0,6],[6,[1,0.2],[23,"DifficultyIncrease"]]],[0,11]]]]]]],[0,[4,[0,32],[6,[0,32],[19,Q.prototype.A.round,[[19,Q.prototype.A.random,[[0,0],[0,4]]]]]]]]]],[1,W.prototype.f.Nl,k,[[0,[19,Q.prototype.A.On]],[0,[5,[19,Q.prototype.A.xk],[20,1,W.prototype.A.wl,m,k]]]]],[1,rd.prototype.f.cf,
"Bullet",[[0,[0,180]]]],[-1,Q.prototype.f.ij,k,[[11,"NextBlock"],[7,[4,[20,1,W.prototype.A.Ig,m,k],[6,[0,32],[19,Q.prototype.A.round,[[19,Q.prototype.A.random,[[0,0],[4,[0,4],[6,[1,0.4],[23,"DifficultyIncrease"]]]]]]]]]]]]]],[0,k,m,[[-1,Q.prototype.d.vl,k,0,m,m,m,[[0,[19,Q.prototype.A.random,[[0,1],[0,12]]]]]],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"Lost"],[8,0],[7,[0,0]]]]],[[-1,Q.prototype.f.Pi,k,[[4,6],[5,[0,1]],[0,[0,1E3]],[0,[19,Q.prototype.A.random,[[0,40],[0,160]]]]]],[6,rd.prototype.f.cf,"Bullet",
[[0,[19,Q.prototype.A.random,[[0,175],[0,185]]]]]],[6,V.prototype.f.Fg,k,[[3,1]]],[6,V.prototype.f.ef,k,[[0,[0,6]]]]]],[0,k,m,[[9,V.prototype.d.Bl,k,0,m,m,h,[[4,6]]]],[[6,wd.prototype.f.Tl,"Fade"],[2,V.prototype.f.df,k,[[1,[2,"atk"]],[3,1]]],[2,V.prototype.f.ef,k,[[0,[0,12]]]],[-1,Q.prototype.f.be,k,[[11,"Score"],[7,[0,250]]]],[6,V.prototype.f.Ll,k,[[3,0]]],[-1,Q.prototype.f.Hg,k,[[0,[1,0.1]]]],[8,mc.prototype.f.Play,k,[[2,["swing3",m]],[3,0],[0,[0,0]],[1,[2,""]]]]]],[0,k,m,[[6,V.prototype.d.bf,k,
0,m,m,m,[[8,2],[0,[3,[20,6,V.prototype.A.Ig,m,k]]]]]],[[6,V.prototype.f.Qi,k]]],[0,k,m,[[1,W.prototype.d.bf,k,0,m,m,m,[[8,2],[0,[3,[20,1,W.prototype.A.Ig,m,k]]]]]],[[1,W.prototype.f.Qi,k]]],[0,k,m,[[2,V.prototype.d.Ui,k,1,m,m,m,[[1,[2,"walk"]]]]],[[2,V.prototype.f.Fg,k,[[3,1]]]]],[0,k,m,[[7,Z.prototype.d.Xi,"Platform",1,m,m,m],[2,V.prototype.d.xl,k,0,m,m,m,[[1,[2,"atk"]]]],[2,V.prototype.d.sl,k,0,m,m,m,[[8,0],[0,[0,2]]]]],[[2,V.prototype.f.df,k,[[1,[2,"jump"]],[3,1]]],[2,V.prototype.f.Kl,k,[[0,[0,
3]]]]]],[0,k,m,[],[]],[0,k,m,[[-1,Q.prototype.d.Zi,k,1,m,m,m]],[[8,mc.prototype.f.lj,k,[[1,[2,"bgm"]]]]]],[0,k,m,[[7,Z.prototype.d.Dg,"Platform",1,m,m,m],[11,V.prototype.d.yl,k,0,m,m,m,[[4,1]]]],[[1,Ib.prototype.f.ff,"Solid",[[3,0]]]]],[0,k,m,[[-1,Q.prototype.d.zg,k,0,m,m,m],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"DifficultyIncrease"],[8,3],[7,[1,5.5]]]]],[[-1,Q.prototype.f.be,k,[[11,"DifficultyIncrease"],[7,[1,0.00425]]]]]],[0,k,m,[[-1,Q.prototype.d.zg,k,0,m,m,m],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,
"DifficultyIncrease"],[8,3],[7,[0,9]]]]],[[-1,Q.prototype.f.be,k,[[11,"DifficultyIncrease"],[7,[1,0.00225]]]]]],[0,k,m,[[6,V.prototype.d.Vi,k,1,m,m,m]],[[6,V.prototype.f.Fg,k,[[3,1]]]]],[0,k,h,[[2,V.prototype.d.tl,k,0,m,m,m,[[8,4],[0,[19,Q.prototype.A.xk]]]],[2,V.prototype.d.bf,k,0,m,m,m,[[8,2],[0,[0,-400]]]]],[[8,mc.prototype.f.lj,k,[[1,[2,"bgm"]]]],[12,Xc.prototype.f.Ql,k,[[3,1]]],[-1,Q.prototype.f.Hg,k,[[0,[1,0.01]]]],[-1,Q.prototype.f.ij,k,[[11,"Lost"],[7,[0,1]]]]]],[0,k,m,[[4,S.prototype.d.Bg,
k,1,m,m,m],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"Lost"],[8,0],[7,[0,1]]]]],[[-1,Q.prototype.f.gj,k],[-1,Q.prototype.f.hj,k]]],[0,k,m,[[3,X.prototype.d.Ri,k,0,m,m,m],[-1,Q.prototype.d.pc,k,0,m,m,m,[[11,"Lost"],[8,0],[7,[0,1]]]]],[[-1,Q.prototype.f.gj,k],[-1,Q.prototype.f.hj,k]]]]]],"media/",m,630,360,3,h,h,h,"1.0",2,m,0,m,[]]};
